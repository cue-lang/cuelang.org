<!doctype html>
<html lang="en" dir="ltr" class="no-js">
    <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Configuration is one of CUE’s core tasks. People often start using CUE because it makes it safer and easier to produce new configuration files and to validate …">
<meta name="generator" content="Hugo 0.128.2">

<meta name="robots" content="noindex, nofollow">

<link rel="canonical" href="https://cuelang.org/docs/concept/how-cue-enables-configuration/" />
<link rel="shortcut icon" href="/favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/webmanifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#232a68">
<meta name="msapplication-TileColor" content="#232a68">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#232a68">

<title>How CUE enables configuration | CUE</title><meta property="og:url" content="/docs/concept/how-cue-enables-configuration/">
  <meta property="og:site_name" content="CUE">
  <meta property="og:title" content="How CUE enables configuration">
  <meta property="og:description" content="Configuration is one of CUE’s core tasks. People often start using CUE because it makes it safer and easier to produce new configuration files and to validate existing files - but its capabilities run deeper. In this guide we’ll begin with the basics of how CUE makes configuration better, and then explore the potential of some of its more advanced features for configuration. Here’s what you’ll find in this guide:
Validating existing configuration files Type checking Generating configurations Reducing boilerplate Tooling and automation Abstractions versus direct access ">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-05-23T16:51:37+01:00">
    <meta property="og:image" content="/img/social.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="/img/social.png">
  <meta name="twitter:title" content="How CUE enables configuration">
  <meta name="twitter:description" content="Configuration is one of CUE’s core tasks. People often start using CUE because it makes it safer and easier to produce new configuration files and to validate existing files - but its capabilities run deeper. In this guide we’ll begin with the basics of how CUE makes configuration better, and then explore the potential of some of its more advanced features for configuration. Here’s what you’ll find in this guide:
Validating existing configuration files Type checking Generating configurations Reducing boilerplate Tooling and automation Abstractions versus direct access ">





<link rel="preload" href="/scss/main.min.5f958419895202b4511c3d207a9db7e3dc877eddb9992250d095086969c7b1c4.css" as="style">
<link href="/scss/main.min.5f958419895202b4511c3d207a9db7e3dc877eddb9992250d095086969c7b1c4.css" rel="stylesheet" integrity="">



<link rel="preload" href="/fonts/inter/regular.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/500.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/700.woff2" as="font" crossorigin="anonymous">



<script>(()=>{document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js")})()</script>
</head>
    <body itemscope itemtype="https://schema.org/WebPage">
        <meta itemprop="name" content="How CUE enables configuration">
<meta itemprop="description" content="Configuration is one of CUE&rsquo;s core tasks. People often start using CUE
because it makes it safer and easier to produce new configuration files and
to validate existing files - but its capabilities run deeper.
In this guide we&rsquo;ll begin with the basics of how CUE makes configuration better,
and then explore the potential of some of its more advanced features for configuration.
Here&rsquo;s what you&rsquo;ll find in this guide:

Validating existing configuration files
Type checking
Generating configurations
Reducing boilerplate
Tooling and automation
Abstractions versus direct access
">

    
        <meta itemprop="dateModified" content="2025-05-23T16:51:37+01:00" >
    
            
        <meta itemprop="image" content="/img/social.png"/>
            
    <meta itemprop="keywords" content="validation,workflow command," />

        <a id="skip-nav" class="skip-link" href="#site-main" target="_self">Skip to content</a>

        <div class="site">
            <header id="site-header" class="site__header">
                

<div class="header header--wide" data-header>
    <div class="header__container">
        <div class="header__background"></div>

        <div class="header__branding">
            <a href="/" class="header__logo" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </div>

        <div class="header__main">
            <nav class="nav nav--main" aria-label="Main menu">
                <ul class="nav__list">
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/docs/"><span class="nav__text">Documentation</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/play/"><span class="nav__text">Play</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/community/"><span class="nav__text">Community</span></a>
                        </li>
                    
                </ul>
            </nav>
        </div>

        <div class="header__secondary">
            <div class="header__icons">
                <nav class="nav nav--social" aria-label="Social">
                    <ul class="nav__list"><li class="nav__item"><a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/slack">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--slack"></use>
</svg>

                                    <span class="nav__text">Slack</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/discord">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-discord"></use>
</svg>

                                    <span class="nav__text">Discord</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-youtube"></use>
</svg>

                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li></ul>
                </nav>
            </div>

            <div class="header__cta"><a class="button button--skinny"
                       href="/docs/introduction/installation/"><span class="button__text">Install</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--download"></use>
</svg>
</a></div>

            <div class="header__search" data-menu>
                <a href="/search" class="button button--icon button--white-simple" rel="search" data-menu-dropdown="header-dropdown-search">



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--search"></use>
</svg>
<span>Search</span>
                </a>

                <div class="header__dropdown header__dropdown--search" data-menu-dropdown-target="header-dropdown-search">
                    <p class="header__search-title">What are you looking for?</p>





<div data-search-autocomplete="menu"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-menu"></div>
</div>
</div>
            </div>

            <div class="header__toggle">
                <button class="button button--outline" data-drawer-toggle="menu" aria-haspopup="menu" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="button__text">Menu</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--menu"></use>
</svg>
</button>
            </div>
        </div>
    </div>
</div>

            </header>

            <main id="site-main" class="site__content" itemprop="mainContentOfPage">
                

    <div class="docs" data-docs>
        <div class="docs__main">
            <nav class="breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb__list">
    

    
    

    
        <li class="breadcrumb__item"><a class="breadcrumb__link" href="/docs/concept/">Concept Guides</a></li>
    
    

    
        <li class="breadcrumb__item" aria-current="page"><h1 class="breadcrumb__text">How CUE enables configuration</h1></li>
    
    </ol>
</nav>


            <article class="article article--docs" itemscope itemtype="https://schema.org/TechArticle">
                <meta itemprop="articleBody" content="Configuration is one of CUE&rsquo;s core tasks. People often start using CUE
because it makes it safer and easier to produce new configuration files and
to validate existing files - but its capabilities run deeper.
In this guide we&rsquo;ll begin with the basics of how CUE makes configuration better,
and then explore the potential of some of its more advanced features for configuration.
Here&rsquo;s what you&rsquo;ll find in this guide:

Validating existing configuration files
Type checking
Generating configurations
Reducing boilerplate
Tooling and automation
Abstractions versus direct access


    




    

Validating existing configuration files
An easy first step with CUE is using the cue command to check that
existing configuration files are valid.
Checks can be added to an existing configuration-handling process without
teaching any of the other components about CUE because the language and tooling
make it easy to adopt CUE incrementally.
Validation can start as small and simple as verifying only specific parts of a
configuration&rsquo;s data. Then, as confidence increases that the range of
information the system contains is well understood, the scope of the validation
can be expanded. CUE makes it possible to delay fully describing a
configuration until it makes sense to do so, whilst still getting the benefit
of robust validation from the start.
In this example we use cue vet to validate just a couple of important fields
in a larger automated testing configuration file, and we catch a mistake before
it has the chance to affect a deployment:







    




    





            




    


                            Copied!
                        
                    check.cue
            
        
            




    


                            Copied!
                        
                    .github/workflows/deploy-to-ecs.yml
            
        


    




    





                Copy code
                
                    Copied!
                
            Workflow: {
	jobs: deploy: {
		// environment must be specified.
		environment!: string
		// Production deployments must be performed from a supported runner.
		if environment == &#34;production&#34; {
			&#34;runs-on&#34;!: &#34;ubuntu-latest&#34;
		}
	}
}


                Copy code
                
                    Copied!
                
            # Adapted from https://github.com/actions/starter-workflows/blob/main/deployments/aws.yml
name: Deploy to Amazon ECS

on:
  push:
    branches: [ $default-branch ]

env:
  AWS_REGION: MY_AWS_REGION
  ECR_REPOSITORY: MY_ECR_REPOSITORY
  ECS_SERVICE: MY_ECS_SERVICE
  ECS_CLUSTER: MY_ECS_CLUSTER
  ECS_TASK_DEFINITION: MY_ECS_TASK_DEFINITION
  CONTAINER_NAME: MY_CONTAINER_NAME

permissions:
  contents: read

jobs:
  deploy:
    name: Deploy
    runs-on: ubuntu-20.04
    environment: production

    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Configure AWS credentials
      uses: aws-actions/configure-aws-credentials@v1
      with:
        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        aws-region: ${{ env.AWS_REGION }}

    - name: Login to Amazon ECR
      id: login-ecr
      uses: aws-actions/amazon-ecr-login@v1

    - name: Build, tag, and push image to Amazon ECR
      id: build-image
      env:
        ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}
        IMAGE_TAG: ${{ github.sha }}
      run: |
        docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG .
        docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG
        echo &#34;image=$ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG&#34; &gt;&gt; $GITHUB_OUTPUT        

    - name: Fill in the new image ID in the Amazon ECS task definition
      id: task-def
      uses: aws-actions/amazon-ecs-render-task-definition@v1
      with:
        task-definition: ${{ env.ECS_TASK_DEFINITION }}
        container-name: ${{ env.CONTAINER_NAME }}
        image: ${{ steps.build-image.outputs.image }}

    - name: Deploy Amazon ECS task definition
      uses: aws-actions/amazon-ecs-deploy-task-definition@v1
      with:
        task-definition: ${{ steps.task-def.outputs.task-definition }}
        service: ${{ env.ECS_SERVICE }}
        cluster: ${{ env.ECS_CLUSTER }}
        wait-for-service-stability: true











            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue vet -c check.cue .github/workflows/deploy-to-ecs.yml -d &#39;Workflow&#39;
jobs.deploy.&#34;runs-on&#34;: conflicting values &#34;ubuntu-latest&#34; and &#34;ubuntu-20.04&#34;:
    .github/workflows/deploy-to-ecs.yml:22:14
    ./check.cue:7:16







    




    

Type checking
When teams work in a large codebase,
they often need their programming languages to help them by providing
type safety for their code.
CUE brings that same rigor to configuration and data.
In fact, CUE goes further than many programming languages,
which can commonly validate only basic data types.
In CUE, types and values are
a unified concept.
This important property gives the language highly expressive typing
capabilities whilst being both intuitive and concise.
Here&rsquo;s an example of cue vet checking aSpec.yaml against the schema #Spec
that contains some of the types and constraints CUE can encode, along with the
detail that&rsquo;s provided when validation fails:







            




    


                            Copied!
                        
                    spec.cue
            
        


                Copy code
                
                    Copied!
                
            import &#34;strings&#34;

#Spec: {
	// Required string. Must not contain &#34;-&#34;.
	name!: string &amp; !~&#34;-&#34;
	// Required. One of three options.
	kind!: &#34;app&#34; | &#34;VM&#34; | &#34;service&#34;
	// Required. Must match name and kind fields.
	id!: strings.HasPrefix(name &#43; &#34;-&#34; &#43; kind &#43; &#34;-&#34;)
	// Optional. Must be a float or an int.
	maxLoad?: number
	users?: {
		// Optional ints. If specified, min
		// must be strictly less than max.
		max?: int &amp; &gt;min
		min?: int &amp; &lt;max
	}
}











            




    


                            Copied!
                        
                    aSpec.yaml
            
        


                Copy code
                
                    Copied!
                
            name: production-www-svc
kind: service
id:   production-www-svc-4fc78
users:
  min: 1024
  max: 1024
maxLoad: &#34;4.2&#34;











            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue vet -c spec.cue aSpec.yaml -d &#39;#Spec&#39;
maxLoad: conflicting values &#34;4.2&#34; and number (mismatched types string and number):
    ./aSpec.yaml:7:10
    ./spec.cue:11:12
name: invalid value &#34;production-www-svc&#34; (out of bound !~&#34;-&#34;):
    ./spec.cue:5:18
    ./aSpec.yaml:1:7
    ./spec.cue:5:9
users.min: invalid value 1024 (out of bound &lt;1024):
    ./spec.cue:16:15
    ./aSpec.yaml:5:8







    




    

Generating configurations
Validating existing configuration files reduces risk for many
operations-related processes, but wouldn&rsquo;t it be useful to shift the
validation left and stop incorrect configuration values from entering the
system in the first place?
By describing a configuration&rsquo;s different elements in discrete CUE schemas and
policies, folks who contribute data to a configuration can check it
against these definitions before the data is used.
Developers can be confident that updating their existing configuration-related
tools won&rsquo;t cause a later validation or process to fail - allowing them to make
changes with more certainty.
The same discrete schemas and policies can be used when operations processes
generate complete configurations.
Whether the inputs and outputs need to be JSON, YAML, CUE, or a mix of all three,
the cue command can assemble data and values from disparate sources - all
whilst checking the same constraints that were available to the developer.
In this next example we see four files combining data with requirements,
or constraints, from multiple stakeholders:



File
Purpose
Stakeholders




schema.cue
Specifies a deployment&rsquo;s input data and output configuration
Agreed by the whole team


policy.cue
Asserts that certain values meet specific constraints
Management, Product, and Operations


deploy.cue
Contributes operational data only available during a deployment
Operations


values.yml
Contains the details of an app needing deployment
Application developers




Because the configuration is valid the cue command unifies all four files&rsquo; data;
transforms it into the output field (in deploy.cue); and
exports a JSON file for the deployment process to use:







    




    





            




    


                            Copied!
                        
                    schema.cue
            
        
            




    


                            Copied!
                        
                    policy.cue
            
        
            




    


                            Copied!
                        
                    deploy.cue
            
        
            




    


                            Copied!
                        
                    values.yml
            
        


    




    





                Copy code
                
                    Copied!
                
            package config

App: {
	name!:       string
	memory!:     int
	replicas!:   int
	replicaMem?: number
}

Config: {
	id!:           string
	appName!:      string
	appMemory!:    int
	replicaCount!: int
	clusterName!:  string
	region!:       string
}


                Copy code
                
                    Copied!
                
            package config

import &#34;strings&#34;

App: {
	name!:      !~#&#34;\.&#34;# // no dots
	memory:     &gt;=1024 &amp; &lt;10240
	replicas:   &gt;=2
	replicaMem: memory/replicas &amp; &gt;=1024
}

Config: {
	appName:      strings.MaxRunes(62)
	appMemory:    &gt;=(replicaCount * 1024)
	replicaCount: &gt;=2
	clusterName:  &#34;PROD&#34; | &#34;STAGE&#34; | &#34;DEV&#34;
	region:       &#34;EU&#34; | &#34;NA&#34; | &#34;APAC&#34; | &#34;AMEA&#34;
}


                Copy code
                
                    Copied!
                
            package config

import &#34;strings&#34;

app: App
deployment: region:  &#34;AMEA&#34;
deployment: cluster: &#34;PROD&#34;

output: Config &amp; {
	appName:      &#34;\(app.name).service&#34;
	appMemory:    app.memory
	replicaCount: app.replicas
	region:       deployment.region
	clusterName:  deployment.cluster
	id: strings.ToLower(strings.Join(
		[appName, clusterName, region], &#34;.&#34;))
}


                Copy code
                
                    Copied!
                
            app:
  name: frontend-ng
  memory: 3072
  replicas: 3











            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue export . values.yml -e output
{
    &#34;appMemory&#34;: 3072,
    &#34;appName&#34;: &#34;frontend-ng.service&#34;,
    &#34;clusterName&#34;: &#34;PROD&#34;,
    &#34;id&#34;: &#34;frontend-ng.service.prod.amea&#34;,
    &#34;region&#34;: &#34;AMEA&#34;,
    &#34;replicaCount&#34;: 3
}






But watch what happens when a developer updates their replicas field with a
setting which causes a policy violation on the derived value of the
replicaMem field.
An early cue vet on the developer&rsquo;s laptop helps prevent a deployment failure
by shortening their feedback cycle:







            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue vet -c . values.yml -d &#39;{ app: App }&#39;
app.replicaMem: invalid value 768.0 (out of bound &gt;=1024):
    ./policy.cue:9:32
    ./policy.cue:9:14











    




    





            




    


                            Copied!
                        
                    values.yml
            
        
            




    


                            Copied!
                        
                    schema.cue
            
        
            




    


                            Copied!
                        
                    policy.cue
            
        


    




    





                Copy code
                
                    Copied!
                
            app:
  name: frontend-ng
  memory: 3072
  # 20% more traffic expected: increase replica baseline from 3.
  replicas: 4


                Copy code
                
                    Copied!
                
            package config

App: {
	name!:       string
	memory!:     int
	replicas!:   int
	replicaMem?: number
}

Config: {
	id!:           string
	appName!:      string
	appMemory!:    int
	replicaCount!: int
	clusterName!:  string
	region!:       string
}


                Copy code
                
                    Copied!
                
            package config

import &#34;strings&#34;

App: {
	name:       !~#&#34;\.&#34;# // no dots
	memory:     &gt;=1024 &amp; &lt;10240
	replicas:   &gt;=2
	replicaMem: memory/replicas &amp; &gt;=1024
}

Config: {
	appName:      strings.MaxRunes(62)
	appMemory:    &gt;=(replicaCount * 1024)
	replicaCount: &gt;=2
	clusterName:  &#34;PROD&#34; | &#34;STAGE&#34; | &#34;DEV&#34;
	region:       &#34;EU&#34; | &#34;NA&#34; | &#34;APAC&#34; | &#34;AMEA&#34;
}






CUE&rsquo;s processing model allows these kinds of benefits to persist at scale, no
matter how many people and teams feed data and constraints into the process:

The powerful
&ldquo;types are values&rdquo;
concept merges the handling of basic types, concrete data, and the
constraints that apply to values.
The language disallows &ldquo;overrides&rdquo;, so the location where a specific value
originates is never in doubt.
The
order-independent
unification
of values and constraints removes the need for confusing, overlapping
defaults that can be painful to understand.

That last point is really powerful:
CUE&rsquo;s constraints
unify, like any other value.
This allows schemas and policies simply to state the values and limits that
they need to enforce,
whilst CUE does the hard work of checking that all their constraints are
compatible and that any configuration data meets the combined requirements.

    




    

Reducing boilerplate
CUE has several language features that allow configuration sources to reduce boilerplate
- as well as a command that removes boilerplate automatically!

Here&rsquo;s a short example that demonstrates a couple of features that
make it really productive to describe configurations in CUE:
templates and
defaults.
Notice how the job struct, at the top of jobs.cue, contains only the
unique detail that defines each entry.
This allows each job&rsquo;s important data to stand out,
uncluttered by the common information that&rsquo;s added elsewhere in the file:







            




    


                            Copied!
                        
                    jobs.cue
            
        


                Copy code
                
                    Copied!
                
            job: {
	nginx: replicas:  2
	manager: command: &#34;monit -I&#34;
	policyd: _
	boltdb: replicas:   3
	postgres: replicas: 5
}

// This template&#39;s constraints are unified with
// each member of the job struct.
job: [Name=_]: {
	name: Name
	// command can be set, but has a default.
	command: string | *&#34;exec \(Name)&#34;
	// replicas can be set, but defaults to 1.
	replicas: uint | *1
}

// Databases are important, so increase the replica
// minimum for members of the job struct whose keys
// match #DB.
job: [#DB]: replicas: &gt;=3
#DB: &#34;postgres&#34; | &#34;mysql&#34; | =~&#34;db$&#34;











            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue export jobs.cue --out yaml
job:
  nginx:
    replicas: 2
    name: nginx
    command: exec nginx
  manager:
    command: monit -I
    name: manager
    replicas: 1
  policyd:
    name: policyd
    command: exec policyd
    replicas: 1
  boltdb:
    replicas: 3
    name: boltdb
    command: exec boltdb
  postgres:
    replicas: 5
    name: postgres
    command: exec postgres







    




    

Tooling and automation

As we&rsquo;ve seen, CUE can validate multiple sources of data and transform them
into a unified, vetted configuration for a target system.
When dealing with multiple systems, CUE&rsquo;s ability to transform the same
inputs into several different forms can often be sufficient.
But what happens when components need to be configured using information that&rsquo;s
only available from other components?
The rise of complex systems requiring complicated or lengthy configurations
has been paired with a rise of even more specialized tools,
such as kubectl, etcdctl, or crossplane.
The core operation of many of these tools is pretty similar, accepting
configurations in complex forms that are only suitable for their specific use.
Some of these tools have significant overlaps in functionality, along with
areas where they&rsquo;re particularly strong - and yet linking them together or
composing them is painful, as they haven&rsquo;t been designed for interoperability.
This is where CUE&rsquo;s tooling layer can help, using
&ldquo;workflow commands&rdquo; to extend CUE configurations and enable data-driven workflows.
Workflow commands allow the particular strengths of existing, individual
tools to be harnessed, by allowing configurations to be built up incrementally.
The output of each tool can be processed through CUE&rsquo;s powerful language
constraints, before being transformed and used as the validated input that
drives the next tool.
The tooling layer enables declarative specification of how external data,
schema, and policy are combined by modifying CUE&rsquo;s normal operation and
allowing tasks to fetch information directly from external sources.
Reading files, calling APIs, invoking external commands, fetching files from
source control - if it can be scripted, then a workflow command can extract
its information to use as data, schema, and policy.


For more information on workflow commands, and how their ability to
deterministically combine data from static and dynamic sources can supercharge
automation, see the
cue help commands
reference documentation.

    




    

Abstractions versus direct access
Abstractions can be a powerful mechanism for protecting a user from detail they
don&rsquo;t need to know, whilst guarding them against mistakes or misuse of the
system or API being abstracted.
But they come with a significant downside: the extra toil and investment that&rsquo;s
required to keep the abstraction up to date with changes in the systems they
encapsulate. Over time, unmaintained abstractions inevitably drift, and
even a maintained abstraction over a third-party, as-a-service system can
discover drift after the fact, instead of being able to prevent it.
Additionally, abstractions don&rsquo;t just need to handle drift against upstream
systems - they also require an ongoing time investment in delivering feature
parity with new upstream capabilities .
To ease this tension between protection and agility, consider using CUE&rsquo;s
fine-grained type and constraints to impose strong limits on the known,
important values and structures that drive a system, whilst permitting looser
validation of the surrounding, perhaps unknown, fields. Layering detailed,
cascading constraints over APIs and systems, without developing an abstraction
layer, allows more agile teams to take immediate advantage of upstream feature
releases whilst still protecting the core functions relied on by all teams.
If this approach isn&rsquo;t suitable for your situation, take advantage of CUE&rsquo;s
order irrelevance
to build abstractions that control API requests or configurations to your
specific requirements.

    




    

Next steps
Interested in learning more about CUE? Here&rsquo;s what you could try next:

Test out CUE in your browser, with the CUE playground
Take a tour through the CUE language
Read about the technologies that CUE directly integrates with

">
<meta itemprop="wordCount" content="2254">


                <div class="article__container">
                    




        <header class="article__header">
        <div class="article__info"><div class="article__authors">


<div class="authors">
    
        
        

        
            <details class="authors__item" data-dropdown>
                <summary class="authors__avatar">
                    <img class="authors__image" src="https://github.com/jpluscplusm.png" alt="jpluscplusm">

                    
                        <span class="authors__display-name">Jonathan Matthews</span>
                    
                </summary>

                <div class="authors--popover">
                    <div class="authors__avatar">
                        <img class="authors__image" src="https://github.com/jpluscplusm.png" alt="jpluscplusm">

                        <div class="authors__name">
                            
                                <span class="authors__display-name">Jonathan Matthews</span>
                            

                        </div>
                    </div>

                    <div class="authors__links">
                        <div class="authors__github">

                            <a class="authors__link" href="https://github.com/jpluscplusm">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Github profile</span>
                                </p>
                            </a>
                        </div>

                        <div class="authors__search">
                            <a class="authors__link" href="/search/?q=author:jpluscplusm">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--search"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Search all content by this author</span>
                                </p>
                            </a>
                        </div>
                    </div>
                </div>
            </details>
        
    
</div>
</div><div class="article__tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:validation"
                class="tag tag--lilac">
                    validation
                </a>
            </li><li class="list__item"><a href="/search?q=tag:%22workflow%20command%22"
                class="tag tag--blue">
                    workflow command
                </a>
            </li></ul>

</div></div></header>



                    <div class="article__content">
                        
                            <p><strong>Configuration is one of CUE&rsquo;s core tasks</strong>. People often start using CUE
because it makes it <em>safer and easier</em> to produce new configuration files and
to validate existing files - but its capabilities run deeper.
In this guide we&rsquo;ll begin with the basics of how CUE makes configuration better,
and then explore the potential of some of its more advanced features for configuration.
Here&rsquo;s what you&rsquo;ll find in this guide:</p>
<ul>
<li><a href="/docs/concept/how-cue-enables-configuration/#validating-existing-configuration-files">Validating existing configuration files</a></li>
<li><a href="/docs/concept/how-cue-enables-configuration/#type-checking">Type checking</a></li>
<li><a href="/docs/concept/how-cue-enables-configuration/#generating-configurations">Generating configurations</a></li>
<li><a href="/docs/concept/how-cue-enables-configuration/#reducing-boilerplate">Reducing boilerplate</a></li>
<li><a href="/docs/concept/how-cue-enables-configuration/#tooling-and-automation">Tooling and automation</a></li>
<li><a href="/docs/concept/how-cue-enables-configuration/#abstractions-versus-direct-access">Abstractions versus direct access</a></li>
</ul>
<h2 id="validating-existing-configuration-files">
    <a href="#validating-existing-configuration-files" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Validating existing configuration files</h2>
<p>An easy first step with CUE is using the <code>cue</code> command to <strong>check that
existing configuration files are valid</strong>.</p>
<p>Checks can be added to an existing configuration-handling process without
teaching any of the other components about CUE because the language and tooling
make it easy to adopt CUE <em>incrementally</em>.</p>
<p>Validation can start as small and simple as verifying only specific parts of a
configuration&rsquo;s data. Then, as confidence increases that the range of
information the system contains is well understood, the scope of the validation
can be expanded. CUE makes it possible to delay <em>fully</em> describing a
configuration until it makes sense to do so, whilst still getting the benefit
of robust validation from the start.</p>
<p>In this example we use <code>cue vet</code> to validate just a couple of important fields
in a larger automated testing configuration file, and we catch a mistake before
it has the chance to affect a deployment:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><button class="tabs-nav__pagination tabs-nav__pagination--prev is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-left"></use>
</svg>
</span>
</button>

<ul class="tabs-nav__tabs"><li class="tabs-nav__item">
            <button
                data-tab-item="check.cue"
                data-tab-group="default"
                class="tabs-nav__tab is-active"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="check.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>check.cue
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item=".github/workflows/deploy-to-ecs.yml"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value=".github/workflows/deploy-to-ecs.yml">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>.github/workflows/deploy-to-ecs.yml
            </button>
        </li></ul>

<button class="tabs-nav__pagination tabs-nav__pagination--next is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-right"></use>
</svg>
</span>
</button></div>

<div class="tabs__content"><div data-tab-item="check.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="V29ya2Zsb3c6IHsKCWpvYnM6IGRlcGxveTogewoJCS8vIGVudmlyb25tZW50IG11c3QgYmUgc3BlY2lmaWVkLgoJCWVudmlyb25tZW50ITogc3RyaW5nCgkJLy8gUHJvZHVjdGlvbiBkZXBsb3ltZW50cyBtdXN0IGJlIHBlcmZvcm1lZCBmcm9tIGEgc3VwcG9ydGVkIHJ1bm5lci4KCQlpZiBlbnZpcm9ubWVudCA9PSAicHJvZHVjdGlvbiIgewoJCQkicnVucy1vbiIhOiAidWJ1bnR1LWxhdGVzdCIKCQl9Cgl9Cn0=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span>Workflow<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	jobs<span style="font-weight:bold">:</span> deploy<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#998;font-style:italic">// environment must be specified.</span>
</span></span><span style="display:flex;"><span>		environment<span style="font-weight:bold">!:</span> <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#998;font-style:italic">// Production deployments must be performed from a supported runner.</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">if</span> environment <span style="font-weight:bold">==</span> <span style="color:#b84">&#34;production&#34;</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#b84">&#34;runs-on&#34;</span><span style="font-weight:bold">!:</span> <span style="color:#b84">&#34;ubuntu-latest&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div><div data-tab-item=".github/workflows/deploy-to-ecs.yml"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="IyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FjdGlvbnMvc3RhcnRlci13b3JrZmxvd3MvYmxvYi9tYWluL2RlcGxveW1lbnRzL2F3cy55bWwKbmFtZTogRGVwbG95IHRvIEFtYXpvbiBFQ1MKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczogWyAkZGVmYXVsdC1icmFuY2ggXQoKZW52OgogIEFXU19SRUdJT046IE1ZX0FXU19SRUdJT04KICBFQ1JfUkVQT1NJVE9SWTogTVlfRUNSX1JFUE9TSVRPUlkKICBFQ1NfU0VSVklDRTogTVlfRUNTX1NFUlZJQ0UKICBFQ1NfQ0xVU1RFUjogTVlfRUNTX0NMVVNURVIKICBFQ1NfVEFTS19ERUZJTklUSU9OOiBNWV9FQ1NfVEFTS19ERUZJTklUSU9OCiAgQ09OVEFJTkVSX05BTUU6IE1ZX0NPTlRBSU5FUl9OQU1FCgpwZXJtaXNzaW9uczoKICBjb250ZW50czogcmVhZAoKam9iczoKICBkZXBsb3k6CiAgICBuYW1lOiBEZXBsb3kKICAgIHJ1bnMtb246IHVidW50dS0yMC4wNAogICAgZW52aXJvbm1lbnQ6IHByb2R1Y3Rpb24KCiAgICBzdGVwczoKICAgIC0gbmFtZTogQ2hlY2tvdXQKICAgICAgdXNlczogYWN0aW9ucy9jaGVja291dEB2MwoKICAgIC0gbmFtZTogQ29uZmlndXJlIEFXUyBjcmVkZW50aWFscwogICAgICB1c2VzOiBhd3MtYWN0aW9ucy9jb25maWd1cmUtYXdzLWNyZWRlbnRpYWxzQHYxCiAgICAgIHdpdGg6CiAgICAgICAgYXdzLWFjY2Vzcy1rZXktaWQ6ICR7eyBzZWNyZXRzLkFXU19BQ0NFU1NfS0VZX0lEIH19CiAgICAgICAgYXdzLXNlY3JldC1hY2Nlc3Mta2V5OiAke3sgc2VjcmV0cy5BV1NfU0VDUkVUX0FDQ0VTU19LRVkgfX0KICAgICAgICBhd3MtcmVnaW9uOiAke3sgZW52LkFXU19SRUdJT04gfX0KCiAgICAtIG5hbWU6IExvZ2luIHRvIEFtYXpvbiBFQ1IKICAgICAgaWQ6IGxvZ2luLWVjcgogICAgICB1c2VzOiBhd3MtYWN0aW9ucy9hbWF6b24tZWNyLWxvZ2luQHYxCgogICAgLSBuYW1lOiBCdWlsZCwgdGFnLCBhbmQgcHVzaCBpbWFnZSB0byBBbWF6b24gRUNSCiAgICAgIGlkOiBidWlsZC1pbWFnZQogICAgICBlbnY6CiAgICAgICAgRUNSX1JFR0lTVFJZOiAke3sgc3RlcHMubG9naW4tZWNyLm91dHB1dHMucmVnaXN0cnkgfX0KICAgICAgICBJTUFHRV9UQUc6ICR7eyBnaXRodWIuc2hhIH19CiAgICAgIHJ1bjogfAogICAgICAgIGRvY2tlciBidWlsZCAtdCAkRUNSX1JFR0lTVFJZLyRFQ1JfUkVQT1NJVE9SWTokSU1BR0VfVEFHIC4KICAgICAgICBkb2NrZXIgcHVzaCAkRUNSX1JFR0lTVFJZLyRFQ1JfUkVQT1NJVE9SWTokSU1BR0VfVEFHCiAgICAgICAgZWNobyAiaW1hZ2U9JEVDUl9SRUdJU1RSWS8kRUNSX1JFUE9TSVRPUlk6JElNQUdFX1RBRyIgPj4gJEdJVEhVQl9PVVRQVVQKCiAgICAtIG5hbWU6IEZpbGwgaW4gdGhlIG5ldyBpbWFnZSBJRCBpbiB0aGUgQW1hem9uIEVDUyB0YXNrIGRlZmluaXRpb24KICAgICAgaWQ6IHRhc2stZGVmCiAgICAgIHVzZXM6IGF3cy1hY3Rpb25zL2FtYXpvbi1lY3MtcmVuZGVyLXRhc2stZGVmaW5pdGlvbkB2MQogICAgICB3aXRoOgogICAgICAgIHRhc2stZGVmaW5pdGlvbjogJHt7IGVudi5FQ1NfVEFTS19ERUZJTklUSU9OIH19CiAgICAgICAgY29udGFpbmVyLW5hbWU6ICR7eyBlbnYuQ09OVEFJTkVSX05BTUUgfX0KICAgICAgICBpbWFnZTogJHt7IHN0ZXBzLmJ1aWxkLWltYWdlLm91dHB1dHMuaW1hZ2UgfX0KCiAgICAtIG5hbWU6IERlcGxveSBBbWF6b24gRUNTIHRhc2sgZGVmaW5pdGlvbgogICAgICB1c2VzOiBhd3MtYWN0aW9ucy9hbWF6b24tZWNzLWRlcGxveS10YXNrLWRlZmluaXRpb25AdjEKICAgICAgd2l0aDoKICAgICAgICB0YXNrLWRlZmluaXRpb246ICR7eyBzdGVwcy50YXNrLWRlZi5vdXRwdXRzLnRhc2stZGVmaW5pdGlvbiB9fQogICAgICAgIHNlcnZpY2U6ICR7eyBlbnYuRUNTX1NFUlZJQ0UgfX0KICAgICAgICBjbHVzdGVyOiAke3sgZW52LkVDU19DTFVTVEVSIH19CiAgICAgICAgd2FpdC1mb3Itc2VydmljZS1zdGFiaWxpdHk6IHRydWU=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Adapted from https://github.com/actions/starter-workflows/blob/main/deployments/aws.yml</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Deploy to Amazon ECS<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">on</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">push</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">branches</span>:<span style="color:#bbb"> </span>[<span style="color:#bbb"> </span>$default-branch ]<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">env</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">AWS_REGION</span>:<span style="color:#bbb"> </span>MY_AWS_REGION<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">ECR_REPOSITORY</span>:<span style="color:#bbb"> </span>MY_ECR_REPOSITORY<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">ECS_SERVICE</span>:<span style="color:#bbb"> </span>MY_ECS_SERVICE<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">ECS_CLUSTER</span>:<span style="color:#bbb"> </span>MY_ECS_CLUSTER<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">ECS_TASK_DEFINITION</span>:<span style="color:#bbb"> </span>MY_ECS_TASK_DEFINITION<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">CONTAINER_NAME</span>:<span style="color:#bbb"> </span>MY_CONTAINER_NAME<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">permissions</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">contents</span>:<span style="color:#bbb"> </span>read<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">jobs</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">deploy</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Deploy<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">runs-on</span>:<span style="color:#bbb"> </span>ubuntu-20.04<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">environment</span>:<span style="color:#bbb"> </span>production<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">steps</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Checkout<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">uses</span>:<span style="color:#bbb"> </span>actions/checkout@v3<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Configure AWS credentials<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">uses</span>:<span style="color:#bbb"> </span>aws-actions/configure-aws-credentials@v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">with</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">aws-access-key-id</span>:<span style="color:#bbb"> </span>${{ secrets.AWS_ACCESS_KEY_ID }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">aws-secret-access-key</span>:<span style="color:#bbb"> </span>${{ secrets.AWS_SECRET_ACCESS_KEY }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">aws-region</span>:<span style="color:#bbb"> </span>${{ env.AWS_REGION }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Login to Amazon ECR<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">id</span>:<span style="color:#bbb"> </span>login-ecr<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">uses</span>:<span style="color:#bbb"> </span>aws-actions/amazon-ecr-login@v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Build, tag, and push image to Amazon ECR<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">id</span>:<span style="color:#bbb"> </span>build-image<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">env</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">ECR_REGISTRY</span>:<span style="color:#bbb"> </span>${{ steps.login-ecr.outputs.registry }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">IMAGE_TAG</span>:<span style="color:#bbb"> </span>${{ github.sha }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">run</span>:<span style="color:#bbb"> </span>|<span style="color:#b84">
</span></span></span><span style="display:flex;"><span><span style="color:#b84">        docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG .
</span></span></span><span style="display:flex;"><span><span style="color:#b84">        docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG
</span></span></span><span style="display:flex;"><span><span style="color:#b84">        echo &#34;image=$ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG&#34; &gt;&gt; $GITHUB_OUTPUT</span><span style="color:#bbb">        
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Fill in the new image ID in the Amazon ECS task definition<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">id</span>:<span style="color:#bbb"> </span>task-def<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">uses</span>:<span style="color:#bbb"> </span>aws-actions/amazon-ecs-render-task-definition@v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">with</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">task-definition</span>:<span style="color:#bbb"> </span>${{ env.ECS_TASK_DEFINITION }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">container-name</span>:<span style="color:#bbb"> </span>${{ env.CONTAINER_NAME }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">image</span>:<span style="color:#bbb"> </span>${{ steps.build-image.outputs.image }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>Deploy Amazon ECS task definition<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">uses</span>:<span style="color:#bbb"> </span>aws-actions/amazon-ecs-deploy-task-definition@v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">with</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">task-definition</span>:<span style="color:#bbb"> </span>${{ steps.task-def.outputs.task-definition }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">service</span>:<span style="color:#bbb"> </span>${{ env.ECS_SERVICE }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">cluster</span>:<span style="color:#bbb"> </span>${{ env.ECS_CLUSTER }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000080">wait-for-service-stability</span>:<span style="color:#bbb"> </span><span style="font-weight:bold">true</span></span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--bottom">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIHZldCAtYyBjaGVjay5jdWUgLmdpdGh1Yi93b3JrZmxvd3MvZGVwbG95LXRvLWVjcy55bWwgLWQgJ1dvcmtmbG93Jw==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue vet -c check.cue .github/workflows/deploy-to-ecs.yml -d &#39;Workflow&#39;
jobs.deploy.&#34;runs-on&#34;: conflicting values &#34;ubuntu-latest&#34; and &#34;ubuntu-20.04&#34;:
    .github/workflows/deploy-to-ecs.yml:22:14
    ./check.cue:7:16</code></pre></div>
</div>
</div></div>
</div>

</div></div>

<h2 id="type-checking">
    <a href="#type-checking" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Type checking</h2>
<p>When teams work in a large codebase,
they often need their programming languages to help them by providing
<a href="https://en.wikipedia.org/wiki/Type_safety">type safety</a> for their code.
<strong>CUE brings that same rigor to configuration and data.</strong>
In fact, CUE goes <em>further</em> than many programming languages,
which can commonly validate only basic data types.</p>
<p>In CUE, types and values are
<a href="/docs/tour/basics/types-are-values/">a <em>unified</em> concept</a>.
This important property gives the language highly expressive typing
capabilities whilst being both intuitive and concise.</p>
<p>Here&rsquo;s an example of <code>cue vet</code> checking <code>aSpec.yaml</code> against the schema <code>#Spec</code>
that contains some of the types and constraints CUE can encode, along with the
detail that&rsquo;s provided when validation fails:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top-left">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="spec.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="spec.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>spec.cue
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="spec.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="aW1wb3J0ICJzdHJpbmdzIgoKI1NwZWM6IHsKCS8vIFJlcXVpcmVkIHN0cmluZy4gTXVzdCBub3QgY29udGFpbiAiLSIuCgluYW1lITogc3RyaW5nICYgIX4iLSIKCS8vIFJlcXVpcmVkLiBPbmUgb2YgdGhyZWUgb3B0aW9ucy4KCWtpbmQhOiAiYXBwIiB8ICJWTSIgfCAic2VydmljZSIKCS8vIFJlcXVpcmVkLiBNdXN0IG1hdGNoIG5hbWUgYW5kIGtpbmQgZmllbGRzLgoJaWQhOiBzdHJpbmdzLkhhc1ByZWZpeChuYW1lICsgIi0iICsga2luZCArICItIikKCS8vIE9wdGlvbmFsLiBNdXN0IGJlIGEgZmxvYXQgb3IgYW4gaW50LgoJbWF4TG9hZD86IG51bWJlcgoJdXNlcnM/OiB7CgkJLy8gT3B0aW9uYWwgaW50cy4gSWYgc3BlY2lmaWVkLCBtaW4KCQkvLyBtdXN0IGJlIHN0cmljdGx5IGxlc3MgdGhhbiBtYXguCgkJbWF4PzogaW50ICYgPm1pbgoJCW1pbj86IGludCAmIDxtYXgKCX0KfQ==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#b84">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#Spec<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Required string. Must not contain &#34;-&#34;.</span>
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">!:</span> <span style="color:#458;font-weight:bold">string</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">!~</span><span style="color:#b84">&#34;-&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Required. One of three options.</span>
</span></span><span style="display:flex;"><span>	kind<span style="font-weight:bold">!:</span> <span style="color:#b84">&#34;app&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;VM&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;service&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Required. Must match name and kind fields.</span>
</span></span><span style="display:flex;"><span>	id<span style="font-weight:bold">!:</span> strings.HasPrefix(name <span style="font-weight:bold">+</span> <span style="color:#b84">&#34;-&#34;</span> <span style="font-weight:bold">+</span> kind <span style="font-weight:bold">+</span> <span style="color:#b84">&#34;-&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Optional. Must be a float or an int.</span>
</span></span><span style="display:flex;"><span>	maxLoad<span style="font-weight:bold">?:</span> number
</span></span><span style="display:flex;"><span>	users<span style="font-weight:bold">?:</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#998;font-style:italic">// Optional ints. If specified, min</span>
</span></span><span style="display:flex;"><span>		<span style="color:#998;font-style:italic">// must be strictly less than max.</span>
</span></span><span style="display:flex;"><span>		max<span style="font-weight:bold">?:</span> <span style="color:#458;font-weight:bold">int</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&gt;</span>min
</span></span><span style="display:flex;"><span>		min<span style="font-weight:bold">?:</span> <span style="color:#458;font-weight:bold">int</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&lt;</span>max
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--top-right">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="aspec.yaml"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="aSpec.yaml">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>aSpec.yaml
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="aspec.yaml"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="bmFtZTogcHJvZHVjdGlvbi13d3ctc3ZjCmtpbmQ6IHNlcnZpY2UKaWQ6ICAgcHJvZHVjdGlvbi13d3ctc3ZjLTRmYzc4CnVzZXJzOgogIG1pbjogMTAyNAogIG1heDogMTAyNAptYXhMb2FkOiAiNC4yIg==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>production-www-svc<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">kind</span>:<span style="color:#bbb"> </span>service<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">id</span>:<span style="color:#bbb">   </span>production-www-svc-4fc78<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">users</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">min</span>:<span style="color:#bbb"> </span><span style="color:#099">1024</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">max</span>:<span style="color:#bbb"> </span><span style="color:#099">1024</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">maxLoad</span>:<span style="color:#bbb"> </span><span style="color:#b84">&#34;4.2&#34;</span></span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--bottom">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIHZldCAtYyBzcGVjLmN1ZSBhU3BlYy55YW1sIC1kICcjU3BlYyc=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue vet -c spec.cue aSpec.yaml -d &#39;#Spec&#39;
maxLoad: conflicting values &#34;4.2&#34; and number (mismatched types string and number):
    ./aSpec.yaml:7:10
    ./spec.cue:11:12
name: invalid value &#34;production-www-svc&#34; (out of bound !~&#34;-&#34;):
    ./spec.cue:5:18
    ./aSpec.yaml:1:7
    ./spec.cue:5:9
users.min: invalid value 1024 (out of bound &lt;1024):
    ./spec.cue:16:15
    ./aSpec.yaml:5:8</code></pre></div>
</div>
</div></div>
</div>

</div></div>

<h2 id="generating-configurations">
    <a href="#generating-configurations" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Generating configurations</h2>
<p>Validating existing configuration files reduces risk for many
operations-related processes, but wouldn&rsquo;t it be useful to <strong>shift the
validation left</strong> and stop incorrect configuration values from entering the
system in the first place?</p>
<p>By describing a configuration&rsquo;s different elements in discrete CUE schemas and
policies, folks who contribute data to a configuration can check it
against these definitions before the data is used.
Developers can be confident that updating their existing configuration-related
tools won&rsquo;t cause a later validation or process to fail - allowing them to make
changes with more certainty.</p>
<p>The same discrete schemas and policies can be used when operations processes
generate complete configurations.
Whether the inputs and outputs need to be JSON, YAML, CUE, or a mix of all three,
the <code>cue</code> command can assemble data and values from disparate sources - all
whilst checking the same constraints that were available to the developer.</p>
<p>In this next example we see four files combining data with requirements,
or <em>constraints</em>, from multiple stakeholders:</p>
<div class="table"><table>
<thead>
<tr>
<th style="text-align:center">File</th>
<th>Purpose</th>
<th>Stakeholders</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>schema.cue</code></td>
<td>Specifies a deployment&rsquo;s input data and output configuration</td>
<td>Agreed by the whole team</td>
</tr>
<tr>
<td style="text-align:center"><code>policy.cue</code></td>
<td>Asserts that certain values meet specific constraints</td>
<td>Management, Product, and Operations</td>
</tr>
<tr>
<td style="text-align:center"><code>deploy.cue</code></td>
<td>Contributes operational data only available during a deployment</td>
<td>Operations</td>
</tr>
<tr>
<td style="text-align:center"><code>values.yml</code></td>
<td>Contains the details of an app needing deployment</td>
<td>Application developers</td>
</tr>
</tbody>
</table>
</div>
<p>Because the configuration is valid the <code>cue</code> command unifies all four files&rsquo; data;
transforms it into the <code>output</code> field (in <code>deploy.cue</code>); and
exports a JSON file for the deployment process to use:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--left">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><button class="tabs-nav__pagination tabs-nav__pagination--prev is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-left"></use>
</svg>
</span>
</button>

<ul class="tabs-nav__tabs"><li class="tabs-nav__item">
            <button
                data-tab-item="schema.cue"
                data-tab-group="default"
                class="tabs-nav__tab is-active"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="schema.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>schema.cue
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item="policy.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="policy.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>policy.cue
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item="deploy.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="deploy.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>deploy.cue
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item="values.yml"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="values.yml">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>values.yml
            </button>
        </li></ul>

<button class="tabs-nav__pagination tabs-nav__pagination--next is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-right"></use>
</svg>
</span>
</button></div>

<div class="tabs__content"><div data-tab-item="schema.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBjb25maWcKCkFwcDogewoJbmFtZSE6ICAgICAgIHN0cmluZwoJbWVtb3J5ITogICAgIGludAoJcmVwbGljYXMhOiAgIGludAoJcmVwbGljYU1lbT86IG51bWJlcgp9CgpDb25maWc6IHsKCWlkITogICAgICAgICAgIHN0cmluZwoJYXBwTmFtZSE6ICAgICAgc3RyaW5nCglhcHBNZW1vcnkhOiAgICBpbnQKCXJlcGxpY2FDb3VudCE6IGludAoJY2x1c3Rlck5hbWUhOiAgc3RyaW5nCglyZWdpb24hOiAgICAgICBzdHJpbmcKfQ==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>App<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">!:</span>       <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	memory<span style="font-weight:bold">!:</span>     <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicas<span style="font-weight:bold">!:</span>   <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicaMem<span style="font-weight:bold">?:</span> number
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Config<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	id<span style="font-weight:bold">!:</span>           <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	appName<span style="font-weight:bold">!:</span>      <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	appMemory<span style="font-weight:bold">!:</span>    <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicaCount<span style="font-weight:bold">!:</span> <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	clusterName<span style="font-weight:bold">!:</span>  <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	region<span style="font-weight:bold">!:</span>       <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div><div data-tab-item="policy.cue"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBjb25maWcKCmltcG9ydCAic3RyaW5ncyIKCkFwcDogewoJbmFtZSE6ICAgICAgIX4jIlwuIiMgLy8gbm8gZG90cwoJbWVtb3J5OiAgICAgPj0xMDI0ICYgPDEwMjQwCglyZXBsaWNhczogICA&#43;PTIKCXJlcGxpY2FNZW06IG1lbW9yeS9yZXBsaWNhcyAmID49MTAyNAp9CgpDb25maWc6IHsKCWFwcE5hbWU6ICAgICAgc3RyaW5ncy5NYXhSdW5lcyg2MikKCWFwcE1lbW9yeTogICAgPj0ocmVwbGljYUNvdW50ICogMTAyNCkKCXJlcGxpY2FDb3VudDogPj0yCgljbHVzdGVyTmFtZTogICJQUk9EIiB8ICJTVEFHRSIgfCAiREVWIgoJcmVnaW9uOiAgICAgICAiRVUiIHwgIk5BIiB8ICJBUEFDIiB8ICJBTUVBIgp9">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#b84">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>App<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">!:</span>      <span style="font-weight:bold">!~</span><span style="color:#b84">#&#34;\.&#34;#</span> <span style="color:#998;font-style:italic">// no dots</span>
</span></span><span style="display:flex;"><span>	memory<span style="font-weight:bold">:</span>     <span style="font-weight:bold">&gt;=</span><span style="color:#099">1024</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&lt;</span><span style="color:#099">10240</span>
</span></span><span style="display:flex;"><span>	replicas<span style="font-weight:bold">:</span>   <span style="font-weight:bold">&gt;=</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>	replicaMem<span style="font-weight:bold">:</span> memory<span style="font-weight:bold">/</span>replicas <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">1024</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Config<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	appName<span style="font-weight:bold">:</span>      strings.MaxRunes(<span style="color:#099">62</span>)
</span></span><span style="display:flex;"><span>	appMemory<span style="font-weight:bold">:</span>    <span style="font-weight:bold">&gt;=</span>(replicaCount <span style="font-weight:bold">*</span> <span style="color:#099">1024</span>)
</span></span><span style="display:flex;"><span>	replicaCount<span style="font-weight:bold">:</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>	clusterName<span style="font-weight:bold">:</span>  <span style="color:#b84">&#34;PROD&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;STAGE&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;DEV&#34;</span>
</span></span><span style="display:flex;"><span>	region<span style="font-weight:bold">:</span>       <span style="color:#b84">&#34;EU&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;NA&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;APAC&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;AMEA&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div><div data-tab-item="deploy.cue"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBjb25maWcKCmltcG9ydCAic3RyaW5ncyIKCmFwcDogQXBwCmRlcGxveW1lbnQ6IHJlZ2lvbjogICJBTUVBIgpkZXBsb3ltZW50OiBjbHVzdGVyOiAiUFJPRCIKCm91dHB1dDogQ29uZmlnICYgewoJYXBwTmFtZTogICAgICAiXChhcHAubmFtZSkuc2VydmljZSIKCWFwcE1lbW9yeTogICAgYXBwLm1lbW9yeQoJcmVwbGljYUNvdW50OiBhcHAucmVwbGljYXMKCXJlZ2lvbjogICAgICAgZGVwbG95bWVudC5yZWdpb24KCWNsdXN0ZXJOYW1lOiAgZGVwbG95bWVudC5jbHVzdGVyCglpZDogc3RyaW5ncy5Ub0xvd2VyKHN0cmluZ3MuSm9pbigKCQlbYXBwTmFtZSwgY2x1c3Rlck5hbWUsIHJlZ2lvbl0sICIuIikpCn0=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#b84">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app<span style="font-weight:bold">:</span> App
</span></span><span style="display:flex;"><span>deployment<span style="font-weight:bold">:</span> region<span style="font-weight:bold">:</span>  <span style="color:#b84">&#34;AMEA&#34;</span>
</span></span><span style="display:flex;"><span>deployment<span style="font-weight:bold">:</span> cluster<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;PROD&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>output<span style="font-weight:bold">:</span> Config <span style="font-weight:bold">&amp;</span> {
</span></span><span style="display:flex;"><span>	appName<span style="font-weight:bold">:</span>      <span style="color:#b84">&#34;</span><span style="color:#b84">\(</span>app.name<span style="color:#b84">)</span><span style="color:#b84">.service&#34;</span>
</span></span><span style="display:flex;"><span>	appMemory<span style="font-weight:bold">:</span>    app.memory
</span></span><span style="display:flex;"><span>	replicaCount<span style="font-weight:bold">:</span> app.replicas
</span></span><span style="display:flex;"><span>	region<span style="font-weight:bold">:</span>       deployment.region
</span></span><span style="display:flex;"><span>	clusterName<span style="font-weight:bold">:</span>  deployment.cluster
</span></span><span style="display:flex;"><span>	id<span style="font-weight:bold">:</span> strings.ToLower(strings.Join(
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">[</span>appName<span style="font-weight:bold">,</span> clusterName<span style="font-weight:bold">,</span> region<span style="font-weight:bold">],</span> <span style="color:#b84">&#34;.&#34;</span>))
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div><div data-tab-item="values.yml"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="YXBwOgogIG5hbWU6IGZyb250ZW5kLW5nCiAgbWVtb3J5OiAzMDcyCiAgcmVwbGljYXM6IDM=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#000080">app</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>frontend-ng<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">memory</span>:<span style="color:#bbb"> </span><span style="color:#099">3072</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">replicas</span>:<span style="color:#bbb"> </span><span style="color:#099">3</span></span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--right">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIGV4cG9ydCAuIHZhbHVlcy55bWwgLWUgb3V0cHV0">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue export . values.yml -e output
{
    &#34;appMemory&#34;: 3072,
    &#34;appName&#34;: &#34;frontend-ng.service&#34;,
    &#34;clusterName&#34;: &#34;PROD&#34;,
    &#34;id&#34;: &#34;frontend-ng.service.prod.amea&#34;,
    &#34;region&#34;: &#34;AMEA&#34;,
    &#34;replicaCount&#34;: 3
}</code></pre></div>
</div>
</div></div>
</div>

</div></div>

<p>But watch what happens when a developer updates their <code>replicas</code> field with a
setting which causes a policy violation on the <em>derived</em> value of the
<code>replicaMem</code> field.
An early <code>cue vet</code> on the developer&rsquo;s laptop helps prevent a deployment failure
by shortening their feedback cycle:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIHZldCAtYyAuIHZhbHVlcy55bWwgLWQgJ3sgYXBwOiBBcHAgfSc=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue vet -c . values.yml -d &#39;{ app: App }&#39;
app.replicaMem: invalid value 768.0 (out of bound &gt;=1024):
    ./policy.cue:9:32
    ./policy.cue:9:14</code></pre></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--bottom">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><button class="tabs-nav__pagination tabs-nav__pagination--prev is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-left"></use>
</svg>
</span>
</button>

<ul class="tabs-nav__tabs"><li class="tabs-nav__item">
            <button
                data-tab-item="values.yml"
                data-tab-group="default"
                class="tabs-nav__tab is-active"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="values.yml">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>values.yml
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item="schema.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="schema.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>schema.cue
            </button>
        </li><li class="tabs-nav__item">
            <button
                data-tab-item="policy.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><span title="Copy filename" class="tabs-nav__copy"  data-copy-button data-copy-type="text" data-copy-value="policy.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </span>policy.cue
            </button>
        </li></ul>

<button class="tabs-nav__pagination tabs-nav__pagination--next is-hidden">
    <span class="tabs-nav__icon">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-right"></use>
</svg>
</span>
</button></div>

<div class="tabs__content"><div data-tab-item="values.yml"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="YXBwOgogIG5hbWU6IGZyb250ZW5kLW5nCiAgbWVtb3J5OiAzMDcyCiAgIyAyMCUgbW9yZSB0cmFmZmljIGV4cGVjdGVkOiBpbmNyZWFzZSByZXBsaWNhIGJhc2VsaW5lIGZyb20gMy4KICByZXBsaWNhczogNA==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#000080">app</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>frontend-ng<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">memory</span>:<span style="color:#bbb"> </span><span style="color:#099">3072</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># 20% more traffic expected: increase replica baseline from 3.</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">replicas</span>:<span style="color:#bbb"> </span><span style="color:#099">4</span></span></span></code></pre></div></div>
</div>
</div><div data-tab-item="schema.cue"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBjb25maWcKCkFwcDogewoJbmFtZSE6ICAgICAgIHN0cmluZwoJbWVtb3J5ITogICAgIGludAoJcmVwbGljYXMhOiAgIGludAoJcmVwbGljYU1lbT86IG51bWJlcgp9CgpDb25maWc6IHsKCWlkITogICAgICAgICAgIHN0cmluZwoJYXBwTmFtZSE6ICAgICAgc3RyaW5nCglhcHBNZW1vcnkhOiAgICBpbnQKCXJlcGxpY2FDb3VudCE6IGludAoJY2x1c3Rlck5hbWUhOiAgc3RyaW5nCglyZWdpb24hOiAgICAgICBzdHJpbmcKfQ==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>App<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">!:</span>       <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	memory<span style="font-weight:bold">!:</span>     <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicas<span style="font-weight:bold">!:</span>   <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicaMem<span style="font-weight:bold">?:</span> number
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Config<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	id<span style="font-weight:bold">!:</span>           <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	appName<span style="font-weight:bold">!:</span>      <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	appMemory<span style="font-weight:bold">!:</span>    <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	replicaCount<span style="font-weight:bold">!:</span> <span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>	clusterName<span style="font-weight:bold">!:</span>  <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	region<span style="font-weight:bold">!:</span>       <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div><div data-tab-item="policy.cue"
            data-tab-group="default"
            class="tabs__item "
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBjb25maWcKCmltcG9ydCAic3RyaW5ncyIKCkFwcDogewoJbmFtZTogICAgICAgIX4jIlwuIiMgLy8gbm8gZG90cwoJbWVtb3J5OiAgICAgPj0xMDI0ICYgPDEwMjQwCglyZXBsaWNhczogICA&#43;PTIKCXJlcGxpY2FNZW06IG1lbW9yeS9yZXBsaWNhcyAmID49MTAyNAp9CgpDb25maWc6IHsKCWFwcE5hbWU6ICAgICAgc3RyaW5ncy5NYXhSdW5lcyg2MikKCWFwcE1lbW9yeTogICAgPj0ocmVwbGljYUNvdW50ICogMTAyNCkKCXJlcGxpY2FDb3VudDogPj0yCgljbHVzdGVyTmFtZTogICJQUk9EIiB8ICJTVEFHRSIgfCAiREVWIgoJcmVnaW9uOiAgICAgICAiRVUiIHwgIk5BIiB8ICJBUEFDIiB8ICJBTUVBIgp9">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#b84">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>App<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">:</span>       <span style="font-weight:bold">!~</span><span style="color:#b84">#&#34;\.&#34;#</span> <span style="color:#998;font-style:italic">// no dots</span>
</span></span><span style="display:flex;"><span>	memory<span style="font-weight:bold">:</span>     <span style="font-weight:bold">&gt;=</span><span style="color:#099">1024</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&lt;</span><span style="color:#099">10240</span>
</span></span><span style="display:flex;"><span>	replicas<span style="font-weight:bold">:</span>   <span style="font-weight:bold">&gt;=</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>	replicaMem<span style="font-weight:bold">:</span> memory<span style="font-weight:bold">/</span>replicas <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">1024</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Config<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	appName<span style="font-weight:bold">:</span>      strings.MaxRunes(<span style="color:#099">62</span>)
</span></span><span style="display:flex;"><span>	appMemory<span style="font-weight:bold">:</span>    <span style="font-weight:bold">&gt;=</span>(replicaCount <span style="font-weight:bold">*</span> <span style="color:#099">1024</span>)
</span></span><span style="display:flex;"><span>	replicaCount<span style="font-weight:bold">:</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>	clusterName<span style="font-weight:bold">:</span>  <span style="color:#b84">&#34;PROD&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;STAGE&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;DEV&#34;</span>
</span></span><span style="display:flex;"><span>	region<span style="font-weight:bold">:</span>       <span style="color:#b84">&#34;EU&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;NA&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;APAC&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;AMEA&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div></div>

<p>CUE&rsquo;s processing model allows these kinds of benefits to persist at scale, no
matter how many people and teams feed data and constraints into the process:</p>
<ul>
<li>The powerful
&ldquo;<a href="/docs/tour/basics/types-are-values/">types <em>are</em> values</a>&rdquo;
concept merges the handling of basic types, concrete data, and the
constraints that apply to values.</li>
<li>The language disallows &ldquo;overrides&rdquo;, so the location where a specific value
originates is never in doubt.</li>
<li>The
<a href="/docs/tour/basics/order-irrelevance/">order-independent</a>
<a href="/docs/tour/basics/unification/">unification</a>
of values <em>and</em> constraints removes the need for confusing, overlapping
defaults that can be painful to understand.</li>
</ul>
<p>That last point is really powerful:
CUE&rsquo;s <a href="/docs/tour/basics/constraints/">constraints</a>
unify, like any other value.
This allows schemas and policies simply to state the values and limits that
they need to enforce,
whilst CUE does the hard work of checking that all their constraints are
compatible and that any configuration data meets the combined requirements.</p>
<h2 id="reducing-boilerplate">
    <a href="#reducing-boilerplate" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Reducing boilerplate</h2>
<p>CUE has several language features that allow configuration sources to <strong>reduce boilerplate</strong>
- as well as a command that <strong>removes boilerplate automatically</strong>!</p>
<!-- They're discussed in depth in [how CUE enables boilerplate removal](#TODO), but -->
<p>Here&rsquo;s a short example that demonstrates a couple of features that
make it really productive to describe configurations in CUE:
<a href="/docs/tour/types/templates/">templates</a> and
<a href="/docs/tour/types/defaults/">defaults</a>.</p>
<p>Notice how the <code>job</code> struct, at the top of <code>jobs.cue</code>, contains <em>only</em> the
unique detail that defines each entry.
This allows each job&rsquo;s important data to stand out,
uncluttered by the common information that&rsquo;s added elsewhere in the file:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top-left">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="jobs.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="jobs.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>jobs.cue
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="jobs.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="am9iOiB7CgluZ2lueDogcmVwbGljYXM6ICAyCgltYW5hZ2VyOiBjb21tYW5kOiAibW9uaXQgLUkiCglwb2xpY3lkOiBfCglib2x0ZGI6IHJlcGxpY2FzOiAgIDMKCXBvc3RncmVzOiByZXBsaWNhczogNQp9CgovLyBUaGlzIHRlbXBsYXRlJ3MgY29uc3RyYWludHMgYXJlIHVuaWZpZWQgd2l0aAovLyBlYWNoIG1lbWJlciBvZiB0aGUgam9iIHN0cnVjdC4Kam9iOiBbTmFtZT1fXTogewoJbmFtZTogTmFtZQoJLy8gY29tbWFuZCBjYW4gYmUgc2V0LCBidXQgaGFzIGEgZGVmYXVsdC4KCWNvbW1hbmQ6IHN0cmluZyB8ICoiZXhlYyBcKE5hbWUpIgoJLy8gcmVwbGljYXMgY2FuIGJlIHNldCwgYnV0IGRlZmF1bHRzIHRvIDEuCglyZXBsaWNhczogdWludCB8ICoxCn0KCi8vIERhdGFiYXNlcyBhcmUgaW1wb3J0YW50LCBzbyBpbmNyZWFzZSB0aGUgcmVwbGljYQovLyBtaW5pbXVtIGZvciBtZW1iZXJzIG9mIHRoZSBqb2Igc3RydWN0IHdob3NlIGtleXMKLy8gbWF0Y2ggI0RCLgpqb2I6IFsjREJdOiByZXBsaWNhczogPj0zCiNEQjogInBvc3RncmVzIiB8ICJteXNxbCIgfCA9fiJkYiQi">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span>job<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	nginx<span style="font-weight:bold">:</span> replicas<span style="font-weight:bold">:</span>  <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>	manager<span style="font-weight:bold">:</span> command<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;monit -I&#34;</span>
</span></span><span style="display:flex;"><span>	policyd<span style="font-weight:bold">:</span> <span style="font-weight:bold">_</span>
</span></span><span style="display:flex;"><span>	boltdb<span style="font-weight:bold">:</span> replicas<span style="font-weight:bold">:</span>   <span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>	postgres<span style="font-weight:bold">:</span> replicas<span style="font-weight:bold">:</span> <span style="color:#099">5</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// This template&#39;s constraints are unified with</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// each member of the job struct.</span>
</span></span><span style="display:flex;"><span>job<span style="font-weight:bold">:</span> <span style="font-weight:bold">[</span>Name<span style="font-weight:bold">=</span><span style="font-weight:bold">_</span><span style="font-weight:bold">]:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">:</span> Name
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// command can be set, but has a default.</span>
</span></span><span style="display:flex;"><span>	command<span style="font-weight:bold">:</span> <span style="color:#458;font-weight:bold">string</span> <span style="font-weight:bold">|</span> <span style="font-weight:bold">*</span><span style="color:#b84">&#34;exec </span><span style="color:#b84">\(</span>Name<span style="color:#b84">)</span><span style="color:#b84">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// replicas can be set, but defaults to 1.</span>
</span></span><span style="display:flex;"><span>	replicas<span style="font-weight:bold">:</span> <span style="color:#458;font-weight:bold">uint</span> <span style="font-weight:bold">|</span> <span style="font-weight:bold">*</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// Databases are important, so increase the replica</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// minimum for members of the job struct whose keys</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// match #DB.</span>
</span></span><span style="display:flex;"><span>job<span style="font-weight:bold">:</span> <span style="font-weight:bold">[</span>#DB<span style="font-weight:bold">]:</span> replicas<span style="font-weight:bold">:</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>#DB<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;postgres&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;mysql&#34;</span> <span style="font-weight:bold">|</span> <span style="font-weight:bold">=</span>~<span style="color:#b84">&#34;db$&#34;</span></span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--top-right">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIGV4cG9ydCBqb2JzLmN1ZSAtLW91dCB5YW1s">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue export jobs.cue --out yaml
job:
  nginx:
    replicas: 2
    name: nginx
    command: exec nginx
  manager:
    command: monit -I
    name: manager
    replicas: 1
  policyd:
    name: policyd
    command: exec policyd
    replicas: 1
  boltdb:
    replicas: 3
    name: boltdb
    command: exec boltdb
  postgres:
    replicas: 5
    name: postgres
    command: exec postgres</code></pre></div>
</div>
</div></div>
</div>

</div></div>

<h2 id="tooling-and-automation">
    <a href="#tooling-and-automation" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Tooling and automation</h2>
<!-- vim_ syntax highlighting hack -->
<p>As we&rsquo;ve seen, CUE can validate multiple sources of data and transform them
into a unified, vetted configuration for a target system.
When dealing with <em>multiple</em> systems, CUE&rsquo;s ability to transform the same
inputs into several different forms can often be sufficient.
But what happens when components need to be configured using information that&rsquo;s
only available <em>from other components?</em></p>
<p>The rise of complex systems requiring complicated or lengthy configurations
has been paired with a rise of even more specialized tools,
such as <code>kubectl</code>, <code>etcdctl</code>, or <code>crossplane</code>.
The core operation of many of these tools is pretty similar, accepting
configurations in complex forms that are only suitable for their specific use.
Some of these tools have significant overlaps in functionality, along with
areas where they&rsquo;re particularly strong - and yet linking them together or
<em>composing</em> them is painful, as they haven&rsquo;t been designed for interoperability.</p>
<p>This is where CUE&rsquo;s tooling layer can help, using
&ldquo;workflow commands&rdquo; to extend CUE configurations and enable <strong>data-driven workflows</strong>.</p>
<p>Workflow commands allow the particular strengths of existing, individual
tools to be harnessed, by allowing configurations to be <strong>built up incrementally</strong>.
The output of each tool can be processed through CUE&rsquo;s powerful language
constraints, before being transformed and used as the validated input that
drives the <em>next</em> tool.</p>
<p>The tooling layer enables <strong>declarative specification of how external data,
schema, and policy are combined</strong> by modifying CUE&rsquo;s normal operation and
allowing tasks to fetch information directly from external sources.
Reading files, calling APIs, invoking external commands, fetching files from
source control - if it can be scripted, then a workflow command can extract
its information to use as data, schema, and policy.</p>
<!-- TODO: link to a more introductory text for tooling -->
<!-- https://github.com/cue-lang/docs-and-content/issues/102 -->
<p>For more information on workflow commands, and how their ability to
deterministically combine data from static and dynamic sources can supercharge
automation, see the
<a href="/docs/reference/command/cue-help-commands/"><code>cue help commands</code></a>
reference documentation.</p>
<h2 id="abstractions-versus-direct-access">
    <a href="#abstractions-versus-direct-access" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Abstractions versus direct access</h2>
<p>Abstractions can be a powerful mechanism for protecting a user from detail they
don&rsquo;t need to know, whilst guarding them against mistakes or misuse of the
system or API being abstracted.</p>
<p>But they come with a significant downside: the extra toil and investment that&rsquo;s
required to keep the abstraction up to date with changes in the systems they
encapsulate. Over time, <strong>unmaintained abstractions inevitably drift</strong>, and
even a <em>maintained</em> abstraction over a third-party, as-a-service system can
discover drift after the fact, instead of being able to prevent it.
Additionally, abstractions don&rsquo;t just need to handle drift against upstream
systems - they also require an ongoing time investment in delivering feature
parity with new upstream capabilities .</p>
<p>To ease this tension between protection and agility, <strong>consider using CUE&rsquo;s
fine-grained type and constraints</strong> to impose <em>strong limits</em> on the known,
important values and structures that drive a system, whilst permitting <em>looser
validation</em> of the surrounding, perhaps unknown, fields. Layering detailed,
cascading constraints over APIs and systems, without developing an abstraction
layer, allows more agile teams to take immediate advantage of upstream feature
releases whilst still protecting the core functions relied on by all teams.</p>
<p>If this approach isn&rsquo;t suitable for your situation, take advantage of CUE&rsquo;s
<a href="/docs/tour/basics/order-irrelevance/">order irrelevance</a>
to build abstractions that control API requests or configurations to your
specific requirements.</p>
<h2 id="next-steps">
    <a href="#next-steps" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Next steps</h2>
<p>Interested in learning more about CUE? Here&rsquo;s what you could try next:</p>
<ul>
<li>Test out CUE in your browser, with the <a href="/play/">CUE playground</a></li>
<li>Take a <a href="/docs/tour/">tour through the CUE language</a></li>
<li>Read about <a href="/docs/integration/">the technologies that CUE directly integrates with</a></li>
</ul>
<!-- TODO: extend list when more docs have landed -->
                        
                    </div>
    <footer class="article__footer">
    <div class="article__lastmod">
        <p class="lastmod">
         <a class="lastmod__link" href="https://github.com/cue-lang/cuelang.org/commit/7fd75eeece114fc4ce418d248412e0c0cba40c90">
                Last modified May 23, 2025</a>
    </p>

    </div>

    <div class="article__footer-meta"><div class="article__footer-tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:validation"
                class="tag tag--lilac">
                    validation
                </a>
            </li><li class="list__item"><a href="/search?q=tag:%22workflow%20command%22"
                class="tag tag--blue">
                    workflow command
                </a>
            </li></ul>

</div><div class="article__share"><details class="share" data-dropdown>
    <summary class="button button--icon button--light-blue share__button">
        



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--share"></use>
</svg>

        <span>Open share options</span>
    </summary>

    <ul class="share__list">
        <li class="share__item" data-copy>
            <button class="share__copy" data-copy-button data-copy-type="url" data-copy-value="/docs/concept/how-cue-enables-configuration/">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>

                <span class="share__link-text">Copy link</span>
                <span class="share__copy-message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank" href="https://twitter.com/intent/tweet?url=/docs/concept/how-cue-enables-configuration/&text=%3cp%3e%3cstrong%3eConfiguration%20is%20one%20of%20CUE&amp;rsquo;s%20core%20tasks%3c/strong%3e.%20People%20often%20start%20using%20CUE%0abecause%20it%20makes%20it%20%3cem%3esafer%20and%20easier%3c/em%3e%20to%20produce%20new%20configuration%20files%20and%0ato%20validate%20existing%20files%20-%20but%20its%20capabilities%20run%20deeper.%0aIn%20this%20guide%20we&amp;rsquo;ll%20begin%20with%20the%20basics%20of%20how%20CUE%20makes%20configuration%20better,%0aand%20then%20explore%20the%20potential%20of%20some%20of%20its%20more%20advanced%20features%20for%20configuration.%0aHere&amp;rsquo;s%20what%20you&amp;rsquo;ll%20find%20in%20this%20guide:%3c/p%3e%0a%3cul%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#validating-existing-configuration-files%22%3eValidating%20existing%20configuration%20files%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#type-checking%22%3eType%20checking%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#generating-configurations%22%3eGenerating%20configurations%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#reducing-boilerplate%22%3eReducing%20boilerplate%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#tooling-and-automation%22%3eTooling%20and%20automation%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#abstractions-versus-direct-access%22%3eAbstractions%20versus%20direct%20access%3c/a%3e%3c/li%3e%0a%3c/ul%3e">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                <p><span class="share__link-text">Share on X (Twitter)</span></p>
            </a>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank"
            href="https://www.linkedin.com/shareArticle?mini=true&url=/docs/concept/how-cue-enables-configuration/&summary=%3cp%3e%3cstrong%3eConfiguration%20is%20one%20of%20CUE&amp;rsquo;s%20core%20tasks%3c/strong%3e.%20People%20often%20start%20using%20CUE%0abecause%20it%20makes%20it%20%3cem%3esafer%20and%20easier%3c/em%3e%20to%20produce%20new%20configuration%20files%20and%0ato%20validate%20existing%20files%20-%20but%20its%20capabilities%20run%20deeper.%0aIn%20this%20guide%20we&amp;rsquo;ll%20begin%20with%20the%20basics%20of%20how%20CUE%20makes%20configuration%20better,%0aand%20then%20explore%20the%20potential%20of%20some%20of%20its%20more%20advanced%20features%20for%20configuration.%0aHere&amp;rsquo;s%20what%20you&amp;rsquo;ll%20find%20in%20this%20guide:%3c/p%3e%0a%3cul%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#validating-existing-configuration-files%22%3eValidating%20existing%20configuration%20files%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#type-checking%22%3eType%20checking%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#generating-configurations%22%3eGenerating%20configurations%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#reducing-boilerplate%22%3eReducing%20boilerplate%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#tooling-and-automation%22%3eTooling%20and%20automation%3c/a%3e%3c/li%3e%0a%3cli%3e%3ca%20href=%22/docs/concept/how-cue-enables-configuration/#abstractions-versus-direct-access%22%3eAbstractions%20versus%20direct%20access%3c/a%3e%3c/li%3e%0a%3c/ul%3e">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-linkedin"></use>
</svg>

                <p><span class="share__link-text">Share on Linkedin</span></p>
            </a>
        </li>
    </ul>
</details>
</div>
    </div>
</footer>
</div>
            </article>

            



<div class="prevnext">
    <nav class="prevnext__container" aria-label="Previous/Next navigation"><a class="prevnext__prev" href="/docs/concept/data-validation-use-case/" aria-label="Previous - Data Validation use case">
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--circle-arrow-left"></use>
</svg>

                <span class="prevnext__text">Data Validation use case</span>
            </a><a class="prevnext__next" href="/docs/concept/how-cue-enables-data-validation/" aria-label="Next - How CUE enables data validation">
                <span class="prevnext__text">How CUE enables data validation</span>
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--circle-arrow-right"></use>
</svg>

            </a></nav>
</div>

        </div>
        <div id="docs-menu" class="docs__aside">
            <div class="docs__backdrop" data-docs-close="docs"></div>
            <div class="docs__nav">
                <nav class="tree">
    <ul class="tree__list is-book">
        
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/introduction/" title="Introduction">
            <span class="tree__text">Introduction</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tour/" title="Tour">
            <span class="tree__text">Tour</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/integration/" title="Integrations">
            <span class="tree__text">Integrations</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tutorial/" title="Tutorials">
            <span class="tree__text">Tutorials</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/howto/" title="How-to Guides">
            <span class="tree__text">How-to Guides</span>
        </a>
    </li>
    
    
    

    <li class="tree__item has-children is-active-path">
        <a class="tree__link" href="/docs/concept/" title="Concept Guides">
            <span class="tree__text">Concept Guides</span>
        </a>
            <ul class="tree__list is-chapter">
                
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/popular-guides/" title="Popular guides">
            <span class="tree__text">Popular guides</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/the-logic-of-cue/" title="The Logic of CUE">
            <span class="tree__text">The Logic of CUE</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/modules/" title="Modules">
            <span class="tree__text">Modules</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/faq/" title="Frequently Asked Questions">
            <span class="tree__text">Frequently Asked Questions</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item is-active">
        <a class="tree__link" href="/docs/concept/how-cue-enables-configuration/" title="How CUE enables configuration">
            <span class="tree__text">How CUE enables configuration</span>
        </a>
            

<nav id="TableOfContents" class="toc">
  <ol class="toc__list">
    <li class="toc__item"><a href="#validating-existing-configuration-files" class="toc__link"><span class="toc__text">Validating existing configuration files</span></a></li>
    <li class="toc__item"><a href="#type-checking" class="toc__link"><span class="toc__text">Type checking</span></a></li>
    <li class="toc__item"><a href="#generating-configurations" class="toc__link"><span class="toc__text">Generating configurations</span></a></li>
    <li class="toc__item"><a href="#reducing-boilerplate" class="toc__link"><span class="toc__text">Reducing boilerplate</span></a></li>
    <li class="toc__item"><a href="#tooling-and-automation" class="toc__link"><span class="toc__text">Tooling and automation</span></a></li>
    <li class="toc__item"><a href="#abstractions-versus-direct-access" class="toc__link"><span class="toc__text">Abstractions versus direct access</span></a></li>
    <li class="toc__item"><a href="#next-steps" class="toc__link"><span class="toc__text">Next steps</span></a></li>
  </ol>
</nav>

    </li>
            </ul>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/" title="References">
            <span class="tree__text">References</span>
        </a>
    </li>
    </ul>
</nav>



                <button type="button" class="docs__hide button button--icon button--raised button--light-blue"
                        aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-left"></use>
</svg>
<span>Hide side navigation</span>
                </button>
            </div>
        </div>

        <button type="button" class="docs__show button button--icon button--raised button--light-blue"
                aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-right"></use>
</svg>
<span>Show side navigation</span>
        </button>
    </div>

            </main>

            <footer id="site-footer" class="site__footer">
                




<div class="footer">
    <div class="footer__sitemap">
        <nav class="footer__container" aria-label="Footer menu">
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Get Started</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/tour/">
                                    <span class="nav__text">Language Tour</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Playground</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install CUE</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Community</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/community">
                                    <span class="nav__text">The CUE Community</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue/blob/master/CONTRIBUTING.md#contribution-guide" target="_blank">
                                    <span class="nav__text">Contributing</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/reference/code-of-conduct/">
                                    <span class="nav__text">Code of Conduct</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/slack">
                                    <span class="nav__text">Slack Workspace</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/discord">
                                    <span class="nav__text">Discord Server</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Connect</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
        </nav>
    </div>

    <div class="footer__legal">
        <nav class="footer__container" aria-label="Legal">
            <div class="nav nav--legal">
                <ul class="nav__list">
                    <li class="nav__item">
                        <span class="nav__text">&copy; 2025 CUE</span>
                    </li>

                    
                        <li class="nav__item"><a class="nav__link"
                               href="/privacy-policy/">
                                <span class="nav__text">Privacy policy</span>
                            </a>
                        </li>
                    

                    <li class="nav__item">
                        <a class="nav__link" href="https://github.com/cue-lang/cue/issues/new?labels=Triage,NeedsInvestigation,cuelang.org&amp;title=cuelang.org:%20&amp;template=bug_report.md&amp;body=%23%23%23&#43;What&#43;page&#43;were&#43;you&#43;looking&#43;at%3F%0A%0A%2Fdocs%2Fconcept%2Fhow-cue-enables-configuration%2F%0A%0A%23%23%23&#43;What&#43;version&#43;of&#43;the&#43;site&#43;were&#43;you&#43;looking&#43;at%3F%0A%0Ahttps%3A%2F%2Fgithub.com%2Fcue-lang%2Fcuelang.org%2Fcommit%2Fc5f2bfdbc3a14b43accb6ad18ec35ea5e15d2949%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;do%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;expect%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;see&#43;instead%3F%0A%0A" target="_blank">
                            <span class="nav__text">Report an Issue</span>
                        </a>
                    </li>
                </ul>
            </div>

            <a href="/" class="footer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </nav>
    </div>
</div>

            </footer>
        </div>

        
                <div class="notification-bar is-hidden" data-notification-bar="cue-minor-release-v0.13">
        <div class="notification-bar__container">
            <div class="notification-bar__content">
                <strong>CUE v0.13 is now available</strong> &ndash; learn more about its <a href="https://github.com/cue-lang/cue/releases/tag/v0.13.0">new features and improvements</a>
            </div>
            <a class="button button--outline notification-bar__cta" href="/docs/introduction/installation/">
                    <span class="button__text">Install CUE</span>
                    



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--download"></use>
</svg>

                </a>
            <button type="button" class="button button--icon button--small notification-bar__close">
                



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--close"></use>
</svg>

                <span class="button__text">Close</span>
            </button>
        </div>
    </div>

        
        

<div id="mobile-menu" class="drawer drawer--mobile" data-drawer="menu">
    <div class="drawer__backdrop" data-drawer-close="menu"></div>
    <div class="drawer__container" tabindex="0">
        <div class="drawer__header">
            <a href="/" class="drawer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>

            <div class="drawer__close">
                <button type="button" class="button button--white button--icon" data-drawer-close="menu">
                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--close"></use>
</svg>

                    <span class="button__text">Hide menu</span>
                </button>
            </div>
        </div>

        <div class="drawer__content">
            <div class="drawer__menu">
                <nav class="nav nav--mobile" aria-label="Mobile menu">
                    <ul class="nav__list">
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Play</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/community/">
                                    <span class="nav__text">Community</span>
                                </a>
                            </li>
                        

                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install</span>
                                </a>
                            </li>
                        

                        <li class="nav__item nav__item--search">





<div data-search-autocomplete="drawer"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-drawer"></div>
</div>
</li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="drawer__footer">
            <nav class="nav nav--social" aria-label="Social">
                <ul class="nav__list">
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://github.com/cue-lang/cue"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                <span class="nav__text">GitHub</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/slack">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--slack"></use>
</svg>

                                <span class="nav__text">Slack</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/discord">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-discord"></use>
</svg>

                                <span class="nav__text">Discord</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://twitter.com/cue_lang"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                                <span class="nav__text">X (Twitter)</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://bsky.app/profile/cuelang.org"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                <span class="nav__text">Bluesky</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://www.youtube.com/@cuelang/videos"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-youtube"></use>
</svg>

                                <span class="nav__text">YouTube</span>
                            </a>
                        </li>
                    
                </ul>
            </nav>
        </div>
    </div>
</div>

        

    
    <script src="/js/main.min.fd72c5ae1d2b05caf3dd2656685f4ae0de619cf5486b450c27d0f2412f90879f.js" integrity="sha256-/XLFrh0rBcrz3SZWaF9K4N5hnPVIa0UMJ9DyQS&#43;Qh58=" async></script>






    </body>
</html>
