<!doctype html>
<html lang="en" dir="ltr" class="no-js">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This guide describes “old” modules, which were the previous implementation of dependencies in CUE. It’s preserved here for folks using previous versions of …">
<meta name="generator" content="Hugo 0.147.5">

<meta name="robots" content="noindex, nofollow">

<link rel="canonical" href="https://cuelang.org/docs/concept/old-modules-packages-instances/" />
<link rel="shortcut icon" href="/favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/webmanifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#232a68">
<meta name="msapplication-TileColor" content="#232a68">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#232a68">

<title>Old Modules, Packages, and Instances | CUE</title><meta property="og:url" content="//localhost:1313/docs/concept/old-modules-packages-instances/">
  <meta property="og:site_name" content="CUE">
  <meta property="og:title" content="Old Modules, Packages, and Instances">
  <meta property="og:description" content="This guide describes “old” modules, which were the previous implementation of dependencies in CUE. It’s preserved here for folks using previous versions of CUE, but if you are using CUE v0.9.0 or later then you are probably using “new” modules and you don’t need to read this page.
The current version of this guide covers “new” modules, which are the current and recommended way to manage CUE dependencies. The FAQ “New modules vs old modules” explains their differences.
We suggest you start by reading the modules concept guide to learn more about modules.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-05-23T16:51:37+01:00">
    <meta property="og:image" content="//localhost:1313/img/social.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="//localhost:1313/img/social.png">
  <meta name="twitter:title" content="Old Modules, Packages, and Instances">
  <meta name="twitter:description" content="This guide describes “old” modules, which were the previous implementation of dependencies in CUE. It’s preserved here for folks using previous versions of CUE, but if you are using CUE v0.9.0 or later then you are probably using “new” modules and you don’t need to read this page.
The current version of this guide covers “new” modules, which are the current and recommended way to manage CUE dependencies. The FAQ “New modules vs old modules” explains their differences.
We suggest you start by reading the modules concept guide to learn more about modules.">





<link href="/scss/main.css" rel="stylesheet">



<link rel="preload" href="/fonts/inter/regular.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/500.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/700.woff2" as="font" crossorigin="anonymous">



<script>(()=>{document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js")})()</script>
</head>
    <body itemscope itemtype="https://schema.org/WebPage">
        <meta itemprop="name" content="Old Modules, Packages, and Instances">
<meta itemprop="description" content=" This guide describes &ldquo;old&rdquo; modules, which were the previous implementation of dependencies in CUE. It&rsquo;s preserved here for folks using previous versions of CUE, but if you are using CUE v0.9.0 or later then you are probably using &ldquo;new&rdquo; modules and you don&rsquo;t need to read this page.
The current version of this guide covers &ldquo;new&rdquo; modules, which are the current and recommended way to manage CUE dependencies. The FAQ &ldquo;New modules vs old modules&rdquo; explains their differences.
We suggest you start by reading the modules concept guide to learn more about modules.
">

    
        <meta itemprop="dateModified" content="2025-05-23T16:51:37+01:00" >
    
            
        <meta itemprop="image" content="//localhost:1313/img/social.png"/>
            
    <meta itemprop="keywords" content="modules," />

        <a id="skip-nav" class="skip-link" href="#site-main" target="_self">Skip to content</a>

        <div class="site">
            <header id="site-header" class="site__header">
                

<div class="header header--wide" data-header>
    <div class="header__container">
        <div class="header__background"></div>

        <div class="header__branding">
            <a href="/" class="header__logo" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </div>

        <div class="header__main">
            <nav class="nav nav--main" aria-label="Main menu">
                <ul class="nav__list">
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/docs/"><span class="nav__text">Documentation</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/play/"><span class="nav__text">Play</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/community/"><span class="nav__text">Community</span></a>
                        </li>
                    
                </ul>
            </nav>
        </div>

        <div class="header__secondary">
            <div class="header__icons">
                <nav class="nav nav--social" aria-label="Social">
                    <ul class="nav__list"><li class="nav__item"><a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--github"></use>
</svg>

                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/slack">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--slack"></use>
</svg>

                                    <span class="nav__text">Slack</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/discord">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-discord"></use>
</svg>

                                    <span class="nav__text">Discord</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-youtube"></use>
</svg>

                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li></ul>
                </nav>
            </div>

            <div class="header__cta"><a class="button button--skinny"
                       href="/docs/introduction/installation/"><span class="button__text">Install</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--download"></use>
</svg>
</a></div>

            <div class="header__search" data-menu>
                <a href="/search" class="button button--icon button--white-simple" rel="search" data-menu-dropdown="header-dropdown-search">



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--search"></use>
</svg>
<span>Search</span>
                </a>

                <div class="header__dropdown header__dropdown--search" data-menu-dropdown-target="header-dropdown-search">
                    <p class="header__search-title">What are you looking for?</p>





<div data-search-autocomplete="menu"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-menu"></div>
</div>
</div>
            </div>

            <div class="header__toggle">
                <button class="button button--outline" data-drawer-toggle="menu" aria-haspopup="menu" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="button__text">Menu</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--menu"></use>
</svg>
</button>
            </div>
        </div>
    </div>
</div>

            </header>

            <main id="site-main" class="site__content" itemprop="mainContentOfPage">
                

    <div class="docs" data-docs>
        <div class="docs__main">
            <nav class="breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb__list">
    

    
    

    
        <li class="breadcrumb__item"><a class="breadcrumb__link" href="//localhost:1313/docs/concept/">Concept Guides</a></li>
    
    

    
        <li class="breadcrumb__item" aria-current="page"><h1 class="breadcrumb__text">Old Modules, Packages, and Instances</h1></li>
    
    </ol>
</nav>


            <article class="article article--docs" itemscope itemtype="https://schema.org/TechArticle">
                <meta itemprop="articleBody" content="




    

This guide describes &ldquo;old&rdquo; modules, which were the previous implementation of
dependencies in CUE. It&rsquo;s preserved here for folks using previous versions of
CUE, but if you are using CUE v0.9.0 or later then you are probably using
&ldquo;new&rdquo; modules and you don&rsquo;t need to read this page.
The current version of this guide
covers &ldquo;new&rdquo; modules, which are the current and recommended way to manage CUE
dependencies.
The FAQ &ldquo;New modules vs old modules&rdquo;
explains their differences.
We suggest you start by reading the
modules concept guide to learn more about modules.




    




    

Overview
CUE heavily relies on its order independence for package organization.
Definitions and constraints can be split across files within a package,
and even organized across directories.
Another key aspect of CUE&rsquo;s package management is reproducibility.
A module, the largest unit of organization, has a fixed location
of all files and dependencies.
There are no paths to configure.
With configuration, reproducibility is key.
Within a module, CUE organizes files grouped by package.
A package can be defined within the module or externally.
In the latter case, CUE maintains a copy of the package within the module
in a dedicated location.





    


    




    

For those familiar with Go packages
CUE&rsquo;s definitions of packages and modules are modeled after Go&rsquo;s.
Here is how they differ:


The package clause is optional: such files do not belong to a package
and cannot be imported.


A package is identified by its import path and its package name,
separated by a :.
If its name is equal to the base of this path it may be omitted.


There can be more than one package per directory.


All files within a module with the same package name belong to the same package;
an instance of such a package for a given directory contains all its files
from that directory up till the module root.






    




    

Modules
A module contains a configuration layed out in a directory hierarchy.
It contains everything that is needed to deterministically
determine the outcome of a CUE configuration.
The root of this directory is marked by containing a cue.mod
directory.
The contents of this directory are mostly managed by the cue tool.
In that sense, cue.mod is analogous to the .git directory marking
the root directory of a repo, but where its contents are mostly
managed by the git tool.

The use of a module is optional, but required if one wants to import files.


    




    

Creating a module
A module can be created by running the following command
within the module root:

                Copy code
                
                    Copied!
                
            cue mod init [module name]

The module name is required if a package within the module needs to
import another package within the module.
A module can also be created by setting up the cue.mod directory
and module.cue file manually.

    




    

The cue.mod directory
The module directory has the following contents:

                Copy code
                
                    Copied!
                
            cue.mod
|-- module.cue  // The module file
|-- pkg         // copies of external packages
|-- gen         // files generated from external sources
|-- usr         // user-defined constraints

Aside from an occasional addition to the usr subdirectory or tweak
to module.cue, this directory is
predominantly managed by the cue tool.
The module.cue file defines settings such as
globally unique module identifier (more on this in the
Import Path section).
This information allows packages defined within the module to be importable
within the module itself.
In the future, it may hold version information of imported packages to determine
the precise origin of imported files.
The other directories hold packages that are facsimiles, derivatives, or
augmentations of external packages:

pkg: an imported external CUE package,
gen: CUE generated from external definitions, such as protobuf or Go,
usr: user-defined constraints for the above two directories.

These directories split files from the same package across different
parallel hierarchies based on the origin of the content.
But for all intent and purposes they should be seen as a single directory
hierarchy.
The cue.mod/usr directory is a bit special here.
The cue.mod/pkg and cue.mod/gen directories are populated by the cue tool.
The cue.mod/usr directory, on the other hand, holds user-defined
constraints for the packages defined in the other directories.
User-defined constraints can be used to fill gaps in generated constraints;
as generation is not always a sure thing.
They can also be used to enforce constraints on imported packages, for instance
to enforce that a certain API feature is still provided or of the desired form.
The usr directory allows for a cleaner organization compared to storing
such user-defined constraints directly in the cue-managed directories.

    




    

Packages

    




    

Files belonging to a package
CUE files may define a package name at the top of their file.
CUE uses this to determine which files belong together.
If the cue tool is told to load the files for a specific directory,
for instance:

                Copy code
                
                    Copied!
                
            cue eval ./mypkg

it will only look files with such a clause and ignore files without it.
If the package name within the directory is not unique, cue needs to
know the name of the package as well

                Copy code
                
                    Copied!
                
            cue eval ./mypkg:pkgname

If no module is defined, it will just load the files in this directory.
If a module is defined, it will also load all files with the same
package name in its ancestor directories up till the module root.
As we will see below,
this strategy allows for defining organization-wide schemas and policies.

    




    

Import path
Each package is identified by a globally unique name, called its import path.
The import path consists of a unique location identifier
followed by a colon (:) and its package name.

                Copy code
                
                    Copied!
                
            k8s.io/api/core/v1:v1

If the basename of the path and the package name are the same, the latter
can be omitted.

                Copy code
                
                    Copied!
                
            k8s.io/api/core/v1

The unique location identifier consists of a domain name followed by a path.
Modules themselves also have a unique location identifier.
A package inside a module can import another package from this same module
by using the following import path:

                Copy code
                
                    Copied!
                
            &lt;module identifier&gt;/&lt;relative position of package within module&gt;:&lt;package name&gt;

So suppose our module is identified as example.com/transport and a package
located at schemas/trains and has the package name track,
then other packages can import this packages as:

                Copy code
                
                    Copied!
                
            import &#34;example.com/transport/schemas/trains:track&#34;

Putting it all together:

                Copy code
                
                    Copied!
                
            root                    // must contain:
|-- cue.mod
|   |-- module.cue      // module: &#34;example.com/transport&#34;
|-- schemas
|   |-- trains
|   |   |-- track.cue   // package track
...
|-- data.cue            // import &#34;example.com/transport/schemas/trains:track&#34;

The relative position may not be within the cue.mod directory.


    




    

Location on disk
A .cue file can import a package by specifying its import path
with the import statement. For instance,

                Copy code
                
                    Copied!
                
            import (
	&#34;list&#34;

	&#34;example.com/path/to/package&#34;
)

Packages for which the first path component is not a fully qualified
domain name are builtin packages and are not stored on disk.
For other packages, CUE determines the location on disk as follows:

If a module identifier is defined and is a prefix of the import path,
the package is located at the corresponding location relative to the
module root.
Otherwise, the package contents looked up in
the cue.mod/pkg, cue.mod/gen, and cue.mod/usr subdirectores.

In Step 2, an import path may match more than one directory.
In that case, the contents of all matched directories are used to build the
package.
Virtually, these directories should be seen as a single directory tree.

    




    

Builtin Packages
CUE has a collection of builtin packages that are compiled into the .cue
binary.
A list of these packages form
can be found here https://pkg.go.dev/cuelang.org/go/pkg.
The intention is to have this documentation in CUE format, but for now
we are piggybacking on the Go infrastructure to host and present the CUE
packages.
To use a builtin package, import its path relative to cuelang.org/go/pkg
and invoke the functions using its qualified identifier.
For instance:







            




    


                            Copied!
                        
                    regexp.cue
            
        


                Copy code
                
                    Copied!
                
            import &#34;regexp&#34;

matches: regexp.FindSubmatch(#&#34;^([^:]*):(\d&#43;)$&#34;#, &#34;localhost:443&#34;)











            TERMINAL
            
        


                Copy code
                
                    Copied!
                
            $ cue eval regexp.cue
matches: [&#34;localhost:443&#34;, &#34;localhost&#34;, &#34;443&#34;]







    




    

File Organization

    




    

Instances
Within a module, all .cue files with the same package name are part
of the same package.
A package is evaluated within the context of a certain directory.
Within this context, only the files belonging to that package in that
directory and its ancestor directories within the module are combined.
We call that an instance of a package.
Using this approach, the different kind of directories within a module
can be ascribed the following roles:

module root: schema
medial directories: policy
leaf directories: data

The top of the hierarchy (the module root) defines constraints that apply
across the organization.
Leaf directories typically define concrete instances, inheriting all the
constraints of ancestor directories.
Directories between the leaf and top directory define constraints,
like policies, that only apply to its subdirectories.
Because order of evaluation does not matter in CUE, leaf packages do not
explicitly have to specify which parts of their parents they want to inherit
from.
Instead, parent directories can be seen to &ldquo;push out&rdquo;
constraints to their subdirectories.
In other words, parent directories define policies to which subdirectories
must comply.
">
<meta itemprop="wordCount" content="1509">


                <div class="article__container">
                    




        <header class="article__header">
        <div class="article__info"><div class="article__tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:modules"
                class="tag tag--red">
                    modules
                </a>
            </li></ul>

</div></div></header>



                    <div class="article__content">
                        
                            <div class="note note--caution" role="alert">



<svg class="icon note__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--exclamation"></use>
</svg>
<div class="note__content"><p>This guide describes &ldquo;old&rdquo; modules, which were the previous implementation of
dependencies in CUE. It&rsquo;s preserved here for folks using previous versions of
CUE, but <strong>if you are using CUE v0.9.0 or later</strong> then you are probably using
&ldquo;new&rdquo; modules and <strong>you don&rsquo;t need to read this page</strong>.</p>
<p><a href="/docs/concept/modules-packages-instances/">The current version of this guide</a>
covers &ldquo;new&rdquo; modules, which are the current and recommended way to manage CUE
dependencies.
The FAQ &ldquo;<a href="/docs/concept/faq/new-modules-vs-old-modules/">New modules vs old modules</a>&rdquo;
explains their differences.</p>
<p>We suggest you start by reading the
<a href="/docs/concept/modules/">modules concept guide</a> to learn more about modules.</p>
</div>
</div>

<h2 id="overview">
    <a href="#overview" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Overview</h2>
<p>CUE heavily relies on its order independence for package organization.
Definitions and constraints can be split across files within a package,
and even organized across directories.</p>
<p>Another key aspect of CUE&rsquo;s package management is reproducibility.
A module, the largest unit of organization, has a fixed location
of all files and dependencies.
There are no paths to configure.
With configuration, reproducibility is key.</p>
<p>Within a module, CUE organizes files grouped by package.
A package can be defined within the module or externally.
In the latter case, CUE maintains a copy of the package within the module
in a dedicated location.</p>
<div class="note note--info" role="alert">



<svg class="icon note__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--exclamation"></use>
</svg>
<div class="note__content"><h3 id="for-those-familiar-with-go-packages">
    <a href="#for-those-familiar-with-go-packages" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>For those familiar with Go packages</h3>
<p>CUE&rsquo;s definitions of packages and modules are modeled after Go&rsquo;s.
Here is how they differ:</p>
<ul>
<li>
<p>The package clause is optional: such files do not belong to a package
and cannot be imported.</p>
</li>
<li>
<p>A package is identified by its import path <em>and</em> its package name,
separated by a <code>:</code>.
If its name is equal to the base of this path it may be omitted.</p>
</li>
<li>
<p>There can be more than one package per directory.</p>
</li>
<li>
<p>All files within a module with the same package name belong to the same package;
an <em>instance</em> of such a package for a given directory contains all its files
from that directory up till the module root.</p>
</li>
</ul>
</div>
</div>

<h2 id="modules">
    <a href="#modules" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Modules</h2>
<p>A module contains a configuration layed out in a directory hierarchy.
It contains everything that is needed to deterministically
determine the outcome of a CUE configuration.
The root of this directory is marked by containing a <code>cue.mod</code>
directory.
The contents of this directory are mostly managed by the <code>cue</code> tool.
In that sense, <code>cue.mod</code> is analogous to the <code>.git</code> directory marking
the root directory of a repo, but where its contents are mostly
managed by the <code>git</code> tool.</p>
<!--
TODO: should this be the case?:

A module root is identified by a `cue.mod` directory and spans all
subdirectories that do not itself contain a `cue.mod` directory.

For going up, maybe, but for enforcing constraint top-down
it would be good if users could not disable the root by adding a cue.mod.
-->
<p>The use of a module is optional, but required if one wants to import files.</p>
<!-- TODO: is this necessary to understand modules?
All `.cue` files within the span of a module that have a package clause
are considered to be part of this module.
-->
<h3 id="creating-a-module">
    <a href="#creating-a-module" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Creating a module</h3>
<p>A module can be created by running the following command
within the module root:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIG1vZCBpbml0IFttb2R1bGUgbmFtZV0=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>cue mod init [module name]</span></span></code></pre></div></div>
</div>
<p>The module name is required if a package within the module needs to
import another package within the module.</p>
<p>A module can also be created by setting up the <code>cue.mod</code> directory
and <code>module.cue</code> file manually.</p>
<h3 id="the-cuemod-directory">
    <a href="#the-cuemod-directory" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>The cue.mod directory</h3>
<p>The module directory has the following contents:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlLm1vZAp8LS0gbW9kdWxlLmN1ZSAgLy8gVGhlIG1vZHVsZSBmaWxlCnwtLSBwa2cgICAgICAgICAvLyBjb3BpZXMgb2YgZXh0ZXJuYWwgcGFja2FnZXMKfC0tIGdlbiAgICAgICAgIC8vIGZpbGVzIGdlbmVyYXRlZCBmcm9tIGV4dGVybmFsIHNvdXJjZXMKfC0tIHVzciAgICAgICAgIC8vIHVzZXItZGVmaW5lZCBjb25zdHJhaW50cw==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>cue.mod
</span></span><span style="display:flex;"><span>|-- module.cue  // The module file
</span></span><span style="display:flex;"><span>|-- pkg         // copies of external packages
</span></span><span style="display:flex;"><span>|-- gen         // files generated from external sources
</span></span><span style="display:flex;"><span>|-- usr         // user-defined constraints</span></span></code></pre></div></div>
</div>
<p>Aside from an occasional addition to the <code>usr</code> subdirectory or tweak
to <code>module.cue</code>, this directory is
predominantly managed by the <code>cue</code> tool.</p>
<p>The <code>module.cue</code> file defines settings such as
globally unique <em>module identifier</em> (more on this in the
<a href="#import-path">Import Path</a> section).
This information allows packages defined within the module to be importable
within the module itself.
In the future, it may hold version information of imported packages to determine
the precise origin of imported files.</p>
<p>The other directories hold packages that are facsimiles, derivatives, or
augmentations of external packages:</p>
<ul>
<li><em>pkg</em>: an imported external CUE package,</li>
<li><em>gen</em>: CUE generated from external definitions, such as protobuf or Go,</li>
<li><em>usr</em>: user-defined constraints for the above two directories.</li>
</ul>
<p>These directories split files from the same package across different
parallel hierarchies based on the origin of the content.
But for all intent and purposes they should be seen as a single directory
hierarchy.</p>
<p>The <code>cue.mod/usr</code> directory is a bit special here.
The <code>cue.mod/pkg</code> and <code>cue.mod/gen</code> directories are populated by the <code>cue</code> tool.
The <code>cue.mod/usr</code> directory, on the other hand, holds user-defined
constraints for the packages defined in the other directories.</p>
<p>User-defined constraints can be used to fill gaps in generated constraints;
as generation is not always a sure thing.
They can also be used to enforce constraints on imported packages, for instance
to enforce that a certain API feature is still provided or of the desired form.
The <code>usr</code> directory allows for a cleaner organization compared to storing
such user-defined constraints directly in the <code>cue</code>-managed directories.</p>
<h2 id="packages">
    <a href="#packages" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Packages</h2>
<h3 id="files-belonging-to-a-package">
    <a href="#files-belonging-to-a-package" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Files belonging to a package</h3>
<p>CUE files may define a package name at the top of their file.
CUE uses this to determine which files belong together.
If the <code>cue</code> tool is told to load the files for a specific directory,
for instance:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIGV2YWwgLi9teXBrZw==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>cue eval ./mypkg</span></span></code></pre></div></div>
</div>
<p>it will only look files with such a clause and ignore files without it.</p>
<p>If the package name within the directory is not unique, <code>cue</code> needs to
know the name of the package as well</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIGV2YWwgLi9teXBrZzpwa2duYW1l">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>cue eval ./mypkg:pkgname</span></span></code></pre></div></div>
</div>
<p>If no module is defined, it will just load the files in this directory.
If a module is defined, it will <em>also</em> load all files with the same
package name in its ancestor directories up till the module root.
As we will see below,
this strategy allows for defining organization-wide schemas and policies.</p>
<h3 id="import-path">
    <a href="#import-path" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Import path</h3>
<p>Each package is identified by a globally unique name, called its <em>import path</em>.
The import path consists of a unique location identifier
followed by a colon (<code>:</code>) and its package name.</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="azhzLmlvL2FwaS9jb3JlL3YxOnYx">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>k8s.io/api/core/v1:v1</span></span></code></pre></div></div>
</div>
<p>If the basename of the path and the package name are the same, the latter
can be omitted.</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="azhzLmlvL2FwaS9jb3JlL3Yx">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>k8s.io/api/core/v1</span></span></code></pre></div></div>
</div>
<p>The unique location identifier consists of a domain name followed by a path.</p>
<p>Modules themselves also have a unique location identifier.
A package inside a module can import another package from this same module
by using the following import path:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="PG1vZHVsZSBpZGVudGlmaWVyPi88cmVsYXRpdmUgcG9zaXRpb24gb2YgcGFja2FnZSB3aXRoaW4gbW9kdWxlPjo8cGFja2FnZSBuYW1lPg==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>&lt;module identifier&gt;/&lt;relative position of package within module&gt;:&lt;package name&gt;</span></span></code></pre></div></div>
</div>
<p>So suppose our module is identified as <code>example.com/transport</code> and a package
located at <code>schemas/trains</code> and has the package name <code>track</code>,
then other packages can import this packages as:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="aW1wb3J0ICJleGFtcGxlLmNvbS90cmFuc3BvcnQvc2NoZW1hcy90cmFpbnM6dHJhY2si">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>import &#34;example.com/transport/schemas/trains:track&#34;</span></span></code></pre></div></div>
</div>
<p>Putting it all together:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cm9vdCAgICAgICAgICAgICAgICAgICAgLy8gbXVzdCBjb250YWluOgp8LS0gY3VlLm1vZAp8ICAgfC0tIG1vZHVsZS5jdWUgICAgICAvLyBtb2R1bGU6ICJleGFtcGxlLmNvbS90cmFuc3BvcnQiCnwtLSBzY2hlbWFzCnwgICB8LS0gdHJhaW5zCnwgICB8ICAgfC0tIHRyYWNrLmN1ZSAgIC8vIHBhY2thZ2UgdHJhY2sKLi4uCnwtLSBkYXRhLmN1ZSAgICAgICAgICAgIC8vIGltcG9ydCAiZXhhbXBsZS5jb20vdHJhbnNwb3J0L3NjaGVtYXMvdHJhaW5zOnRyYWNrIg==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>root                    // must contain:
</span></span><span style="display:flex;"><span>|-- cue.mod
</span></span><span style="display:flex;"><span>|   |-- module.cue      // module: &#34;example.com/transport&#34;
</span></span><span style="display:flex;"><span>|-- schemas
</span></span><span style="display:flex;"><span>|   |-- trains
</span></span><span style="display:flex;"><span>|   |   |-- track.cue   // package track
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>|-- data.cue            // import &#34;example.com/transport/schemas/trains:track&#34;</span></span></code></pre></div></div>
</div>
<p>The relative position may not be within the <code>cue.mod</code> directory.</p>
<!-- TODO: about how to resolve these names into concrete locations. -->
<h3 id="location-on-disk">
    <a href="#location-on-disk" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Location on disk</h3>
<p>A <code>.cue</code> file can import a package by specifying its import path
with the import statement. For instance,</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="aW1wb3J0ICgKCSJsaXN0IgoKCSJleGFtcGxlLmNvbS9wYXRoL3RvL3BhY2thZ2UiCik=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;list&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;example.com/path/to/package&#34;</span>
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div></div>
</div>
<p>Packages for which the first path component is not a fully qualified
domain name are builtin packages and are not stored on disk.
For other packages, CUE determines the location on disk as follows:</p>
<ol>
<li>If a module identifier is defined and is a prefix of the import path,
the package is located at the corresponding location relative to the
module root.</li>
<li>Otherwise, the package contents looked up in
the <code>cue.mod/pkg</code>, <code>cue.mod/gen</code>, and <code>cue.mod/usr</code> subdirectores.</li>
</ol>
<p>In Step 2, an import path may match more than one directory.
In that case, the contents of <em>all</em> matched directories are used to build the
package.
Virtually, these directories should be seen as a single directory tree.</p>
<h2 id="builtin-packages">
    <a href="#builtin-packages" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Builtin Packages</h2>
<p>CUE has a collection of builtin packages that are compiled into the <code>.cue</code>
binary.</p>
<p>A list of these packages form
can be found here <a href="https://pkg.go.dev/cuelang.org/go/pkg">https://pkg.go.dev/cuelang.org/go/pkg</a>.
The intention is to have this documentation in CUE format, but for now
we are piggybacking on the Go infrastructure to host and present the CUE
packages.</p>
<p>To use a builtin package, import its path relative to <code>cuelang.org/go/pkg</code>
and invoke the functions using its qualified identifier.
For instance:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="regexp.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="regexp.cue">



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>regexp.cue
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="regexp.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="aW1wb3J0ICJyZWdleHAiCgptYXRjaGVzOiByZWdleHAuRmluZFN1Ym1hdGNoKCMiXihbXjpdKik6KFxkKykkIiMsICJsb2NhbGhvc3Q6NDQzIik=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#b84">&#34;regexp&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>matches<span style="font-weight:bold">:</span> regexp.FindSubmatch(<span style="color:#b84">#&#34;^([^:]*):(\d+)$&#34;#</span><span style="font-weight:bold">,</span> <span style="color:#b84">&#34;localhost:443&#34;</span>)</span></span></code></pre></div></div>
</div>
</div></div>
</div>

</div><div class="code-tabs__item code-tabs__item--bottom">




<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="terminal"
                data-tab-group="default"
                class="tabs-nav__tab tabs-nav__tab--terminal">TERMINAL
            </div>
        </div></div>

<div class="tabs__content"><div data-tab-item="terminal"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--terminal code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIGV2YWwgcmVnZXhwLmN1ZQ==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>$ cue eval regexp.cue
matches: [&#34;localhost:443&#34;, &#34;localhost&#34;, &#34;443&#34;]</code></pre></div>
</div>
</div></div>
</div>

</div></div>

<h2 id="file-organization">
    <a href="#file-organization" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>File Organization</h2>
<h3 id="instances">
    <a href="#instances" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Instances</h3>
<p>Within a module, all <code>.cue</code> files with the same package name are part
of the same package.
A package is evaluated within the context of a certain directory.
Within this context, only the files belonging to that package in that
directory and its ancestor directories within the module are combined.
We call that an <em>instance</em> of a package.</p>
<p>Using this approach, the different kind of directories within a module
can be ascribed the following roles:</p>
<ul>
<li><em>module root</em>: schema</li>
<li><em>medial directories</em>: policy</li>
<li><em>leaf directories</em>: data</li>
</ul>
<p>The top of the hierarchy (the module root) defines constraints that apply
across the organization.
Leaf directories typically define concrete instances, inheriting all the
constraints of ancestor directories.
Directories between the leaf and top directory define constraints,
like policies, that only apply to its subdirectories.</p>
<p>Because order of evaluation does not matter in CUE, leaf packages do not
explicitly have to specify which parts of their parents they want to inherit
from.
Instead, parent directories can be seen to &ldquo;push out&rdquo;
constraints to their subdirectories.
In other words, parent directories define policies to which subdirectories
must comply.</p>
<!-- TODO

### Example

Examples showing top-level schemas, policy and concrete files.

--?

<!-- TODO
### Merged View

-->
                        
                    </div>
    <footer class="article__footer">
    <div class="article__lastmod">
        <p class="lastmod">
         <a class="lastmod__link" href="https://github.com/cue-lang/cuelang.org/commit/229aa1e685e27a12f30ddcd92b3c231dac48942a">
                Last modified May 23, 2025</a>
    </p>

    </div>

    <div class="article__footer-meta"><div class="article__footer-tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:modules"
                class="tag tag--red">
                    modules
                </a>
            </li></ul>

</div><div class="article__share"><details class="share" data-dropdown>
    <summary class="button button--icon button--light-blue share__button">
        



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--share"></use>
</svg>

        <span>Open share options</span>
    </summary>

    <ul class="share__list">
        <li class="share__item" data-copy>
            <button class="share__copy" data-copy-button data-copy-type="url" data-copy-value="//localhost:1313/docs/concept/old-modules-packages-instances/">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>

                <span class="share__link-text">Copy link</span>
                <span class="share__copy-message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank" href="https://twitter.com/intent/tweet?url=//localhost:1313/docs/concept/old-modules-packages-instances/&text=%20This%20guide%20describes%20&amp;ldquo;old&amp;rdquo;%20modules,%20which%20were%20the%20previous%20implementation%20of%20dependencies%20in%20CUE.%20It&amp;rsquo;s%20preserved%20here%20for%20folks%20using%20previous%20versions%20of%20CUE,%20but%20if%20you%20are%20using%20CUE%20v0.9.0%20or%20later%20then%20you%20are%20probably%20using%20&amp;ldquo;new&amp;rdquo;%20modules%20and%20you%20don&amp;rsquo;t%20need%20to%20read%20this%20page.%0aThe%20current%20version%20of%20this%20guide%20covers%20&amp;ldquo;new&amp;rdquo;%20modules,%20which%20are%20the%20current%20and%20recommended%20way%20to%20manage%20CUE%20dependencies.%20The%20FAQ%20&amp;ldquo;New%20modules%20vs%20old%20modules&amp;rdquo;%20explains%20their%20differences.%0aWe%20suggest%20you%20start%20by%20reading%20the%20modules%20concept%20guide%20to%20learn%20more%20about%20modules.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                <p><span class="share__link-text">Share on X (Twitter)</span></p>
            </a>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank"
            href="https://www.linkedin.com/shareArticle?mini=true&url=//localhost:1313/docs/concept/old-modules-packages-instances/&summary=%20This%20guide%20describes%20&amp;ldquo;old&amp;rdquo;%20modules,%20which%20were%20the%20previous%20implementation%20of%20dependencies%20in%20CUE.%20It&amp;rsquo;s%20preserved%20here%20for%20folks%20using%20previous%20versions%20of%20CUE,%20but%20if%20you%20are%20using%20CUE%20v0.9.0%20or%20later%20then%20you%20are%20probably%20using%20&amp;ldquo;new&amp;rdquo;%20modules%20and%20you%20don&amp;rsquo;t%20need%20to%20read%20this%20page.%0aThe%20current%20version%20of%20this%20guide%20covers%20&amp;ldquo;new&amp;rdquo;%20modules,%20which%20are%20the%20current%20and%20recommended%20way%20to%20manage%20CUE%20dependencies.%20The%20FAQ%20&amp;ldquo;New%20modules%20vs%20old%20modules&amp;rdquo;%20explains%20their%20differences.%0aWe%20suggest%20you%20start%20by%20reading%20the%20modules%20concept%20guide%20to%20learn%20more%20about%20modules.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-linkedin"></use>
</svg>

                <p><span class="share__link-text">Share on Linkedin</span></p>
            </a>
        </li>
    </ul>
</details>
</div>
    </div>
</footer>
</div>
            </article>

            



<div class="prevnext">
    <nav class="prevnext__container" aria-label="Previous/Next navigation"><a class="prevnext__prev" href="/docs/concept/modules-packages-instances/" aria-label="Previous - Modules, Packages, and Instances">
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--circle-arrow-left"></use>
</svg>

                <span class="prevnext__text">Modules, Packages, and Instances</span>
            </a><a class="prevnext__next" href="/docs/concept/querying-use-case/" aria-label="Next - Querying use case">
                <span class="prevnext__text">Querying use case</span>
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--circle-arrow-right"></use>
</svg>

            </a></nav>
</div>

        </div>
        <div id="docs-menu" class="docs__aside">
            <div class="docs__backdrop" data-docs-close="docs"></div>
            <div class="docs__nav">
                <nav class="tree">
    <ul class="tree__list is-book">
        
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/introduction/" title="Introduction">
            <span class="tree__text">Introduction</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tour/" title="Tour">
            <span class="tree__text">Tour</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/integration/" title="Integrations">
            <span class="tree__text">Integrations</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tutorial/" title="Tutorials">
            <span class="tree__text">Tutorials</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/howto/" title="How-to Guides">
            <span class="tree__text">How-to Guides</span>
        </a>
    </li>
    
    
    

    <li class="tree__item has-children is-active-path">
        <a class="tree__link" href="/docs/concept/" title="Concept Guides">
            <span class="tree__text">Concept Guides</span>
        </a>
            <ul class="tree__list is-chapter">
                
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/popular-guides/" title="Popular guides">
            <span class="tree__text">Popular guides</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/the-logic-of-cue/" title="The Logic of CUE">
            <span class="tree__text">The Logic of CUE</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/modules/" title="Modules">
            <span class="tree__text">Modules</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/faq/" title="Frequently Asked Questions">
            <span class="tree__text">Frequently Asked Questions</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item is-active">
        <a class="tree__link" href="/docs/concept/old-modules-packages-instances/" title="Old Modules, Packages, and Instances">
            <span class="tree__text">Old Modules, Packages, and Instances</span>
        </a>
            

<nav id="TableOfContents" class="toc">
  <ol class="toc__list">
    <li class="toc__item"><a href="#overview" class="toc__link"><span class="toc__text">Overview</span></a></li>
    <li class="toc__item"><a href="#modules" class="toc__link"><span class="toc__text">Modules</span></a></li>
    <li class="toc__item"><a href="#packages" class="toc__link"><span class="toc__text">Packages</span></a></li>
    <li class="toc__item"><a href="#builtin-packages" class="toc__link"><span class="toc__text">Builtin Packages</span></a></li>
    <li class="toc__item"><a href="#file-organization" class="toc__link"><span class="toc__text">File Organization</span></a></li>
  </ol>
</nav>

    </li>
            </ul>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/" title="References">
            <span class="tree__text">References</span>
        </a>
    </li>
    </ul>
</nav>



                <button type="button" class="docs__hide button button--icon button--raised button--light-blue"
                        aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--chevron-left"></use>
</svg>
<span>Hide side navigation</span>
                </button>
            </div>
        </div>

        <button type="button" class="docs__show button button--icon button--raised button--light-blue"
                aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--chevron-right"></use>
</svg>
<span>Show side navigation</span>
        </button>
    </div>

            </main>

            <footer id="site-footer" class="site__footer">
                




<div class="footer">
    <div class="footer__sitemap">
        <nav class="footer__container" aria-label="Footer menu">
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Get Started</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/tour/">
                                    <span class="nav__text">Language Tour</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Playground</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install CUE</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Community</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/community">
                                    <span class="nav__text">The CUE Community</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue/blob/master/CONTRIBUTING.md#contribution-guide" target="_blank">
                                    <span class="nav__text">Contributing</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/reference/code-of-conduct/">
                                    <span class="nav__text">Code of Conduct</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/slack">
                                    <span class="nav__text">Slack Workspace</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/discord">
                                    <span class="nav__text">Discord Server</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Connect</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
        </nav>
    </div>

    <div class="footer__legal">
        <nav class="footer__container" aria-label="Legal">
            <div class="nav nav--legal">
                <ul class="nav__list">
                    <li class="nav__item">
                        <span class="nav__text">&copy; 2025 CUE</span>
                    </li>

                    
                        <li class="nav__item"><a class="nav__link"
                               href="/privacy-policy/">
                                <span class="nav__text">Privacy policy</span>
                            </a>
                        </li>
                    

                    <li class="nav__item">
                        <a class="nav__link" href="https://github.com/cue-lang/cue/issues/new?labels=Triage,NeedsInvestigation,cuelang.org&amp;title=cuelang.org:%20&amp;template=bug_report.md&amp;body=%23%23%23&#43;What&#43;page&#43;were&#43;you&#43;looking&#43;at%3F%0A%0A%2F%2Flocalhost%3A1313%2Fdocs%2Fconcept%2Fold-modules-packages-instances%2F%0A%0A%23%23%23&#43;What&#43;version&#43;of&#43;the&#43;site&#43;were&#43;you&#43;looking&#43;at%3F%0A%0Ahttps%3A%2F%2Fgithub.com%2Fcue-lang%2Fcuelang.org%2Fcommit%2F51c481fbb8a5ad6f6c4ad3acc209db0d591988c7%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;do%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;expect%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;see&#43;instead%3F%0A%0A" target="_blank">
                            <span class="nav__text">Report an Issue</span>
                        </a>
                    </li>
                </ul>
            </div>

            <a href="/" class="footer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </nav>
    </div>
</div>

            </footer>
        </div>

        
                <div class="notification-bar is-hidden" data-notification-bar="cue-minor-release-v0.13">
        <div class="notification-bar__container">
            <div class="notification-bar__content">
                <strong>CUE v0.13 is now available</strong> &ndash; learn more about its <a href="https://github.com/cue-lang/cue/releases/tag/v0.13.0">new features and improvements</a>
            </div>
            <a class="button button--outline notification-bar__cta" href="/docs/introduction/installation/">
                    <span class="button__text">Install CUE</span>
                    



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--download"></use>
</svg>

                </a>
            <button type="button" class="button button--icon button--small notification-bar__close">
                



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--close"></use>
</svg>

                <span class="button__text">Close</span>
            </button>
        </div>
    </div>

        
        

<div id="mobile-menu" class="drawer drawer--mobile" data-drawer="menu">
    <div class="drawer__backdrop" data-drawer-close="menu"></div>
    <div class="drawer__container" tabindex="0">
        <div class="drawer__header">
            <a href="/" class="drawer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>

            <div class="drawer__close">
                <button type="button" class="button button--white button--icon" data-drawer-close="menu">
                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--close"></use>
</svg>

                    <span class="button__text">Hide menu</span>
                </button>
            </div>
        </div>

        <div class="drawer__content">
            <div class="drawer__menu">
                <nav class="nav nav--mobile" aria-label="Mobile menu">
                    <ul class="nav__list">
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Play</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/community/">
                                    <span class="nav__text">Community</span>
                                </a>
                            </li>
                        

                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install</span>
                                </a>
                            </li>
                        

                        <li class="nav__item nav__item--search">





<div data-search-autocomplete="drawer"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-drawer"></div>
</div>
</li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="drawer__footer">
            <nav class="nav nav--social" aria-label="Social">
                <ul class="nav__list">
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://github.com/cue-lang/cue"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--github"></use>
</svg>

                                <span class="nav__text">GitHub</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/slack">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--slack"></use>
</svg>

                                <span class="nav__text">Slack</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/discord">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-discord"></use>
</svg>

                                <span class="nav__text">Discord</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://twitter.com/cue_lang"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                                <span class="nav__text">X (Twitter)</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://bsky.app/profile/cuelang.org"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                <span class="nav__text">Bluesky</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://www.youtube.com/@cuelang/videos"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-youtube"></use>
</svg>

                                <span class="nav__text">YouTube</span>
                            </a>
                        </li>
                    
                </ul>
            </nav>
        </div>
    </div>
</div>

        

    <script src="/js/main.js" defer></script>






    </body>
</html>
