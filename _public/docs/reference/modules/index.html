<!doctype html>
<html lang="en" dir="ltr" class="no-js">
    <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Introduction Modules are how CUE manages dependencies. This document is a detailed reference manual for CUE’s module system. CUE’s modules support has a lot in …">
<meta name="generator" content="Hugo 0.147.5">

<meta name="robots" content="noindex, nofollow">

<link rel="canonical" href="https://cuelang.org/docs/reference/modules/" />
<link rel="shortcut icon" href="/favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/webmanifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#232a68">
<meta name="msapplication-TileColor" content="#232a68">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#232a68">

<title>CUE Modules | CUE</title><meta property="og:url" content="/docs/reference/modules/">
  <meta property="og:site_name" content="CUE">
  <meta property="og:title" content="CUE Modules">
  <meta property="og:description" content="Introduction Modules are how CUE manages dependencies. This document is a detailed reference manual for CUE’s module system. CUE’s modules support has a lot in common with Go’s modules and this document has substantial parts that have been taken directly from the Go modules reference. Thanks very much to Russ Cox and the Go team for their amazing work there.
This document largely supercedes the prior modules documentation although, as a transitionary measure, the CUE tool still supports the import of packages present in the cue.mod/pkg, cue.mod/usr and cue.mod/gen directories. This only applies to the main module, and if there is any ambiguity with respect to regular module dependencies an “ambiguous import” error will be reported.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-05-23T16:51:37+01:00">
    <meta property="og:image" content="/img/social.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="/img/social.png">
  <meta name="twitter:title" content="CUE Modules">
  <meta name="twitter:description" content="Introduction Modules are how CUE manages dependencies. This document is a detailed reference manual for CUE’s module system. CUE’s modules support has a lot in common with Go’s modules and this document has substantial parts that have been taken directly from the Go modules reference. Thanks very much to Russ Cox and the Go team for their amazing work there.
This document largely supercedes the prior modules documentation although, as a transitionary measure, the CUE tool still supports the import of packages present in the cue.mod/pkg, cue.mod/usr and cue.mod/gen directories. This only applies to the main module, and if there is any ambiguity with respect to regular module dependencies an “ambiguous import” error will be reported.">





<link rel="preload" href="/scss/main.min.8351627014ac2bf7396348f13a7d9959c01f0c9eee800e29af55ada087dad866.css" as="style">
<link href="/scss/main.min.8351627014ac2bf7396348f13a7d9959c01f0c9eee800e29af55ada087dad866.css" rel="stylesheet" integrity="">



<link rel="preload" href="/fonts/inter/regular.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/500.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/700.woff2" as="font" crossorigin="anonymous">



<script>(()=>{document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js")})()</script>
</head>
    <body itemscope itemtype="https://schema.org/WebPage">
        <meta itemprop="name" content="CUE Modules">
<meta itemprop="description" content=" Introduction Modules are how CUE manages dependencies. This document is a detailed reference manual for CUE&rsquo;s module system. CUE&rsquo;s modules support has a lot in common with Go&rsquo;s modules and this document has substantial parts that have been taken directly from the Go modules reference. Thanks very much to Russ Cox and the Go team for their amazing work there.
This document largely supercedes the prior modules documentation although, as a transitionary measure, the CUE tool still supports the import of packages present in the cue.mod/pkg, cue.mod/usr and cue.mod/gen directories. This only applies to the main module, and if there is any ambiguity with respect to regular module dependencies an &ldquo;ambiguous import&rdquo; error will be reported.
">

    
        <meta itemprop="dateModified" content="2025-05-23T16:51:37+01:00" >
    
            
        <meta itemprop="image" content="/img/social.png"/>
            
    <meta itemprop="keywords" content="modules," />

        <a id="skip-nav" class="skip-link" href="#site-main" target="_self">Skip to content</a>

        <div class="site">
            <header id="site-header" class="site__header">
                

<div class="header header--wide" data-header>
    <div class="header__container">
        <div class="header__background"></div>

        <div class="header__branding">
            <a href="/" class="header__logo" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </div>

        <div class="header__main">
            <nav class="nav nav--main" aria-label="Main menu">
                <ul class="nav__list">
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/docs/"><span class="nav__text">Documentation</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/play/"><span class="nav__text">Play</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/community/"><span class="nav__text">Community</span></a>
                        </li>
                    
                </ul>
            </nav>
        </div>

        <div class="header__secondary">
            <div class="header__icons">
                <nav class="nav nav--social" aria-label="Social">
                    <ul class="nav__list"><li class="nav__item"><a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/slack">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--slack"></use>
</svg>

                                    <span class="nav__text">Slack</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/discord">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-discord"></use>
</svg>

                                    <span class="nav__text">Discord</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-youtube"></use>
</svg>

                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li></ul>
                </nav>
            </div>

            <div class="header__cta"><a class="button button--skinny"
                       href="/docs/introduction/installation/"><span class="button__text">Install</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--download"></use>
</svg>
</a></div>

            <div class="header__search" data-menu>
                <a href="/search" class="button button--icon button--white-simple" rel="search" data-menu-dropdown="header-dropdown-search">



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--search"></use>
</svg>
<span>Search</span>
                </a>

                <div class="header__dropdown header__dropdown--search" data-menu-dropdown-target="header-dropdown-search">
                    <p class="header__search-title">What are you looking for?</p>





<div data-search-autocomplete="menu"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-menu"></div>
</div>
</div>
            </div>

            <div class="header__toggle">
                <button class="button button--outline" data-drawer-toggle="menu" aria-haspopup="menu" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="button__text">Menu</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--menu"></use>
</svg>
</button>
            </div>
        </div>
    </div>
</div>

            </header>

            <main id="site-main" class="site__content" itemprop="mainContentOfPage">
                

    <div class="docs" data-docs>
        <div class="docs__main">
            <nav class="breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb__list">
    

    
    

    
        <li class="breadcrumb__item"><a class="breadcrumb__link" href="/docs/reference/">References</a></li>
    
    

    
        <li class="breadcrumb__item" aria-current="page"><h1 class="breadcrumb__text">CUE Modules</h1></li>
    
    </ol>
</nav>


            <article class="article article--docs" itemscope itemtype="https://schema.org/TechArticle">
                <meta itemprop="articleBody" content="
    




    

Introduction
Modules are how CUE manages dependencies.
This document is a detailed reference manual for CUE&rsquo;s module system.
CUE&rsquo;s modules support has a lot in common with Go&rsquo;s modules
and this document has substantial parts that have been taken
directly from the Go modules reference.
Thanks very much to Russ Cox and the Go team for their
amazing work there.
This document largely supercedes the
prior modules documentation
although, as a transitionary measure, the CUE tool still supports
the import of packages present in the cue.mod/pkg, cue.mod/usr and
cue.mod/gen directories. This only applies to the main module, and if
there is any ambiguity with respect to regular module dependencies an
&ldquo;ambiguous import&rdquo; error will be reported.

    




    

Modules, packages, and versions
A module is a collection of packages that are released,
versioned, and distributed together. Modules are downloaded from
OCI-compliant
artifact registries. This means that if you are deploying CUE to the cloud,
you can use the same distribution mechanism that you might be using for
Docker images to deploy your CUE configuration too.
A module is identified by a module path, which is declared in a
cue.mod/module.cue file, together with information about the module’s
dependencies. The module root directory is the directory that contains
the cue.mod directory. The main module is the module containing the
directory where the cue command is invoked.
Each package within a module is a collection of source files that are
unified together, usually all in the same directory.  A package path
is the module path joined with the subdirectory containing the package,
relative to the module root.


    




    

Module paths
A module path is the canonical name for a module, declared with the
module field in the module’s cue.mod/module.cue file. A module’s
path is the prefix for package paths within the module.
A module path consists of a root path and a major version suffix,
for example in the module path myhost.example/foo@v0, the root path is
myhost.example/foo and the major version suffix is @v0.
Module paths are domain-name qualified: a module path always begins
with a host name, although that host is only a guide to the origin of
the module and is not used directly to fetch the module&rsquo;s contents (see
here for details about that)). The expectation is
that any modules you create should have names that are inside domains
or namespaces that you have control of, enabling modules from different
creators to live together without conflicts in the same registry.

The root path is the
portion of the module path that identifies the OCI repository within
a registry. All versions of a module are located in that same OCI
repository.
The major version suffix declares the major
version of the module and is of the form @v1 where the version
v1 here must match the major version of the full version it&rsquo;s been
published as.

There are also several lexical restrictions on characters allowed in
module paths. As modules are stored in OCI repositories, these correspond
to the restrictions
documented there.
To summarize:

The path must consist of one or more path elements separated by slashes
(/, U&#43;002F). It must not begin or end with a slash.
No characters are allowed in the path except lower case ASCII letters,
ASCII digits, and limited ASCII punctuation (-, _, .).
The first character of each path element is a letter or a digit.
No more than one period (.) is allowed in sequence.
No more than two underscores (_) are allowed in sequence.

In addition, the first path element must contain at least one period character (.).
No restriction is directly enforced on the length of module names, but as registries
can refuse module paths over 128 characters, and it&rsquo;s possible to specify
an arbitrary storage prefix, long module paths may fail.

    




    

Versions
A version identifies an immutable snapshot of a module, which may be
either a release or a
pre-release (with a pre-release suffix). Each version starts with the letter
v, followed by a semantic version. See
Semantic Versioning 2.0.0 for details on how versions are
formatted, interpreted, and compared.
To summarize, a semantic version consists of three non-negative integers (the
major, minor, and patch versions, from left to right) separated by dots. The
patch version may be followed by an optional pre-release string starting with a
hyphen.

Each part of a version indicates whether the version is stable and whether it is
compatible with previous versions.

The major version must be incremented and the minor
and patch versions must be set to zero after a backwards incompatible change
is made to the module&rsquo;s public interface or documented functionality, for
example, after a package is removed.
The minor version must be incremented and the patch
version set to zero after a backwards compatible change, for example, after a
new function is added.
The patch version must be incremented after a change
that does not affect the module&rsquo;s public interface, such as a bug fix or
change to the documentation.
The pre-release suffix indicates a version is a pre-release. Pre-release versions sort before
the corresponding release versions. For example, v1.2.3-pre comes before
v1.2.3.

A version is considered unstable if its major version is 0 or it has a
pre-release suffix. Unstable versions are not subject to compatibility
requirements. For example, v0.2.0 may not be compatible with v0.1.0, and
v1.5.0-beta may not be compatible with v1.5.0.

    




    

Major version suffixes
Module paths must have a major version
suffix like @v2 that matches the major version. For example, if a module
has the path foo.example/mod@v1 at v1.0.0, it must have the path
foo.example/mod@v2 at version v2.0.0.
Major version suffixes implement the import compatibility
rule:

    
If an old package and a new package have the same import path,
the new package must be backwards compatible with the old package.


    


By definition, packages in a new major version of a module are not backwards
compatible with the corresponding packages in the previous major version.
Consequently each new major version of a package needs a new import path.
This is accomplished by adding a major version suffix to the module path.
The import path for a package also includes the major version suffix,
providing a distinct import path for each incompatible version.
Unlike in Go,
major version suffixes are always required in module paths	. The burden
of changing import paths in packages is eased by allowing the
major version suffix to be omitted and inferred from the module.cue
file. See major version defaults for details.
Major version suffixes let multiple major versions of a module coexist in the
same build. This may be necessary due to a diamond dependency
problem. Ordinarily, if
a module is required at two different versions by transitive dependencies, the
higher version will be used. However, if the two versions are incompatible,
neither version will satisfy all clients. Since incompatible versions must have
different major version numbers, they must also have different module paths due
to major version suffixes. This resolves the conflict: modules with distinct
suffixes are treated as separate modules, and their packages—even packages in
same subdirectory relative to their module roots—are distinct.

    




    

Major version defaults
When a package import path does not contain a major version,
the module.cue file is consulted to determine which major
version of the module to use. In a canonical module.cue file,
all imports without major versions will have an explicit default: true
present in the corresponding dependency entry, but cue mod tidy
will add those if not present and there is no ambiguity in the build list.
That is, given only a single major version of a module in the build list,
the major version need not be specified in any of the package imports.

    




    

Resolving a package to a module
When CUE loads a package using a package
path, it needs to determine which module provides the
package.
It starts by searching the build list for
modules with paths that are prefixes of the package path. For example, if the
package foo.example/a/b is imported, and the module foo.example/a is in the
build list, CUE will check whether foo.example/a contains the
package, in the directory b. At least one file with the .cue extension must
be present in a directory for it to be considered a package. Build
constraints are not applied for this
purpose. If exactly one module in the build list provides the package, that
module is used. If no modules provide the package or if two or more modules
provide the package, CUE reports an error. The cue mod tidy command
will attempt to find new modules providing missing
packages and to update cue.mod/module.cue accordingly.


    




    

The CUE_REGISTRY environment variable
When CUE looks up a new module for a package path, it checks the
CUE_REGISTRY environment variable. This determines the registry
and repository within a registry that a module will be searched for.
It holds a complete list of any registries that are consulted for fetching modules.
Specifically it holds a comma-separated list specifying which registry to use for
downloading and publishing modules. A registry is specifed
as follows:

                Copy code
                
                    Copied!
                
            [modulePrefix=]hostname[:port][/repoPrefix][&#43;insecure]

The optional modulePrefix specifes that all modules with a path that
has the given prefix will use the associated registry. If there are
multiple registries with a prefix, the longest matching prefix wins.
It&rsquo;s an error for there to be multiple entries with the same prefix.
The hostname holds the OCI registry host (in square brackets if it&rsquo;s
an IPv6 address), with an optional numeric TCP port.
Each module is stored inside its own repository in the registry which
is named after the module path.  The repoPrefix holds a prefix to be
added to the repository name.  That is, all repositories in the registry
will be of the form repoPrefix/modulePath.
If there&rsquo;s a &#43;insecure suffix it specifies that an insecure HTTP
connection should be used to this registry. The default is to use a
secure HTTPS connection except for localhost addresses. For symmetry,
it&rsquo;s also possible to use &#43;secure to force an HTTPS connection even
on localhost connections.
For example, given:

                Copy code
                
                    Copied!
                
            CUE_REGISTRY=public-registry.example,github.com/acmecorp=registry.acme.example:6000/modules

all modules, such as github.com/foo/bar will be fetched from
public-registry.example with the exception of modules with the
prefix github.com/acmecorp/, such as github.com/acmecorp/somemodule
which will be fetched from the modules/github.com/acmecorp/somemodule repository
in the host registry.acme.example at port 6000.

    




    

cue.mod/module.cue files
A module is defined by a cue.mod directory in its root containing
a module.cue CUE file.


                Copy code
                
                    Copied!
                
            // module indicates the module&#39;s path.
module!: #Module

// version indicates the language version used by the code in this module
// - the minimum version of CUE required to evaluate the code in this
// module. When a later version of CUE is evaluating code in this module,
// this will be used to choose version-specific behavior. If an earlier
// version of CUE is used, an error will be given.
language?: version?: #Semver

// source holds information about the source of the files within the
// module. This field is mandatory at publish time.
source?: #Source

// description describes the purpose of this module.
description?: string

// deps holds dependency information for modules, keyed by module path.
deps?: [#Module]: #Dep

// custom holds arbitrary data intended for use by third-party tools.
// Each field at the top level represents a tooling namespace,
// conventionally a module or domain name. Data migrated from legacy
// module.cue files is placed in the &#34;legacy&#34; namespace.
custom?: [#Module | &#34;legacy&#34;]: [_]: _

#Dep: {
	// v indicates the minimum required version of the module.
	v!: #Semver

	// default indicates this module is used as a default in case more
	// than one major version is specified for the same module path.
	// Imports must specify the exact major version for a module path if
	// there is more than one major version for that path and default is
	// not set for exactly one of them.
	default?: bool
}

// #Module constrains a module path. The major version indicator is
// optional, but should always be present in a normalized module.cue
// file.
#Module: =~#&#34;^[^@]&#43;(@v(0|[1-9]\d*))$&#34;#

// #Semver constrains a semantic version. This regular expression is taken
// from https://semver.org/spec/v2.0.0.html
#Semver: =~#&#34;^v(?P&lt;major&gt;0|[1-9]\d*)\.(?P&lt;minor&gt;0|[1-9]\d*)\.(?P&lt;patch&gt;0|[1-9]\d*)(?:-(?P&lt;prerelease&gt;(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\&#43;(?P&lt;buildmetadata&gt;[0-9a-zA-Z-]&#43;(?:\.[0-9a-zA-Z-]&#43;)*))?$&#34;#

// #Source describes a source of truth for a module&#39;s content.
#Source: {
	// kind specifies the kind of source.
	//
	// The special value &#34;self&#34; signifies a module is stand-alone, associated
	// with no particular source. The module&#39;s file list is determined from
	// the contents of the directory (and its subdirectories) that contains
	// the cue.mod directory.
	//
	// See https://cuelang.org/docs/reference/modules/#determining-zip-file-contents
	// for details on all the possible values for kind, and how they relate
	// to determining the list of files in a module.
	kind!: &#34;self&#34; | &#34;git&#34;
}

For example:

                Copy code
                
                    Copied!
                
            language: version: &#34;v0.4.3&#34;

module: &#34;foo.example/my/thing@v1&#34;

deps: {
	&#34;foo.example/other/thing@v1&#34;: v: &#34;v1.0.2&#34;
	&#34;foo.example/new/thing@v2&#34;: v:   &#34;v2.3.4&#34;
}

The module.cue file is designed to be human readable and machine writable. The
cue command will provide several subcommands that manipulate cue.mod/module.cue files.
For now, the only one is cue mod tidy which will fetch dependencies
and canonicalize the module.cue file to reflect all the most recent versions.
A cue.mod/module.cue file is required for all modules.

    




    

Minimal version selection (MVS)
CUE uses an algorithm called Minimal version selection (MVS) to select
a set of module versions to use when building packages. MVS is described in
detail in Minimal Version Selection by
Russ Cox.
Conceptually, MVS operates on a directed graph of modules, specified with
module.cue files. Each vertex in the graph represents a
module version. Each edge represents a minimum required version of a dependency,
specified with an entry in the deps field.
MVS produces the build list as output, the list of module
versions used for an evaluation.
MVS starts at the main modules (special vertices in the graph that have no
version) and traverses the graph, tracking the highest required version of each
module. At the end of the traversal, the highest required versions comprise the
build list: they are the minimum versions that satisfy all requirements.
Unlike other dependency management systems, the build list is
not saved in a &ldquo;lock&rdquo; file. MVS is deterministic, and the build list doesn&rsquo;t
change when new versions of dependencies are released, so MVS is used to compute
it at the beginning of every module-aware command.

        
    Module version graph with visited versions highlighted
                
        


Consider the example in this diagram. The main module requires module A
at version 1.2 or higher and module B at version 1.2 or higher. A 1.2 and B 1.2
require C 1.3 and C 1.4, respectively. C 1.3 and C 1.4 both require D 1.2.
MVS visits and loads the cue.mod/module.cue file for each of the module versions
highlighted in blue. At the end of the graph traversal, MVS returns a build list
containing the bolded versions: A 1.2, B 1.2, C 1.4, and D 1.2. Note that higher
versions of B and D are available but MVS does not select them, since nothing
requires them.

    




    

Module storage format
Modules are stored in a registry using a standard manifest &#43; blob
format. There is rarely any need to
interact directly with these artifacts, since the cue command creates, downloads,
and extracts them automatically from registries. However, it&rsquo;s still useful to know about these
files to understand cross-platform compatibility constraints.
A module is stored in a registry with a top level manifest with media type
application/vnd.oci.image.manifest.v1&#43;json and artifact type
application/vnd.cue.module.v1&#43;json, that points to two blobs.
The first blob (also known as a &ldquo;layer 0&rdquo; although there&rsquo;s actually
no layering going on here) has media type application/zip and holds the full contents
of the module. The second blob, layer 1, has media type application/vnd.cue.modulefile.v1
and stores an exact copy of the contents of the cue.mod/module.cue file
from the zip file. The latter enables fast access to the dependency information
without the need to download the entire module archive.



    




    

Determining zip file contents
The source field in module.cue is used by cue mod publish to determine
which files to include in a module zip. It is required when publishing a module.
The source.kind field specifies the kind of source. The supported kinds are
listed below.
source: kind: &quot;self&quot; determines the module file list from the module root
directory tree on disk.
source: kind: &quot;git&quot; requires that the module root directory be under the
control of a Git VCS repository. The git ls-files
command is then used to determine the module file list within the module root
directory. When publishing a module that is not in the repository root
directory, if the module does not have a file named LICENSE in its root
directory, cue mod publish will include the file named LICENSE from the
repository root directory at the module root. Every entry in the module file
list must be &ldquo;clean&rdquo; with respect to the current commit.
The initial list of files determined by the source is then filtered according
to file path and size constraints.

    




    

File path and size constraints
There are a number of restrictions on the content of module zip files. These
constraints ensure that zip files can be extracted safely and consistently on
a wide range of platforms.

A module zip file may be at most 500 MiB in size. The total uncompressed size
of its files is also limited to 500 MiB. module.cue files are limited to 16 MiB.
LICENSE files are also limited to 16 MiB. These limits exist to mitigate
denial of service attacks on users, proxies, and other parts of the module
ecosystem. Repositories that contain more than 500 MiB of files in a module
directory tree should tag module versions at commits that only include files
needed to build the module&rsquo;s packages; videos, models, and other large assets
are usually not needed for builds.
File modes, timestamps, and other metadata are ignored.
Empty directories (entries with paths ending with a slash) may be included
in module zip files but are not extracted. The cue command does not include
empty directories in zip files it creates.
Symbolic links and other irregular files are ignored when creating zip files,
since they aren&rsquo;t portable across operating systems and file systems, and
there&rsquo;s no portable way to represent them in the zip file format.
Files within directories containing cue.mod directories, other than the module
root directory and the cue.mod directory itself, are ignored when creating zip files,
since they are not part
of the module. CUE ignores subdirectories containing cue.mod
directories when extracting zip files.
No two files within a zip file may have paths equal under Unicode case-folding
(see strings.EqualFold).
This ensures that zip files can be extracted on case-insensitive file systems
without collisions.
A cue.mod/module.cue file must appear in the top-level directory.
If present, it must have the name cue.mod/module.cue (all
lowercase). Directories named cue.mod are not allowed in any other directory.
File and directory names within a module may consist of Unicode letters, ASCII
digits, the ASCII space character (U&#43;0020), and the ASCII punctuation
characters !#$%&amp;()&#43;,-.=@[]^_{}~. Note that package paths may not contain all
these characters. See
module.CheckFilePath
and
module.CheckImportPath
for the differences.
A file or directory name up to the first dot must not be a
reserved file name on Windows,
regardless of case (CON, com1, NuL, and so on).


    




    

Module caching
By default, the cue command caches downloaded modules in the local
filesystem. It uses the local user configuration directory by default, but
that can be changed by setting $CUE_CACHE_DIR, which is
documented under cue help environment.

    




    

Authorization
For custom OCI registries, CUE understands the usual conventions
for authorization: specifically the usual way to configure
registry authorization information for custom OCI registries
is by setting them up in the $HOME/.docker/config.json file.
You can
use docker login
to do this or
edit the file directly.
The CUE command knows how to read auth tokens from the $HOME/.docker/config.json,
including running helper commands to fetch them from secure storage.
For organizations that don&rsquo;t allow the use of docker, podman
login allows
using the --compat-auth-file $HOME/.docker/config.json flag to generate a
docker compatible json file.

    




    

Glossary


build constraint: A condition that determines whether a CUE source file is
used when compiling a package. Build constraints are expressed with file-level @if(name)
annotations.

build list: The list of module versions that will be used for a CUE
command such as cue export, or cue vet. The build list is
determined from the main module&rsquo;s cue.mod/module.cue
file and cue.mod/module.cue files in transitively required modules
using minimal version selection. The build
list contains versions for all modules in the module
graph, not just those relevant to a specific command.

canonical version: A correctly formatted version without
a build metadata suffix other than &#43;incompatible. For example, v1.2.3
is a canonical version, but v1.2.3&#43;meta is not.

current module: Synonym for main module.

cue.mod/module.cue file: The file that defines a module&rsquo;s path, requirements, and
other metadata. Appears in the module&rsquo;s root
directory. See the section on cue.mod/module.cue
files.

import path: A string used to import a package in a CUE source file.
Synonymous with package path.

main module: The module in which the cue command is invoked. The main
module is defined by a cue.mod/module.cue file in the current
directory or a parent directory. See Modules, packages, and
versions.

major version: The first number in a semantic version (1 in v1.2.3). In
a release with incompatible changes, the major version must be incremented, and
the minor and patch versions must be set to 0. Semantic versions with major
version 0 are considered unstable.

major version suffix: A module path suffix that matches the major version
number. For example, @v2 in foo.example/mod@v2. See
the section on Major version suffixes.

minimal version selection (MVS): The algorithm used to determine the
versions of all modules that will be used in a build. See the section on
Minimal version selection for details.

minor version: The second number in a semantic version (2 in v1.2.3). In
a release with new, backwards compatible functionality, the minor version must
be incremented, and the patch version must be set to 0.

module: A collection of packages that are released, versioned, and
distributed together.

module cache: A local directory storing downloaded modules, located in
$CUE_CACHE_DIR. See Module cache.

module graph: The directed graph of module requirements, rooted at the main
module. Each vertex in the graph is a module; each edge is a
version from an entry in the deps field in a cue.mod/module.cue file.

module path: A path that identifies a module and acts as a prefix for
package import paths within the module. For example, &quot;cuelang.org/x/foo&quot;.

module root directory: The directory that contains the cue.mod/module.cue file that
defines a module.

package: A collection of source files, usually in the
same directory, that are evaluated together. See the Packages
section
in the CUE Language Specification.

package path: The path that uniquely identifies a package. A package path is
a module path joined with a subdirectory within the module.
For example &quot;cuelang.org/x/foo/html&quot; is the package path for the package in the
module &quot;cuelang.org/x/foo&quot; in the &quot;html&quot; subdirectory. Synonym of
import path.

patch version: The third number in a semantic version (3 in v1.2.3). In
a release with no changes to the module&rsquo;s public interface, the patch version
must be incremented.

pre-release version: A version with a dash followed by a series of
dot-separated identifiers immediately following the patch version, for example,
v1.2.3-beta4. Pre-release versions are considered unstable and are not
assumed to be compatible with other versions. A pre-release version sorts before
the corresponding release version: v1.2.3-pre comes before v1.2.3. See also
release version.

release version: A version without a pre-release suffix. For example,
v1.2.3, not v1.2.3-pre. See also pre-release
version.

repository root path: The portion of a module path that
corresponds to a version control repository&rsquo;s root directory. See Module
paths.

selected version: The version of a given module chosen by minimal version
selection. The selected version is the highest
version for the module&rsquo;s path found in the module graph.

version: An identifier for an immutable snapshot of a module, written as the
letter v followed by a semantic version. See the section on
Versions.

    




    

Related content

Tutorial: Working with a custom module registry
">
<meta itemprop="wordCount" content="4013">


                <div class="article__container">
                    




        <header class="article__header">
        <div class="article__info"><div class="article__authors">


<div class="authors">
    
        
        

        
            <details class="authors__item" data-dropdown>
                <summary class="authors__avatar">
                    <img class="authors__image" src="https://github.com/rogpeppe.png" alt="rogpeppe">

                    
                        <span class="authors__display-name">Roger Peppe</span>
                    
                </summary>

                <div class="authors--popover">
                    <div class="authors__avatar">
                        <img class="authors__image" src="https://github.com/rogpeppe.png" alt="rogpeppe">

                        <div class="authors__name">
                            
                                <span class="authors__display-name">Roger Peppe</span>
                            

                        </div>
                    </div>

                    <div class="authors__links">
                        <div class="authors__github">

                            <a class="authors__link" href="https://github.com/rogpeppe">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Github profile</span>
                                </p>
                            </a>
                        </div>

                        <div class="authors__search">
                            <a class="authors__link" href="/search/?q=author:rogpeppe">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--search"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Search all content by this author</span>
                                </p>
                            </a>
                        </div>
                    </div>
                </div>
            </details>
        
    
</div>
</div><div class="article__tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:modules"
                class="tag tag--red">
                    modules
                </a>
            </li></ul>

</div></div></header>



                    <div class="article__content">
                        
                            <h2 id="intro">
    <a href="#intro" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Introduction</h2>
<p>Modules are how CUE manages dependencies.
This document is a detailed reference manual for CUE&rsquo;s module system.
CUE&rsquo;s modules support has a lot in common with Go&rsquo;s modules
and this document has substantial parts that have been taken
directly from the <a href="https://go.dev/ref/mod">Go modules reference</a>.
Thanks very much to Russ Cox and the Go team for their
amazing work there.</p>
<p>This document largely supercedes the
<a href="/docs/concept/modules-packages-instances/">prior modules documentation</a>
although, as a transitionary measure, the CUE tool still supports
the import of packages present in the <code>cue.mod/pkg</code>, <code>cue.mod/usr</code> and
<code>cue.mod/gen</code> directories. This only applies to the main module, and if
there is any ambiguity with respect to regular module dependencies an
&ldquo;ambiguous import&rdquo; error will be reported.</p>
<h2 id="modules-overview">
    <a href="#modules-overview" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Modules, packages, and versions</h2>
<p>A <dfn>module</dfn> is a collection of packages that are released,
versioned, and distributed together. Modules are downloaded from
<a href="https://github.com/opencontainers/distribution-spec/blob/main/spec.md">OCI-compliant</a>
artifact registries. This means that if you are deploying CUE to the cloud,
you can use the same distribution mechanism that you might be using for
Docker images to deploy your CUE configuration too.</p>
<p>A module is identified by a module path, which is declared in a
<code>cue.mod/module.cue</code> file, together with information about the module’s
dependencies. The module root directory is the directory that contains
the <code>cue.mod</code> directory. The main module is the module containing the
directory where the <code>cue</code> command is invoked.</p>
<p>Each package within a module is a collection of source files that are
unified together, usually all in the same directory.  A package path
is the module path joined with the subdirectory containing the package,
relative to the module root.</p>
<!--
For example, the module "TODO" contains a package in the directory "TODO". That package’s path is "TODO".
-->
<h3 id="module-path">
    <a href="#module-path" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Module paths</h3>
<p>A <dfn>module path</dfn> is the canonical name for a module, declared with the
module field in the module’s <code>cue.mod/module.cue</code> file. A module’s
path is the prefix for package paths within the module.</p>
<p>A module path consists of a root path and a major version suffix,
for example in the module path <code>myhost.example/foo@v0</code>, the root path is
<code>myhost.example/foo</code> and the major version suffix is <code>@v0</code>.</p>
<p>Module paths are domain-name qualified: a module path always begins
with a host name, although that host is only a guide to the origin of
the module and is not used directly to fetch the module&rsquo;s contents (see
<a href="/docs/reference/modules/#cue-registry-env">here</a> for details about that)). The expectation is
that any modules you create should have names that are inside domains
or namespaces that you have control of, enabling modules from different
creators to live together without conflicts in the same registry.</p>
<ul>
<li>The <dfn>root path</dfn> is the
portion of the module path that identifies the OCI repository within
a registry. All versions of a module are located in that same OCI
repository.</li>
<li>The major version suffix declares the major
version of the module and is of the form <code>@v1</code> where the version
<code>v1</code> here must match the major version of the full version it&rsquo;s been
published as.</li>
</ul>
<p>There are also several lexical restrictions on characters allowed in
module paths. As modules are stored in OCI repositories, these correspond
to the restrictions
<a href="https://github.com/opencontainers/distribution-spec/blob/main/spec.md#pulling-manifests">documented there</a>.
To summarize:</p>
<ul>
<li>The path must consist of one or more path elements separated by slashes
(<code>/</code>, U+002F). It must not begin or end with a slash.</li>
<li>No characters are allowed in the path except lower case ASCII letters,
ASCII digits, and limited ASCII punctuation (<code>-</code>, <code>_</code>, <code>.</code>).</li>
<li>The first character of each path element is a letter or a digit.</li>
<li>No more than one period (<code>.</code>) is allowed in sequence.</li>
<li>No more than two underscores (<code>_</code>) are allowed in sequence.</li>
</ul>
<p>In addition, the first path element must contain at least one period character (<code>.</code>).</p>
<p>No restriction is directly enforced on the length of module names, but as registries
can refuse module paths over 128 characters, and it&rsquo;s possible to specify
an arbitrary storage prefix, long module paths may fail.</p>
<h3 id="versions">
    <a href="#versions" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Versions</h3>
<p>A <dfn>version</dfn> identifies an immutable snapshot of a module, which may be
either a release or a
pre-release (with a pre-release suffix). Each version starts with the letter
<code>v</code>, followed by a semantic version. See
<a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning 2.0.0</a> for details on how versions are
formatted, interpreted, and compared.</p>
<p>To summarize, a semantic version consists of three non-negative integers (the
major, minor, and patch versions, from left to right) separated by dots. The
patch version may be followed by an optional pre-release string starting with a
hyphen.</p>
<!-- TODO: Go allows build metadata suffixes (and ignores them for the purposes of comparison). Should we do the same? -->
<p>Each part of a version indicates whether the version is stable and whether it is
compatible with previous versions.</p>
<ul>
<li>The major version must be incremented and the minor
and patch versions must be set to zero after a backwards incompatible change
is made to the module&rsquo;s public interface or documented functionality, for
example, after a package is removed.</li>
<li>The minor version must be incremented and the patch
version set to zero after a backwards compatible change, for example, after a
new function is added.</li>
<li>The patch version must be incremented after a change
that does not affect the module&rsquo;s public interface, such as a bug fix or
change to the documentation.</li>
<li>The pre-release suffix indicates a version is a pre-release. Pre-release versions sort before
the corresponding release versions. For example, <code>v1.2.3-pre</code> comes before
<code>v1.2.3</code>.</li>
</ul>
<p>A version is considered unstable if its major version is 0 or it has a
pre-release suffix. Unstable versions are not subject to compatibility
requirements. For example, <code>v0.2.0</code> may not be compatible with <code>v0.1.0</code>, and
<code>v1.5.0-beta</code> may not be compatible with <code>v1.5.0</code>.</p>
<h3 id="major-version-suffixes">
    <a href="#major-version-suffixes" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Major version suffixes</h3>
<p>Module paths must have a <em>major version
suffix</em> like <code>@v2</code> that matches the major version. For example, if a module
has the path <code>foo.example/mod@v1</code> at <code>v1.0.0</code>, it must have the path
<code>foo.example/mod@v2</code> at version <code>v2.0.0</code>.</p>
<p>Major version suffixes implement the <em><a href="https://research.swtch.com/vgo-import">import compatibility
rule</a></em>:</p>
<blockquote class="quote">
    <p>
If an old package and a new package have the same import path,
the new package must be backwards compatible with the old package.
</p>

    
</blockquote>

<p>By definition, packages in a new major version of a module are not backwards
compatible with the corresponding packages in the previous major version.
Consequently each new major version of a package needs a new import path.
This is accomplished by adding a major version suffix to the module path.
The import path for a package also includes the major version suffix,
providing a distinct import path for each incompatible version.</p>
<p>Unlike <a href="https://go.dev/ref/mod#major-version-suffixes">in Go</a>,
major version suffixes are always required in module paths	. The burden
of changing import paths in packages is eased by allowing the
major version suffix to be omitted and inferred from the <code>module.cue</code>
file. See <a href="/docs/reference/modules/#major-version-defaults">major version defaults</a> for details.</p>
<p>Major version suffixes let multiple major versions of a module coexist in the
same build. This may be necessary due to a <a href="https://research.swtch.com/vgo-import#dependency_story">diamond dependency
problem</a>. Ordinarily, if
a module is required at two different versions by transitive dependencies, the
higher version will be used. However, if the two versions are incompatible,
neither version will satisfy all clients. Since incompatible versions must have
different major version numbers, they must also have different module paths due
to major version suffixes. This resolves the conflict: modules with distinct
suffixes are treated as separate modules, and their packages—even packages in
same subdirectory relative to their module roots—are distinct.</p>
<h3 id="major-version-defaults">
    <a href="#major-version-defaults" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Major version defaults</h3>
<p>When a package import path does not contain a major version,
the <code>module.cue</code> file is consulted to determine which major
version of the module to use. In a canonical <code>module.cue</code> file,
all imports without major versions will have an explicit <code>default: true</code>
present in the corresponding dependency entry, but <code>cue mod tidy</code>
will add those if not present and there is no ambiguity in the build list.</p>
<p>That is, given only a single major version of a module in the build list,
the major version need not be specified in any of the package imports.</p>
<h3 id="resolve-pkg-mod">
    <a href="#resolve-pkg-mod" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Resolving a package to a module</h3>
<p>When CUE loads a package using a <a href="/docs/reference/modules/#glos-package-path">package
path</a>, it needs to determine which module provides the
package.</p>
<p>It starts by searching the <a href="/docs/reference/modules/#glos-build-list">build list</a> for
modules with paths that are prefixes of the package path. For example, if the
package <code>foo.example/a/b</code> is imported, and the module <code>foo.example/a</code> is in the
build list, CUE will check whether <code>foo.example/a</code> contains the
package, in the directory <code>b</code>. At least one file with the <code>.cue</code> extension must
be present in a directory for it to be considered a package. <a href="/docs/reference/modules/#glos-build-constraint">Build
constraints</a> are not applied for this
purpose. If exactly one module in the build list provides the package, that
module is used. If no modules provide the package or if two or more modules
provide the package, CUE reports an error. The <code>cue mod tidy</code> command
will attempt to find new modules providing missing
packages and to update <code>cue.mod/module.cue</code> accordingly.</p>
<!-- NOTE(golang.org/issue/27899): CUE reports an error when two
or more modules provide a package with the same path, as described
above. In the future, we may try to upgrade one (or all) of the colliding modules.
TODO raise an issue about the above.
-->
<h3 id="cue-registry-env">
    <a href="#cue-registry-env" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>The <code>CUE_REGISTRY</code> environment variable</h3>
<p>When CUE looks up a new module for a package path, it checks the
<code>CUE_REGISTRY</code> environment variable. This determines the registry
and repository within a registry that a module will be searched for.
It holds a complete list of any registries that are consulted for fetching modules.</p>
<p>Specifically it holds a comma-separated list specifying which registry to use for
downloading and publishing modules. A registry is specifed
as follows:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="W21vZHVsZVByZWZpeD1daG9zdG5hbWVbOnBvcnRdWy9yZXBvUHJlZml4XVsraW5zZWN1cmVd">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>[modulePrefix=]hostname[:port][/repoPrefix][+insecure]</code></pre></div>
</div>
<p>The optional <em>modulePrefix</em> specifes that all modules with a path that
has the given prefix will use the associated registry. If there are
multiple registries with a prefix, the longest matching prefix wins.
It&rsquo;s an error for there to be multiple entries with the same prefix.</p>
<p>The hostname holds the OCI registry host (in square brackets if it&rsquo;s
an IPv6 address), with an optional numeric TCP port.</p>
<p>Each module is stored inside its own repository in the registry which
is named after the module path.  The <em>repoPrefix</em> holds a prefix to be
added to the repository name.  That is, all repositories in the registry
will be of the form <em>repoPrefix</em><code>/</code><em>modulePath</em>.</p>
<p>If there&rsquo;s a <code>+insecure</code> suffix it specifies that an insecure HTTP
connection should be used to this registry. The default is to use a
secure HTTPS connection except for localhost addresses. For symmetry,
it&rsquo;s also possible to use <code>+secure</code> to force an HTTPS connection even
on localhost connections.</p>
<p>For example, given:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Q1VFX1JFR0lTVFJZPXB1YmxpYy1yZWdpc3RyeS5leGFtcGxlLGdpdGh1Yi5jb20vYWNtZWNvcnA9cmVnaXN0cnkuYWNtZS5leGFtcGxlOjYwMDAvbW9kdWxlcw==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><pre tabindex="0"><code>CUE_REGISTRY=public-registry.example,github.com/acmecorp=registry.acme.example:6000/modules</code></pre></div>
</div>
<p>all modules, such as <code>github.com/foo/bar</code> will be fetched from
<code>public-registry.example</code> with the exception of modules with the
prefix <code>github.com/acmecorp/</code>, such as <code>github.com/acmecorp/somemodule</code>
which will be fetched from the <code>modules/github.com/acmecorp/somemodule</code> repository
in the host <code>registry.acme.example</code> at port 6000.</p>
<h2 id="cue-mod-file">
    <a href="#cue-mod-file" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a><code>cue.mod/module.cue</code> files</h2>
<p>A module is defined by a <code>cue.mod</code> directory in its root containing
a <code>module.cue</code> CUE file.</p>
<!-- TODO(jcm): remove #nofmt after v0.10.0 is released, fixing #722 -->
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Ly8gbW9kdWxlIGluZGljYXRlcyB0aGUgbW9kdWxlJ3MgcGF0aC4KbW9kdWxlITogI01vZHVsZQoKLy8gdmVyc2lvbiBpbmRpY2F0ZXMgdGhlIGxhbmd1YWdlIHZlcnNpb24gdXNlZCBieSB0aGUgY29kZSBpbiB0aGlzIG1vZHVsZQovLyAtIHRoZSBtaW5pbXVtIHZlcnNpb24gb2YgQ1VFIHJlcXVpcmVkIHRvIGV2YWx1YXRlIHRoZSBjb2RlIGluIHRoaXMKLy8gbW9kdWxlLiBXaGVuIGEgbGF0ZXIgdmVyc2lvbiBvZiBDVUUgaXMgZXZhbHVhdGluZyBjb2RlIGluIHRoaXMgbW9kdWxlLAovLyB0aGlzIHdpbGwgYmUgdXNlZCB0byBjaG9vc2UgdmVyc2lvbi1zcGVjaWZpYyBiZWhhdmlvci4gSWYgYW4gZWFybGllcgovLyB2ZXJzaW9uIG9mIENVRSBpcyB1c2VkLCBhbiBlcnJvciB3aWxsIGJlIGdpdmVuLgpsYW5ndWFnZT86IHZlcnNpb24/OiAjU2VtdmVyCgovLyBzb3VyY2UgaG9sZHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZSBvZiB0aGUgZmlsZXMgd2l0aGluIHRoZQovLyBtb2R1bGUuIFRoaXMgZmllbGQgaXMgbWFuZGF0b3J5IGF0IHB1Ymxpc2ggdGltZS4Kc291cmNlPzogI1NvdXJjZQoKLy8gZGVzY3JpcHRpb24gZGVzY3JpYmVzIHRoZSBwdXJwb3NlIG9mIHRoaXMgbW9kdWxlLgpkZXNjcmlwdGlvbj86IHN0cmluZwoKLy8gZGVwcyBob2xkcyBkZXBlbmRlbmN5IGluZm9ybWF0aW9uIGZvciBtb2R1bGVzLCBrZXllZCBieSBtb2R1bGUgcGF0aC4KZGVwcz86IFsjTW9kdWxlXTogI0RlcAoKLy8gY3VzdG9tIGhvbGRzIGFyYml0cmFyeSBkYXRhIGludGVuZGVkIGZvciB1c2UgYnkgdGhpcmQtcGFydHkgdG9vbHMuCi8vIEVhY2ggZmllbGQgYXQgdGhlIHRvcCBsZXZlbCByZXByZXNlbnRzIGEgdG9vbGluZyBuYW1lc3BhY2UsCi8vIGNvbnZlbnRpb25hbGx5IGEgbW9kdWxlIG9yIGRvbWFpbiBuYW1lLiBEYXRhIG1pZ3JhdGVkIGZyb20gbGVnYWN5Ci8vIG1vZHVsZS5jdWUgZmlsZXMgaXMgcGxhY2VkIGluIHRoZSAibGVnYWN5IiBuYW1lc3BhY2UuCmN1c3RvbT86IFsjTW9kdWxlIHwgImxlZ2FjeSJdOiBbX106IF8KCiNEZXA6IHsKCS8vIHYgaW5kaWNhdGVzIHRoZSBtaW5pbXVtIHJlcXVpcmVkIHZlcnNpb24gb2YgdGhlIG1vZHVsZS4KCXYhOiAjU2VtdmVyCgoJLy8gZGVmYXVsdCBpbmRpY2F0ZXMgdGhpcyBtb2R1bGUgaXMgdXNlZCBhcyBhIGRlZmF1bHQgaW4gY2FzZSBtb3JlCgkvLyB0aGFuIG9uZSBtYWpvciB2ZXJzaW9uIGlzIHNwZWNpZmllZCBmb3IgdGhlIHNhbWUgbW9kdWxlIHBhdGguCgkvLyBJbXBvcnRzIG11c3Qgc3BlY2lmeSB0aGUgZXhhY3QgbWFqb3IgdmVyc2lvbiBmb3IgYSBtb2R1bGUgcGF0aCBpZgoJLy8gdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBtYWpvciB2ZXJzaW9uIGZvciB0aGF0IHBhdGggYW5kIGRlZmF1bHQgaXMKCS8vIG5vdCBzZXQgZm9yIGV4YWN0bHkgb25lIG9mIHRoZW0uCglkZWZhdWx0PzogYm9vbAp9CgovLyAjTW9kdWxlIGNvbnN0cmFpbnMgYSBtb2R1bGUgcGF0aC4gVGhlIG1ham9yIHZlcnNpb24gaW5kaWNhdG9yIGlzCi8vIG9wdGlvbmFsLCBidXQgc2hvdWxkIGFsd2F5cyBiZSBwcmVzZW50IGluIGEgbm9ybWFsaXplZCBtb2R1bGUuY3VlCi8vIGZpbGUuCiNNb2R1bGU6ID1&#43;IyJeW15AXSsoQHYoMHxbMS05XVxkKikpJCIjCgovLyAjU2VtdmVyIGNvbnN0cmFpbnMgYSBzZW1hbnRpYyB2ZXJzaW9uLiBUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyB0YWtlbgovLyBmcm9tIGh0dHBzOi8vc2VtdmVyLm9yZy9zcGVjL3YyLjAuMC5odG1sCiNTZW12ZXI6ID1&#43;IyJedig/UDxtYWpvcj4wfFsxLTldXGQqKVwuKD9QPG1pbm9yPjB8WzEtOV1cZCopXC4oP1A8cGF0Y2g&#43;MHxbMS05XVxkKikoPzotKD9QPHByZXJlbGVhc2U&#43;KD86MHxbMS05XVxkKnxcZCpbYS16QS1aLV1bMC05YS16QS1aLV0qKSg/OlwuKD86MHxbMS05XVxkKnxcZCpbYS16QS1aLV1bMC05YS16QS1aLV0qKSkqKSk/KD86XCsoP1A8YnVpbGRtZXRhZGF0YT5bMC05YS16QS1aLV0rKD86XC5bMC05YS16QS1aLV0rKSopKT8kIiMKCi8vICNTb3VyY2UgZGVzY3JpYmVzIGEgc291cmNlIG9mIHRydXRoIGZvciBhIG1vZHVsZSdzIGNvbnRlbnQuCiNTb3VyY2U6IHsKCS8vIGtpbmQgc3BlY2lmaWVzIHRoZSBraW5kIG9mIHNvdXJjZS4KCS8vCgkvLyBUaGUgc3BlY2lhbCB2YWx1ZSAic2VsZiIgc2lnbmlmaWVzIGEgbW9kdWxlIGlzIHN0YW5kLWFsb25lLCBhc3NvY2lhdGVkCgkvLyB3aXRoIG5vIHBhcnRpY3VsYXIgc291cmNlLiBUaGUgbW9kdWxlJ3MgZmlsZSBsaXN0IGlzIGRldGVybWluZWQgZnJvbQoJLy8gdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RvcnkgKGFuZCBpdHMgc3ViZGlyZWN0b3JpZXMpIHRoYXQgY29udGFpbnMKCS8vIHRoZSBjdWUubW9kIGRpcmVjdG9yeS4KCS8vCgkvLyBTZWUgaHR0cHM6Ly9jdWVsYW5nLm9yZy9kb2NzL3JlZmVyZW5jZS9tb2R1bGVzLyNkZXRlcm1pbmluZy16aXAtZmlsZS1jb250ZW50cwoJLy8gZm9yIGRldGFpbHMgb24gYWxsIHRoZSBwb3NzaWJsZSB2YWx1ZXMgZm9yIGtpbmQsIGFuZCBob3cgdGhleSByZWxhdGUKCS8vIHRvIGRldGVybWluaW5nIHRoZSBsaXN0IG9mIGZpbGVzIGluIGEgbW9kdWxlLgoJa2luZCE6ICJzZWxmIiB8ICJnaXQiCn0=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// module indicates the module&#39;s path.</span>
</span></span><span style="display:flex;"><span>module<span style="font-weight:bold">!:</span> #Module
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// version indicates the language version used by the code in this module</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// - the minimum version of CUE required to evaluate the code in this</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// module. When a later version of CUE is evaluating code in this module,</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// this will be used to choose version-specific behavior. If an earlier</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// version of CUE is used, an error will be given.</span>
</span></span><span style="display:flex;"><span>language<span style="font-weight:bold">?:</span> version<span style="font-weight:bold">?:</span> #Semver
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// source holds information about the source of the files within the</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// module. This field is mandatory at publish time.</span>
</span></span><span style="display:flex;"><span>source<span style="font-weight:bold">?:</span> #Source
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// description describes the purpose of this module.</span>
</span></span><span style="display:flex;"><span>description<span style="font-weight:bold">?:</span> <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// deps holds dependency information for modules, keyed by module path.</span>
</span></span><span style="display:flex;"><span>deps<span style="font-weight:bold">?:</span> <span style="font-weight:bold">[</span>#Module<span style="font-weight:bold">]:</span> #Dep
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// custom holds arbitrary data intended for use by third-party tools.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// Each field at the top level represents a tooling namespace,</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// conventionally a module or domain name. Data migrated from legacy</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// module.cue files is placed in the &#34;legacy&#34; namespace.</span>
</span></span><span style="display:flex;"><span>custom<span style="font-weight:bold">?:</span> <span style="font-weight:bold">[</span>#Module <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;legacy&#34;</span><span style="font-weight:bold">]:</span> <span style="font-weight:bold">[</span><span style="font-weight:bold">_</span><span style="font-weight:bold">]:</span> <span style="font-weight:bold">_</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#Dep<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// v indicates the minimum required version of the module.</span>
</span></span><span style="display:flex;"><span>	v<span style="font-weight:bold">!:</span> #Semver
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// default indicates this module is used as a default in case more</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// than one major version is specified for the same module path.</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Imports must specify the exact major version for a module path if</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// there is more than one major version for that path and default is</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// not set for exactly one of them.</span>
</span></span><span style="display:flex;"><span>	default<span style="font-weight:bold">?:</span> <span style="color:#458;font-weight:bold">bool</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// #Module constrains a module path. The major version indicator is</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// optional, but should always be present in a normalized module.cue</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// file.</span>
</span></span><span style="display:flex;"><span>#Module<span style="font-weight:bold">:</span> <span style="font-weight:bold">=</span>~<span style="color:#b84">#&#34;^[^@]+(@v(0|[1-9]\d*))$&#34;#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// #Semver constrains a semantic version. This regular expression is taken</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// from https://semver.org/spec/v2.0.0.html</span>
</span></span><span style="display:flex;"><span>#Semver<span style="font-weight:bold">:</span> <span style="font-weight:bold">=</span>~<span style="color:#b84">#&#34;^v(?P&lt;major&gt;0|[1-9]\d*)\.(?P&lt;minor&gt;0|[1-9]\d*)\.(?P&lt;patch&gt;0|[1-9]\d*)(?:-(?P&lt;prerelease&gt;(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?P&lt;buildmetadata&gt;[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$&#34;#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// #Source describes a source of truth for a module&#39;s content.</span>
</span></span><span style="display:flex;"><span>#Source<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// kind specifies the kind of source.</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">//</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// The special value &#34;self&#34; signifies a module is stand-alone, associated</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// with no particular source. The module&#39;s file list is determined from</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// the contents of the directory (and its subdirectories) that contains</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// the cue.mod directory.</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">//</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// See https://cuelang.org/docs/reference/modules/#determining-zip-file-contents</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// for details on all the possible values for kind, and how they relate</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// to determining the list of files in a module.</span>
</span></span><span style="display:flex;"><span>	kind<span style="font-weight:bold">!:</span> <span style="color:#b84">&#34;self&#34;</span> <span style="font-weight:bold">|</span> <span style="color:#b84">&#34;git&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
<p>For example:</p>
<div class="code-block"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="bGFuZ3VhZ2U6IHZlcnNpb246ICJ2MC40LjMiCgptb2R1bGU6ICJmb28uZXhhbXBsZS9teS90aGluZ0B2MSIKCmRlcHM6IHsKCSJmb28uZXhhbXBsZS9vdGhlci90aGluZ0B2MSI6IHY6ICJ2MS4wLjIiCgkiZm9vLmV4YW1wbGUvbmV3L3RoaW5nQHYyIjogdjogICAidjIuMy40Igp9">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span>language<span style="font-weight:bold">:</span> version<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;v0.4.3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>module<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;foo.example/my/thing@v1&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>deps<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;foo.example/other/thing@v1&#34;</span><span style="font-weight:bold">:</span> v<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;v1.0.2&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;foo.example/new/thing@v2&#34;</span><span style="font-weight:bold">:</span> v<span style="font-weight:bold">:</span>   <span style="color:#b84">&#34;v2.3.4&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
<p>The <code>module.cue</code> file is designed to be human readable and machine writable. The
<code>cue</code> command will provide several subcommands that manipulate <code>cue.mod/module.cue</code> files.
For now, the only one is <code>cue mod tidy</code> which will fetch dependencies
and canonicalize the <code>module.cue</code> file to reflect all the most recent versions.</p>
<p>A <code>cue.mod/module.cue</code> file is required for all modules.</p>
<h2 id="minimal-version-selection">
    <a href="#minimal-version-selection" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Minimal version selection (MVS)</h2>
<p>CUE uses an algorithm called <dfn>Minimal version selection (MVS)</dfn> to select
a set of module versions to use when building packages. MVS is described in
detail in <a href="https://research.swtch.com/vgo-mvs">Minimal Version Selection</a> by
Russ Cox.</p>
<p>Conceptually, MVS operates on a directed graph of modules, specified with
<a href="/docs/reference/modules/#glos-cue-mod-file"><code>module.cue</code> files</a>. Each vertex in the graph represents a
module version. Each edge represents a minimum required version of a dependency,
specified with an entry in the <code>deps</code> field.</p>
<p>MVS produces the <a href="/docs/reference/modules/#glos-build-list">build list</a> as output, the list of module
versions used for an evaluation.</p>
<p>MVS starts at the main modules (special vertices in the graph that have no
version) and traverses the graph, tracking the highest required version of each
module. At the end of the traversal, the highest required versions comprise the
build list: they are the minimum versions that satisfy all requirements.</p>
<p>Unlike other dependency management systems, the build list is
not saved in a &ldquo;lock&rdquo; file. MVS is deterministic, and the build list doesn&rsquo;t
change when new versions of dependencies are released, so MVS is used to compute
it at the beginning of every module-aware command.</p>
<p><figure class="media media--right"><a href="buildlist.svg"
            
        ><div class="media__image">
        <img src="buildlist.svg"
            alt="Module version graph with visited versions highlighted">
    </div></a><figcaption class="media__caption"><span>Module version graph with visited versions highlighted
                </span>
        </figcaption>
</figure>

Consider the example in this diagram. The main module requires module A
at version 1.2 or higher and module B at version 1.2 or higher. A 1.2 and B 1.2
require C 1.3 and C 1.4, respectively. C 1.3 and C 1.4 both require D 1.2.</p>
<p>MVS visits and loads the <code>cue.mod/module.cue</code> file for each of the module versions
highlighted in blue. At the end of the graph traversal, MVS returns a build list
containing the bolded versions: A 1.2, B 1.2, C 1.4, and D 1.2. Note that higher
versions of B and D are available but MVS does not select them, since nothing
requires them.</p>
<h2 id="module-storage">
    <a href="#module-storage" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Module storage format</h2>
<p>Modules are stored in a registry using a standard manifest + blob
format. There is rarely any need to
interact directly with these artifacts, since the <code>cue</code> command creates, downloads,
and extracts them automatically from registries. However, it&rsquo;s still useful to know about these
files to understand cross-platform compatibility constraints.</p>
<p>A module is stored in a registry with a top level manifest with media type
<code>application/vnd.oci.image.manifest.v1+json</code> and artifact type
<code>application/vnd.cue.module.v1+json</code>, that points to two blobs.
The first blob (also known as a &ldquo;layer 0&rdquo; although there&rsquo;s actually
no layering going on here) has media type <code>application/zip</code> and holds the full contents
of the module. The second blob, layer 1, has media type <code>application/vnd.cue.modulefile.v1</code>
and stores an exact copy of the contents of the <code>cue.mod/module.cue</code> file
from the zip file. The latter enables fast access to the dependency information
without the need to download the entire module archive.</p>
<!-- TODO: more complete docs for the format -->
<!-- TODO: diagram showing structure of storage -->
<h2 id="determining-zip-file-contents">
    <a href="#determining-zip-file-contents" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Determining zip file contents</h2>
<p>The <code>source</code> field in <code>module.cue</code> is used by <code>cue mod publish</code> to determine
which files to include in a module zip. It is required when publishing a module.
The <code>source.kind</code> field specifies the kind of source. The supported kinds are
listed below.</p>
<p><code>source: kind: &quot;self&quot;</code> determines the module file list from the module root
directory tree on disk.</p>
<p><code>source: kind: &quot;git&quot;</code> requires that the module root directory be under the
control of a <a href="https://git-scm.com/">Git VCS</a> repository. The <code>git ls-files</code>
command is then used to determine the module file list within the module root
directory. When publishing a module that is not in the repository root
directory, if the module does not have a file named <code>LICENSE</code> in its root
directory, <code>cue mod publish</code> will include the file named <code>LICENSE</code> from the
repository root directory at the module root. Every entry in the module file
list must be &ldquo;clean&rdquo; with respect to the current commit.</p>
<p>The initial list of files determined by the <code>source</code> is then filtered according
to <a href="/docs/reference/modules/#zip-path-size-constraints">file path and size constraints</a>.</p>
<h2 id="zip-path-size-constraints">
    <a href="#zip-path-size-constraints" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>File path and size constraints</h2>
<p>There are a number of restrictions on the content of module zip files. These
constraints ensure that zip files can be extracted safely and consistently on
a wide range of platforms.</p>
<ul>
<li>A module zip file may be at most 500 MiB in size. The total uncompressed size
of its files is also limited to 500 MiB. <code>module.cue</code> files are limited to 16 MiB.
<code>LICENSE</code> files are also limited to 16 MiB. These limits exist to mitigate
denial of service attacks on users, proxies, and other parts of the module
ecosystem. Repositories that contain more than 500 MiB of files in a module
directory tree should tag module versions at commits that only include files
needed to build the module&rsquo;s packages; videos, models, and other large assets
are usually not needed for builds.</li>
<li>File modes, timestamps, and other metadata are ignored.</li>
<li>Empty directories (entries with paths ending with a slash) may be included
in module zip files but are not extracted. The <code>cue</code> command does not include
empty directories in zip files it creates.</li>
<li>Symbolic links and other irregular files are ignored when creating zip files,
since they aren&rsquo;t portable across operating systems and file systems, and
there&rsquo;s no portable way to represent them in the zip file format.</li>
<li>Files within directories containing <code>cue.mod</code> directories, other than the module
root directory and the <code>cue.mod</code> directory itself, are ignored when creating zip files,
since they are not part
of the module. CUE ignores subdirectories containing <code>cue.mod</code>
directories when extracting zip files.</li>
<li>No two files within a zip file may have paths equal under Unicode case-folding
(see <a href="https://pkg.go.dev/strings?tab=doc#EqualFold"><code>strings.EqualFold</code></a>).
This ensures that zip files can be extracted on case-insensitive file systems
without collisions.</li>
<li>A <code>cue.mod/module.cue</code> file must appear in the top-level directory.
If present, it must have the name <code>cue.mod/module.cue</code> (all
lowercase). Directories named <code>cue.mod</code> are not allowed in any other directory.</li>
<li>File and directory names within a module may consist of Unicode letters, ASCII
digits, the ASCII space character (U+0020), and the ASCII punctuation
characters <code>!#$%&amp;()+,-.=@[]^_{}~</code>. Note that package paths may not contain all
these characters. See
<a href="https://pkg.go.dev/cuelang.org/go/internal/mod/module?tab=doc#CheckFilePath"><code>module.CheckFilePath</code></a>
and
<a href="https://pkg.go.dev/golang.org/x/mod/module?tab=doc#CheckImportPath"><code>module.CheckImportPath</code></a>
for the differences.</li>
<li>A file or directory name up to the first dot must not be a
<a href="https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#naming-conventions">reserved file name on Windows</a>,
regardless of case (<code>CON</code>, <code>com1</code>, <code>NuL</code>, and so on).</li>
</ul>
<h2 id="module-cache">
    <a href="#module-cache" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Module caching</h2>
<p>By default, the <code>cue</code> command caches downloaded modules in the local
filesystem. It uses the local user configuration directory by default, but
that can be changed by setting <code>$CUE_CACHE_DIR</code>, which is
documented under <a href="/docs/reference/command/cue-help-environment/"><code>cue help environment</code></a>.</p>
<h2 id="authorization">
    <a href="#authorization" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Authorization</h2>
<p>For custom OCI registries, CUE understands the usual conventions
for authorization: specifically the usual way to configure
registry authorization information for custom OCI registries
is by setting them up in the <code>$HOME/.docker/config.json</code> file.
You can
<a href="https://docs.docker.com/engine/reference/commandline/login/">use <code>docker login</code></a>
to do this or
<a href="https://www.flatcar.org/docs/latest/container-runtimes/registry-authentication/">edit the file directly</a>.</p>
<p>The CUE command knows how to read auth tokens from the <code>$HOME/.docker/config.json</code>,
including running helper commands to fetch them from secure storage.</p>
<p>For organizations that don&rsquo;t allow the use of docker, <a href="https://docs.podman.io/en/latest/markdown/podman-login.1.html">podman
login</a> allows
using the <code>--compat-auth-file $HOME/.docker/config.json</code> flag to generate a
docker compatible json file.</p>
<h2 id="glossary">
    <a href="#glossary" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Glossary</h2>
<!-- TODO: This glossary could move to its own page -->
<p><a id="glos-build-constraint"></a>
<strong>build constraint:</strong> A condition that determines whether a CUE source file is
used when compiling a package. Build constraints are expressed with file-level <code>@if(name)</code>
annotations.</p>
<p><a id="glos-build-list"></a>
<strong>build list:</strong> The list of module versions that will be used for a CUE
command such as <code>cue export</code>, or <code>cue vet</code>. The build list is
determined from the <a href="/docs/reference/modules/#glos-main-module">main module&rsquo;s</a> <a href="/docs/reference/modules/#glos-cue-mod-file"><code>cue.mod/module.cue</code>
file</a> and <code>cue.mod/module.cue</code> files in transitively required modules
using <a href="/docs/reference/modules/#glos-minimal-version-selection">minimal version selection</a>. The build
list contains versions for all modules in the <a href="/docs/reference/modules/#glos-module-graph">module
graph</a>, not just those relevant to a specific command.</p>
<p><a id="glos-canonical-version"></a>
<strong>canonical version:</strong> A correctly formatted <a href="/docs/reference/modules/#glos-version">version</a> without
a build metadata suffix other than <code>+incompatible</code>. For example, <code>v1.2.3</code>
is a canonical version, but <code>v1.2.3+meta</code> is not.</p>
<p><a id="glos-current-module"></a>
<strong>current module:</strong> Synonym for <a href="/docs/reference/modules/#glos-main-module">main module</a>.</p>
<p><a id="glos-cue-mod-file"></a>
<strong><code>cue.mod/module.cue</code> file:</strong> The file that defines a module&rsquo;s path, requirements, and
other metadata. Appears in the <a href="/docs/reference/modules/#glos-module-root-directory">module&rsquo;s root
directory</a>. See the section on <a href="/docs/reference/modules/#cue-mod-file"><code>cue.mod/module.cue</code>
files</a>.</p>
<p><a id="glos-import-path"></a>
<strong>import path:</strong> A string used to import a package in a CUE source file.
Synonymous with <a href="/docs/reference/modules/#glos-package-path">package path</a>.</p>
<p><a id="glos-main-module"></a>
<strong>main module:</strong> The module in which the <code>cue</code> command is invoked. The main
module is defined by a <a href="/docs/reference/modules/#glos-cue-mod-file"><code>cue.mod/module.cue</code> file</a> in the current
directory or a parent directory. See <a href="/docs/reference/modules/#modules-overview">Modules, packages, and
versions</a>.</p>
<p><a id="glos-major-version"></a>
<strong>major version:</strong> The first number in a semantic version (<code>1</code> in <code>v1.2.3</code>). In
a release with incompatible changes, the major version must be incremented, and
the minor and patch versions must be set to 0. Semantic versions with major
version 0 are considered unstable.</p>
<p><a id="glos-major-version-suffix"></a>
<strong>major version suffix:</strong> A module path suffix that matches the major version
number. For example, <code>@v2</code> in <code>foo.example/mod@v2</code>. See
the section on <a href="/docs/reference/modules/#major-version-suffixes">Major version suffixes</a>.</p>
<p><a id="glos-minimal-version-selection"></a>
<strong>minimal version selection (MVS):</strong> The algorithm used to determine the
versions of all modules that will be used in a build. See the section on
<a href="/docs/reference/modules/#minimal-version-selection">Minimal version selection</a> for details.</p>
<p><a id="glos-minor-version"></a>
<strong>minor version:</strong> The second number in a semantic version (<code>2</code> in <code>v1.2.3</code>). In
a release with new, backwards compatible functionality, the minor version must
be incremented, and the patch version must be set to 0.</p>
<p><a id="glos-module"></a>
<strong>module:</strong> A collection of packages that are released, versioned, and
distributed together.</p>
<p><a id="glos-module-cache"></a>
<strong>module cache:</strong> A local directory storing downloaded modules, located in
<code>$CUE_CACHE_DIR</code>. See <a href="/docs/reference/modules/#module-cache">Module cache</a>.</p>
<p><a id="glos-module-graph"></a>
<strong>module graph:</strong> The directed graph of module requirements, rooted at the <a href="/docs/reference/modules/#glos-main-module">main
module</a>. Each vertex in the graph is a module; each edge is a
version from an entry in the <code>deps</code> field in a <code>cue.mod/module.cue</code> file.</p>
<p><a id="glos-module-path"></a>
<strong>module path:</strong> A path that identifies a module and acts as a prefix for
package import paths within the module. For example, <code>&quot;cuelang.org/x/foo&quot;</code>.</p>
<p><a id="glos-module-root-directory"></a>
<strong>module root directory:</strong> The directory that contains the <code>cue.mod/module.cue</code> file that
defines a module.</p>
<p><a id="glos-package"></a>
<strong>package:</strong> A collection of source files, usually in the
same directory, that are evaluated together. See the <a href="https://cuelang.org/docs/references/spec/#modules-instances-and-packages">Packages
section</a>
in the CUE Language Specification.</p>
<p><a id="glos-package-path"></a>
<strong>package path:</strong> The path that uniquely identifies a package. A package path is
a <a href="/docs/reference/modules/#glos-module-path">module path</a> joined with a subdirectory within the module.
For example <code>&quot;cuelang.org/x/foo/html&quot;</code> is the package path for the package in the
module <code>&quot;cuelang.org/x/foo&quot;</code> in the <code>&quot;html&quot;</code> subdirectory. Synonym of
<a href="/docs/reference/modules/#glos-import-path">import path</a>.</p>
<p><a id="glos-patch-version"></a>
<strong>patch version:</strong> The third number in a semantic version (<code>3</code> in <code>v1.2.3</code>). In
a release with no changes to the module&rsquo;s public interface, the patch version
must be incremented.</p>
<p><a id="glos-pre-release-version"></a>
<strong>pre-release version:</strong> A version with a dash followed by a series of
dot-separated identifiers immediately following the patch version, for example,
<code>v1.2.3-beta4</code>. Pre-release versions are considered unstable and are not
assumed to be compatible with other versions. A pre-release version sorts before
the corresponding release version: <code>v1.2.3-pre</code> comes before <code>v1.2.3</code>. See also
<a href="/docs/reference/modules/#glos-release-version">release version</a>.</p>
<p><a id="glos-release-version"></a>
<strong>release version:</strong> A version without a pre-release suffix. For example,
<code>v1.2.3</code>, not <code>v1.2.3-pre</code>. See also <a href="/docs/reference/modules/#glos-pre-release-version">pre-release
version</a>.</p>
<p><a id="glos-repository-root-path"></a>
<strong>repository root path:</strong> The portion of a <a href="/docs/reference/modules/#glos-module-path">module path</a> that
corresponds to a version control repository&rsquo;s root directory. See <a href="/docs/reference/modules/#module-path">Module
paths</a>.</p>
<p><a id="glos-selected-version"></a>
<strong>selected version:</strong> The version of a given module chosen by <a href="/docs/reference/modules/#minimal-version-selection">minimal version
selection</a>. The selected version is the highest
version for the module&rsquo;s path found in the <a href="/docs/reference/modules/#glos-module-graph">module graph</a>.</p>
<p><a id="glos-version"></a>
<strong>version:</strong> An identifier for an immutable snapshot of a module, written as the
letter <code>v</code> followed by a semantic version. See the section on
<a href="/docs/reference/modules/#versions">Versions</a>.</p>
<h2 id="related-content">
    <a href="#related-content" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>
</a>Related content</h2>
<ul>
<li>Tutorial: <a href="/docs/tutorial/working-with-a-custom-module-registry/">Working with a custom module registry</a></li>
</ul>
                        
                    </div>
    <footer class="article__footer">
    <div class="article__lastmod">
        <p class="lastmod">
         <a class="lastmod__link" href="https://github.com/cue-lang/cuelang.org/commit/229aa1e685e27a12f30ddcd92b3c231dac48942a">
                Last modified May 23, 2025</a>
    </p>

    </div>

    <div class="article__footer-meta"><div class="article__footer-tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:modules"
                class="tag tag--red">
                    modules
                </a>
            </li></ul>

</div><div class="article__share"><details class="share" data-dropdown>
    <summary class="button button--icon button--light-blue share__button">
        



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--share"></use>
</svg>

        <span>Open share options</span>
    </summary>

    <ul class="share__list">
        <li class="share__item" data-copy>
            <button class="share__copy" data-copy-button data-copy-type="url" data-copy-value="/docs/reference/modules/">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--link"></use>
</svg>

                <span class="share__link-text">Copy link</span>
                <span class="share__copy-message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank" href="https://twitter.com/intent/tweet?url=/docs/reference/modules/&text=%20Introduction%20Modules%20are%20how%20CUE%20manages%20dependencies.%20This%20document%20is%20a%20detailed%20reference%20manual%20for%20CUE&amp;rsquo;s%20module%20system.%20CUE&amp;rsquo;s%20modules%20support%20has%20a%20lot%20in%20common%20with%20Go&amp;rsquo;s%20modules%20and%20this%20document%20has%20substantial%20parts%20that%20have%20been%20taken%20directly%20from%20the%20Go%20modules%20reference.%20Thanks%20very%20much%20to%20Russ%20Cox%20and%20the%20Go%20team%20for%20their%20amazing%20work%20there.%0aThis%20document%20largely%20supercedes%20the%20prior%20modules%20documentation%20although,%20as%20a%20transitionary%20measure,%20the%20CUE%20tool%20still%20supports%20the%20import%20of%20packages%20present%20in%20the%20cue.mod/pkg,%20cue.mod/usr%20and%20cue.mod/gen%20directories.%20This%20only%20applies%20to%20the%20main%20module,%20and%20if%20there%20is%20any%20ambiguity%20with%20respect%20to%20regular%20module%20dependencies%20an%20&amp;ldquo;ambiguous%20import&amp;rdquo;%20error%20will%20be%20reported.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                <p><span class="share__link-text">Share on X (Twitter)</span></p>
            </a>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank"
            href="https://www.linkedin.com/shareArticle?mini=true&url=/docs/reference/modules/&summary=%20Introduction%20Modules%20are%20how%20CUE%20manages%20dependencies.%20This%20document%20is%20a%20detailed%20reference%20manual%20for%20CUE&amp;rsquo;s%20module%20system.%20CUE&amp;rsquo;s%20modules%20support%20has%20a%20lot%20in%20common%20with%20Go&amp;rsquo;s%20modules%20and%20this%20document%20has%20substantial%20parts%20that%20have%20been%20taken%20directly%20from%20the%20Go%20modules%20reference.%20Thanks%20very%20much%20to%20Russ%20Cox%20and%20the%20Go%20team%20for%20their%20amazing%20work%20there.%0aThis%20document%20largely%20supercedes%20the%20prior%20modules%20documentation%20although,%20as%20a%20transitionary%20measure,%20the%20CUE%20tool%20still%20supports%20the%20import%20of%20packages%20present%20in%20the%20cue.mod/pkg,%20cue.mod/usr%20and%20cue.mod/gen%20directories.%20This%20only%20applies%20to%20the%20main%20module,%20and%20if%20there%20is%20any%20ambiguity%20with%20respect%20to%20regular%20module%20dependencies%20an%20&amp;ldquo;ambiguous%20import&amp;rdquo;%20error%20will%20be%20reported.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-linkedin"></use>
</svg>

                <p><span class="share__link-text">Share on Linkedin</span></p>
            </a>
        </li>
    </ul>
</details>
</div>
    </div>
</footer>
</div>
            </article>

            



<div class="prevnext">
    <nav class="prevnext__container" aria-label="Previous/Next navigation"><a class="prevnext__prev" href="/docs/reference/code-of-conduct/" aria-label="Previous - Code of Conduct">
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--circle-arrow-left"></use>
</svg>

                <span class="prevnext__text">Code of Conduct</span>
            </a><a class="prevnext__next" aria-label="Next" disabled>
                <span class="prevnext__text">Next</span>
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--circle-arrow-right"></use>
</svg>

            </a></nav>
</div>

        </div>
        <div id="docs-menu" class="docs__aside">
            <div class="docs__backdrop" data-docs-close="docs"></div>
            <div class="docs__nav">
                <nav class="tree">
    <ul class="tree__list is-book">
        
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/introduction/" title="Introduction">
            <span class="tree__text">Introduction</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tour/" title="Tour">
            <span class="tree__text">Tour</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/integration/" title="Integrations">
            <span class="tree__text">Integrations</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tutorial/" title="Tutorials">
            <span class="tree__text">Tutorials</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/howto/" title="How-to Guides">
            <span class="tree__text">How-to Guides</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/" title="Concept Guides">
            <span class="tree__text">Concept Guides</span>
        </a>
    </li>
    
    
    

    <li class="tree__item has-children is-active-path">
        <a class="tree__link" href="/docs/reference/" title="References">
            <span class="tree__text">References</span>
        </a>
            <ul class="tree__list is-chapter">
                
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/spec/" title="The CUE Language Specification">
            <span class="tree__text">The CUE Language Specification</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/glossary/" title="Glossary of terms">
            <span class="tree__text">Glossary of terms</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/command/" title="The cue command">
            <span class="tree__text">The cue command</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/code-of-conduct/" title="Code of Conduct">
            <span class="tree__text">Code of Conduct</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item is-active">
        <a class="tree__link" href="/docs/reference/modules/" title="CUE Modules">
            <span class="tree__text">CUE Modules</span>
        </a>
            

<nav id="TableOfContents" class="toc">
  <ol class="toc__list">
    <li class="toc__item"><a href="#intro" class="toc__link"><span class="toc__text">Introduction</span></a></li>
    <li class="toc__item"><a href="#modules-overview" class="toc__link"><span class="toc__text">Modules, packages, and versions</span></a></li>
    <li class="toc__item"><a href="#cue-mod-file" class="toc__link"><span class="toc__text"><code>cue.mod/module.cue</code> files</span></a></li>
    <li class="toc__item"><a href="#minimal-version-selection" class="toc__link"><span class="toc__text">Minimal version selection (MVS)</span></a></li>
    <li class="toc__item"><a href="#module-storage" class="toc__link"><span class="toc__text">Module storage format</span></a></li>
    <li class="toc__item"><a href="#determining-zip-file-contents" class="toc__link"><span class="toc__text">Determining zip file contents</span></a></li>
    <li class="toc__item"><a href="#zip-path-size-constraints" class="toc__link"><span class="toc__text">File path and size constraints</span></a></li>
    <li class="toc__item"><a href="#module-cache" class="toc__link"><span class="toc__text">Module caching</span></a></li>
    <li class="toc__item"><a href="#authorization" class="toc__link"><span class="toc__text">Authorization</span></a></li>
    <li class="toc__item"><a href="#glossary" class="toc__link"><span class="toc__text">Glossary</span></a></li>
    <li class="toc__item"><a href="#related-content" class="toc__link"><span class="toc__text">Related content</span></a></li>
  </ol>
</nav>

    </li>
            </ul>
    </li>
    </ul>
</nav>



                <button type="button" class="docs__hide button button--icon button--raised button--light-blue"
                        aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-left"></use>
</svg>
<span>Hide side navigation</span>
                </button>
            </div>
        </div>

        <button type="button" class="docs__show button button--icon button--raised button--light-blue"
                aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--chevron-right"></use>
</svg>
<span>Show side navigation</span>
        </button>
    </div>

            </main>

            <footer id="site-footer" class="site__footer">
                




<div class="footer">
    <div class="footer__sitemap">
        <nav class="footer__container" aria-label="Footer menu">
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Get Started</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/tour/">
                                    <span class="nav__text">Language Tour</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Playground</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install CUE</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Community</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/community">
                                    <span class="nav__text">The CUE Community</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue/blob/master/CONTRIBUTING.md#contribution-guide" target="_blank">
                                    <span class="nav__text">Contributing</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/reference/code-of-conduct/">
                                    <span class="nav__text">Code of Conduct</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/slack">
                                    <span class="nav__text">Slack Workspace</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/discord">
                                    <span class="nav__text">Discord Server</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Connect</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
        </nav>
    </div>

    <div class="footer__legal">
        <nav class="footer__container" aria-label="Legal">
            <div class="nav nav--legal">
                <ul class="nav__list">
                    <li class="nav__item">
                        <span class="nav__text">&copy; 2025 CUE</span>
                    </li>

                    
                        <li class="nav__item"><a class="nav__link"
                               href="/privacy-policy/">
                                <span class="nav__text">Privacy policy</span>
                            </a>
                        </li>
                    

                    <li class="nav__item">
                        <a class="nav__link" href="https://github.com/cue-lang/cue/issues/new?labels=Triage,NeedsInvestigation,cuelang.org&amp;title=cuelang.org:%20&amp;template=bug_report.md&amp;body=%23%23%23&#43;What&#43;page&#43;were&#43;you&#43;looking&#43;at%3F%0A%0A%2Fdocs%2Freference%2Fmodules%2F%0A%0A%23%23%23&#43;What&#43;version&#43;of&#43;the&#43;site&#43;were&#43;you&#43;looking&#43;at%3F%0A%0Ahttps%3A%2F%2Fgithub.com%2Fcue-lang%2Fcuelang.org%2Fcommit%2F64789fe0b723abceb454dfea8fdc748298d590e3%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;do%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;expect%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;see&#43;instead%3F%0A%0A" target="_blank">
                            <span class="nav__text">Report an Issue</span>
                        </a>
                    </li>
                </ul>
            </div>

            <a href="/" class="footer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </nav>
    </div>
</div>

            </footer>
        </div>

        
                <div class="notification-bar is-hidden" data-notification-bar="cue-minor-release-v0.13">
        <div class="notification-bar__container">
            <div class="notification-bar__content">
                <strong>CUE v0.13 is now available</strong> &ndash; learn more about its <a href="https://github.com/cue-lang/cue/releases/tag/v0.13.0">new features and improvements</a>
            </div>
            <a class="button button--outline notification-bar__cta" href="/docs/introduction/installation/">
                    <span class="button__text">Install CUE</span>
                    



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--download"></use>
</svg>

                </a>
            <button type="button" class="button button--icon button--small notification-bar__close">
                



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--close"></use>
</svg>

                <span class="button__text">Close</span>
            </button>
        </div>
    </div>

        
        

<div id="mobile-menu" class="drawer drawer--mobile" data-drawer="menu">
    <div class="drawer__backdrop" data-drawer-close="menu"></div>
    <div class="drawer__container" tabindex="0">
        <div class="drawer__header">
            <a href="/" class="drawer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>

            <div class="drawer__close">
                <button type="button" class="button button--white button--icon" data-drawer-close="menu">
                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--close"></use>
</svg>

                    <span class="button__text">Hide menu</span>
                </button>
            </div>
        </div>

        <div class="drawer__content">
            <div class="drawer__menu">
                <nav class="nav nav--mobile" aria-label="Mobile menu">
                    <ul class="nav__list">
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Play</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/community/">
                                    <span class="nav__text">Community</span>
                                </a>
                            </li>
                        

                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install</span>
                                </a>
                            </li>
                        

                        <li class="nav__item nav__item--search">





<div data-search-autocomplete="drawer"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-drawer"></div>
</div>
</li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="drawer__footer">
            <nav class="nav nav--social" aria-label="Social">
                <ul class="nav__list">
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://github.com/cue-lang/cue"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--github"></use>
</svg>

                                <span class="nav__text">GitHub</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/slack">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--slack"></use>
</svg>

                                <span class="nav__text">Slack</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/discord">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-discord"></use>
</svg>

                                <span class="nav__text">Discord</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://twitter.com/cue_lang"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-x"></use>
</svg>

                                <span class="nav__text">X (Twitter)</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://bsky.app/profile/cuelang.org"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                <span class="nav__text">Bluesky</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://www.youtube.com/@cuelang/videos"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="/img/ui.svg#icon--social-youtube"></use>
</svg>

                                <span class="nav__text">YouTube</span>
                            </a>
                        </li>
                    
                </ul>
            </nav>
        </div>
    </div>
</div>

        

    
    <script src="/js/main.min.f4174e980af6f5e0cedc0ce09a77d6f3a18405dee07c4cdd87543814539fabb3.js" integrity="sha256-9BdOmAr29eDO3AzgmnfW86GEBd7gfEzdh1Q4FFOfq7M=" async></script>






    </body>
</html>
