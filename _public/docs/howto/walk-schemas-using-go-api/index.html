<!doctype html>
<html lang="en" dir="ltr" class="no-js">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This guide demonstrates how to walk a CUE schema using the Go API, programmatically inspecting its structure and types. The Go code shown here is a limited code â€¦">
<meta name="generator" content="Hugo 0.147.5">

<meta name="robots" content="noindex, nofollow">

<link rel="canonical" href="https://cuelang.org/docs/howto/walk-schemas-using-go-api/" />
<link rel="shortcut icon" href="/favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/webmanifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#232a68">
<meta name="msapplication-TileColor" content="#232a68">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#232a68">

<title>Walking schemas using the Go API | CUE</title><meta property="og:url" content="//localhost:1313/docs/howto/walk-schemas-using-go-api/">
  <meta property="og:site_name" content="CUE">
  <meta property="og:title" content="Walking schemas using the Go API">
  <meta property="og:description" content="This guide demonstrates how to walk a CUE schema using the Go API, programmatically inspecting its structure and types. The Go code shown here is a limited code generator and, as presented, it generates Go structs from simple CUE definitions. It could be adapted to other schema-walking tasks - not just code generation.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-05-23T16:51:37+01:00">
    <meta property="og:image" content="//localhost:1313/img/social.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="//localhost:1313/img/social.png">
  <meta name="twitter:title" content="Walking schemas using the Go API">
  <meta name="twitter:description" content="This guide demonstrates how to walk a CUE schema using the Go API, programmatically inspecting its structure and types. The Go code shown here is a limited code generator and, as presented, it generates Go structs from simple CUE definitions. It could be adapted to other schema-walking tasks - not just code generation.">





<link href="/scss/main.css" rel="stylesheet">



<link rel="preload" href="/fonts/inter/regular.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/500.woff2" as="font" crossorigin="anonymous">
<link rel="preload" href="/fonts/inter/700.woff2" as="font" crossorigin="anonymous">



<script>(()=>{document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js")})()</script>
</head>
    <body itemscope itemtype="https://schema.org/WebPage">
        <meta itemprop="name" content="Walking schemas using the Go API">
<meta itemprop="description" content="This guide demonstrates how to walk a CUE schema using the Go API, programmatically inspecting its structure and types. The Go code shown here is a limited code generator and, as presented, it generates Go structs from simple CUE definitions. It could be adapted to other schema-walking tasks - not just code generation.
">

    
        <meta itemprop="dateModified" content="2025-05-23T16:51:37+01:00" >
    
            
        <meta itemprop="image" content="//localhost:1313/img/social.png"/>
            
    <meta itemprop="keywords" content="go api," />

        <a id="skip-nav" class="skip-link" href="#site-main" target="_self">Skip to content</a>

        <div class="site">
            <header id="site-header" class="site__header">
                

<div class="header header--wide" data-header>
    <div class="header__container">
        <div class="header__background"></div>

        <div class="header__branding">
            <a href="/" class="header__logo" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </div>

        <div class="header__main">
            <nav class="nav nav--main" aria-label="Main menu">
                <ul class="nav__list">
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/docs/"><span class="nav__text">Documentation</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/play/"><span class="nav__text">Play</span></a>
                        </li>
                    
                        <li class="nav__item"><a class="nav__link"
                               href="/community/"><span class="nav__text">Community</span></a>
                        </li>
                    
                </ul>
            </nav>
        </div>

        <div class="header__secondary">
            <div class="header__icons">
                <nav class="nav nav--social" aria-label="Social">
                    <ul class="nav__list"><li class="nav__item"><a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--github"></use>
</svg>

                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/slack">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--slack"></use>
</svg>

                                    <span class="nav__text">Slack</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="/s/discord">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-discord"></use>
</svg>

                                    <span class="nav__text">Discord</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li><li class="nav__item"><a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-youtube"></use>
</svg>

                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li></ul>
                </nav>
            </div>

            <div class="header__cta"><a class="button button--skinny"
                       href="/docs/introduction/installation/"><span class="button__text">Install</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--download"></use>
</svg>
</a></div>

            <div class="header__search" data-menu>
                <a href="/search" class="button button--icon button--white-simple" rel="search" data-menu-dropdown="header-dropdown-search">



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--search"></use>
</svg>
<span>Search</span>
                </a>

                <div class="header__dropdown header__dropdown--search" data-menu-dropdown-target="header-dropdown-search">
                    <p class="header__search-title">What are you looking for?</p>





<div data-search-autocomplete="menu"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-menu"></div>
</div>
</div>
            </div>

            <div class="header__toggle">
                <button class="button button--outline" data-drawer-toggle="menu" aria-haspopup="menu" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="button__text">Menu</span>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--menu"></use>
</svg>
</button>
            </div>
        </div>
    </div>
</div>

            </header>

            <main id="site-main" class="site__content" itemprop="mainContentOfPage">
                

    <div class="docs" data-docs>
        <div class="docs__main">
            <nav class="breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb__list">
    

    
    

    
        <li class="breadcrumb__item"><a class="breadcrumb__link" href="//localhost:1313/docs/howto/">How-to Guides</a></li>
    
    

    
        <li class="breadcrumb__item" aria-current="page"><h1 class="breadcrumb__text">Walking schemas using the Go API</h1></li>
    
    </ol>
</nav>


            <article class="article article--docs" itemscope itemtype="https://schema.org/TechArticle">
                <meta itemprop="articleBody" content="This guide demonstrates how to walk a CUE schema using the Go API,
programmatically inspecting its structure and types.
The Go code shown here is a limited code generator and,
as presented, it generates Go structs from simple CUE definitions.
It could be adapted to other schema-walking tasks - not just code generation.

    




    

Initialize Go and CUE modules




1Create a Go module, or use an existing one if that&rsquo;s more suitable for your situation:

            TERMINAL
        
                Copy code
                
                    Copied!
                
            $ go mod init go.example
...







2Create a CUE module if you don&rsquo;t already have one:

            TERMINAL
        
                Copy code
                
                    Copied!
                
            $ cue mod init cue.example

The identifiers for the CUE and Go modules don&rsquo;t need to match, but it doesn&rsquo;t
matter if they&rsquo;re the same.




    




    

Declare a CUE schema




3Declare the CUE schema that you wish to walk.
We&rsquo;ll use the following example.cue file,
but you should use some CUE that&rsquo;s specific to your situation.



            

    


                            Copied!
                        
                    example.cue
            
        

                Copy code
                
                    Copied!
                
            package example

#Person: {
	name!: string
	age?:  int &amp; &gt;=0
}

#Address: {
	line1!:   string
	line2?:   string
	line3?:   string
	country?: string
}

aPerson: #Person &amp; {
	name: &#34;John Adams&#34;
}

anAddress: #Address &amp; {
	line1:   &#34;1600 Pennsylvania Ave NW&#34;
	line2:   &#34;Washington, DC 20500&#34;
	country: &#34;United States of America&#34;
}

someData: aValue:      42
_aHiddenField: aValue: 139




Our example.cue file contains two
definitions that we want to process:
#Person and #Address.
It also includes concrete data fields and a hidden field,
which we don&rsquo;t consider as schema. The data and hidden fields are included in
order to demonstrate that they are not processed by the code presented below.







4Ensure there are no errors in our CUE:

            TERMINAL
        
                Copy code
                
                    Copied!
                
            $ cue vet -c




    




    

Use a Go program to walk the schema




5Create the file main.go and add the following code:



            

    


                            Copied!
                        
                    main.go
            
        

                Copy code
                
                    Copied!
                
            package main

import (
	&#34;fmt&#34;
	&#34;log&#34;
	&#34;strings&#34;

	&#34;cuelang.org/go/cue&#34;
	&#34;cuelang.org/go/cue/cuecontext&#34;
	&#34;cuelang.org/go/cue/load&#34;
)

func main() {
	ctx := cuecontext.New()

	// Load CUE from the package in the current directory
	insts := load.Instances([]string{&#34;.&#34;}, nil)
	v := ctx.BuildInstance(insts[0])
	if err := v.Err(); err != nil {
		log.Fatal(err)
	}

	// &#34;Render&#34; the top-level struct definitions as Go types
	fmt.Printf(&#34;package p\n\n&#34;)

	it, err := v.Fields(cue.Definitions(true))
	if err != nil {
		log.Fatal(err)
	}
	for it.Next() {
		v := it.Value()
		if !it.Selector().IsDefinition() || v.IncompleteKind() != cue.StructKind {
			continue
		}
		structToType(it.Selector(), it.Value())
	}
}

// structToType prints the top-level fields of a struct value
func structToType(name cue.Selector, val cue.Value) {
	fmt.Printf(&#34;type %v struct {\n&#34;, strings.TrimPrefix(name.String(), &#34;#&#34;))

	// Iterate through the fields of the struct
	it, _ := val.Fields(cue.Optional(true))
	for it.Next() {
		switch k := it.Value().IncompleteKind(); k {
		case cue.StringKind, cue.IntKind, cue.FloatKind, cue.BoolKind:
			fmt.Printf(&#34;\t%v %v\n&#34;, it.Selector().Unquoted(), it.Value().IncompleteKind())
		}
	}

	fmt.Printf(&#34;}\n&#34;)
}










6Add a dependency on cuelang.org/go and ensure the Go module is tidy:

            TERMINAL
        
                Copy code
                
                    Copied!
                
            $ go get cuelang.org/go@v0.13.0
...
$ go mod tidy
...

You can use @latest in place of a specific version.







7Run the Go program:

            TERMINAL
        
                Copy code
                
                    Copied!
                
            $ go run .
package p

type Person struct {
	name string
	age int
}
type Address struct {
	line1 string
	line2 string
	line3 string
	country string
}

As you can see from its output, this Go program is a very limited form of code
generator that takes each CUE definition and produces a matching Go struct type.




    




    

Related content

The cue Go API
The cue/cuecontext Go API
The cue/load Go API
Reference: cue help mod init
Reference: cue help vet
Language Tour: Definitions
">
<meta itemprop="wordCount" content="571">


                <div class="article__container">
                    




        <header class="article__header">
        <div class="article__info"><div class="article__authors">


<div class="authors">
    
        
        

        
            <details class="authors__item" data-dropdown>
                <summary class="authors__avatar">
                    <img class="authors__image" src="https://github.com/myitcv.png" alt="myitcv">

                    
                        <span class="authors__display-name">Paul Jolly</span>
                    
                </summary>

                <div class="authors--popover">
                    <div class="authors__avatar">
                        <img class="authors__image" src="https://github.com/myitcv.png" alt="myitcv">

                        <div class="authors__name">
                            
                                <span class="authors__display-name">Paul Jolly</span>
                            

                        </div>
                    </div>

                    <div class="authors__links">
                        <div class="authors__github">

                            <a class="authors__link" href="https://github.com/myitcv">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--github"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Github profile</span>
                                </p>
                            </a>
                        </div>

                        <div class="authors__search">
                            <a class="authors__link" href="/search/?q=author:myitcv">
                                



<svg class="icon authors__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--search"></use>
</svg>

                                <p>
                                    <span class="authors__link-text">Search all content by this author</span>
                                </p>
                            </a>
                        </div>
                    </div>
                </div>
            </details>
        
    
</div>
</div><div class="article__tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:%22go%20api%22"
                class="tag tag--lavender">
                    go api
                </a>
            </li></ul>

</div></div></header>



                    <div class="article__content">
                        
                            <p>This guide demonstrates how to walk a CUE schema using the Go API,
programmatically inspecting its structure and types.
The Go code shown here is a limited code generator and,
as presented, it generates Go structs from simple CUE definitions.
It could be adapted to other schema-walking tasks - not just code generation.</p>
<h2 id="initialize-go-and-cue-modules">
    <a href="#initialize-go-and-cue-modules" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Initialize Go and CUE modules</h2>




<div class="step" id="step-1" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-1" data-step-number="1">1</a><div class="step__content"><p>Create a Go module, or use an existing one if that&rsquo;s more suitable for your situation:</p>
<div class="code-block code-block--heading code-block--terminal"data-copy><div class="code-block__heading">
            <span class="code-block__tab">TERMINAL</span>
        </div><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Z28gbW9kIGluaXQgZ28uZXhhbXBsZQ==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ go mod init go.example
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div></div>
</div></div>
</div>





<div class="step" id="step-2" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-2" data-step-number="2">2</a><div class="step__content"><p>Create a CUE module if you don&rsquo;t already have one:</p>
<div class="code-block code-block--heading code-block--terminal"data-copy><div class="code-block__heading">
            <span class="code-block__tab">TERMINAL</span>
        </div><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIG1vZCBpbml0IGN1ZS5leGFtcGxl">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ cue mod init cue.example</span></span></code></pre></div></div>
</div>
<p>The identifiers for the CUE and Go modules don&rsquo;t need to match, but it doesn&rsquo;t
matter if they&rsquo;re the same.</p>
</div>
</div>

<h2 id="declare-a-cue-schema">
    <a href="#declare-a-cue-schema" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Declare a CUE schema</h2>




<div class="step" id="step-3" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-3" data-step-number="3">3</a><div class="step__content"><p>Declare the CUE schema that you wish to walk.
We&rsquo;ll use the following <code>example.cue</code> file,
but you should use some CUE that&rsquo;s specific to your situation.</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top-left">
<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="example.cue"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="example.cue">
<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>example.cue
            </div>
        </div></div>
<div class="tabs__content"><div data-tab-item="example.cue"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBleGFtcGxlCgojUGVyc29uOiB7CgluYW1lITogc3RyaW5nCglhZ2U/OiAgaW50ICYgPj0wCn0KCiNBZGRyZXNzOiB7CglsaW5lMSE6ICAgc3RyaW5nCglsaW5lMj86ICAgc3RyaW5nCglsaW5lMz86ICAgc3RyaW5nCgljb3VudHJ5Pzogc3RyaW5nCn0KCmFQZXJzb246ICNQZXJzb24gJiB7CgluYW1lOiAiSm9obiBBZGFtcyIKfQoKYW5BZGRyZXNzOiAjQWRkcmVzcyAmIHsKCWxpbmUxOiAgICIxNjAwIFBlbm5zeWx2YW5pYSBBdmUgTlciCglsaW5lMjogICAiV2FzaGluZ3RvbiwgREMgMjA1MDAiCgljb3VudHJ5OiAiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhIgp9Cgpzb21lRGF0YTogYVZhbHVlOiAgICAgIDQyCl9hSGlkZGVuRmllbGQ6IGFWYWx1ZTogMTM5">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cue" data-lang="cue"><span style="display:flex;"><span><span style="font-weight:bold">package</span> example
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#Person<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">!:</span> <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	age<span style="font-weight:bold">?:</span>  <span style="color:#458;font-weight:bold">int</span> <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">&gt;=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#Address<span style="font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>	line1<span style="font-weight:bold">!:</span>   <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	line2<span style="font-weight:bold">?:</span>   <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	line3<span style="font-weight:bold">?:</span>   <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>	country<span style="font-weight:bold">?:</span> <span style="color:#458;font-weight:bold">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>aPerson<span style="font-weight:bold">:</span> #Person <span style="font-weight:bold">&amp;</span> {
</span></span><span style="display:flex;"><span>	name<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;John Adams&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>anAddress<span style="font-weight:bold">:</span> #Address <span style="font-weight:bold">&amp;</span> {
</span></span><span style="display:flex;"><span>	line1<span style="font-weight:bold">:</span>   <span style="color:#b84">&#34;1600 Pennsylvania Ave NW&#34;</span>
</span></span><span style="display:flex;"><span>	line2<span style="font-weight:bold">:</span>   <span style="color:#b84">&#34;Washington, DC 20500&#34;</span>
</span></span><span style="display:flex;"><span>	country<span style="font-weight:bold">:</span> <span style="color:#b84">&#34;United States of America&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>someData<span style="font-weight:bold">:</span> aValue<span style="font-weight:bold">:</span>      <span style="color:#099">42</span>
</span></span><span style="display:flex;"><span>_aHiddenField<span style="font-weight:bold">:</span> aValue<span style="font-weight:bold">:</span> <span style="color:#099">139</span></span></span></code></pre></div></div>
</div>
</div></div>
</div>
</div></div>
<p>Our <code>example.cue</code> file contains two
<a href="/docs/tour/types/definitions/">definitions</a> that we want to process:
<code>#Person</code> and <code>#Address</code>.
It also includes concrete data fields and a hidden field,
which we don&rsquo;t consider as schema. The data and hidden fields are included in
order to demonstrate that they are <em>not</em> processed by the code presented below.</p>
</div>
</div>





<div class="step" id="step-4" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-4" data-step-number="4">4</a><div class="step__content"><p>Ensure there are no errors in our CUE:</p>
<div class="code-block code-block--heading code-block--terminal"data-copy><div class="code-block__heading">
            <span class="code-block__tab">TERMINAL</span>
        </div><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Y3VlIHZldCAtYw==">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ cue vet -c</span></span></code></pre></div></div>
</div></div>
</div>

<h2 id="use-a-go-program-to-walk-the-schema">
    <a href="#use-a-go-program-to-walk-the-schema" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Use a Go program to walk the schema</h2>




<div class="step" id="step-5" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-5" data-step-number="5">5</a><div class="step__content"><p>Create the file <code>main.go</code> and add the following code:</p>
<div class="code-tabs"><div class="code-tabs__item code-tabs__item--top-left">
<div class="tabs tabs--code" data-tabs data-group="default">
<div class="tabs__nav tabs-nav tabs-nav--code" data-tabs-nav><div class="tabs-nav__item">
            <div
                data-tab-item="main.go"
                data-tab-group="default"
                class="tabs-nav__tab"data-copy><button title="Copy filename" class="tabs-nav__copy" data-copy-button data-copy-type="text" data-copy-value="main.go">
<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--file"></use>
</svg>
<span class="tabs-nav__message is-hidden" data-copy-message aria-hidden="true">
                            Copied!
                        </span>
                    </button>main.go
            </div>
        </div></div>
<div class="tabs__content"><div data-tab-item="main.go"
            data-tab-group="default"
            class="tabs__item is-active"
        ><div class="code-block code-block--tab"data-copy><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="cGFja2FnZSBtYWluCgppbXBvcnQgKAoJImZtdCIKCSJsb2ciCgkic3RyaW5ncyIKCgkiY3VlbGFuZy5vcmcvZ28vY3VlIgoJImN1ZWxhbmcub3JnL2dvL2N1ZS9jdWVjb250ZXh0IgoJImN1ZWxhbmcub3JnL2dvL2N1ZS9sb2FkIgopCgpmdW5jIG1haW4oKSB7CgljdHggOj0gY3VlY29udGV4dC5OZXcoKQoKCS8vIExvYWQgQ1VFIGZyb20gdGhlIHBhY2thZ2UgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5CglpbnN0cyA6PSBsb2FkLkluc3RhbmNlcyhbXXN0cmluZ3siLiJ9LCBuaWwpCgl2IDo9IGN0eC5CdWlsZEluc3RhbmNlKGluc3RzWzBdKQoJaWYgZXJyIDo9IHYuRXJyKCk7IGVyciAhPSBuaWwgewoJCWxvZy5GYXRhbChlcnIpCgl9CgoJLy8gIlJlbmRlciIgdGhlIHRvcC1sZXZlbCBzdHJ1Y3QgZGVmaW5pdGlvbnMgYXMgR28gdHlwZXMKCWZtdC5QcmludGYoInBhY2thZ2UgcFxuXG4iKQoKCWl0LCBlcnIgOj0gdi5GaWVsZHMoY3VlLkRlZmluaXRpb25zKHRydWUpKQoJaWYgZXJyICE9IG5pbCB7CgkJbG9nLkZhdGFsKGVycikKCX0KCWZvciBpdC5OZXh0KCkgewoJCXYgOj0gaXQuVmFsdWUoKQoJCWlmICFpdC5TZWxlY3RvcigpLklzRGVmaW5pdGlvbigpIHx8IHYuSW5jb21wbGV0ZUtpbmQoKSAhPSBjdWUuU3RydWN0S2luZCB7CgkJCWNvbnRpbnVlCgkJfQoJCXN0cnVjdFRvVHlwZShpdC5TZWxlY3RvcigpLCBpdC5WYWx1ZSgpKQoJfQp9CgovLyBzdHJ1Y3RUb1R5cGUgcHJpbnRzIHRoZSB0b3AtbGV2ZWwgZmllbGRzIG9mIGEgc3RydWN0IHZhbHVlCmZ1bmMgc3RydWN0VG9UeXBlKG5hbWUgY3VlLlNlbGVjdG9yLCB2YWwgY3VlLlZhbHVlKSB7CglmbXQuUHJpbnRmKCJ0eXBlICV2IHN0cnVjdCB7XG4iLCBzdHJpbmdzLlRyaW1QcmVmaXgobmFtZS5TdHJpbmcoKSwgIiMiKSkKCgkvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGZpZWxkcyBvZiB0aGUgc3RydWN0CglpdCwgXyA6PSB2YWwuRmllbGRzKGN1ZS5PcHRpb25hbCh0cnVlKSkKCWZvciBpdC5OZXh0KCkgewoJCXN3aXRjaCBrIDo9IGl0LlZhbHVlKCkuSW5jb21wbGV0ZUtpbmQoKTsgayB7CgkJY2FzZSBjdWUuU3RyaW5nS2luZCwgY3VlLkludEtpbmQsIGN1ZS5GbG9hdEtpbmQsIGN1ZS5Cb29sS2luZDoKCQkJZm10LlByaW50ZigiXHQldiAldlxuIiwgaXQuU2VsZWN0b3IoKS5VbnF1b3RlZCgpLCBpdC5WYWx1ZSgpLkluY29tcGxldGVLaW5kKCkpCgkJfQoJfQoKCWZtdC5QcmludGYoIn1cbiIpCn0=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="font-weight:bold">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;cuelang.org/go/cue&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;cuelang.org/go/cue/cuecontext&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#b84">&#34;cuelang.org/go/cue/load&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	ctx <span style="font-weight:bold">:=</span> cuecontext.<span style="color:#900;font-weight:bold">New</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Load CUE from the package in the current directory</span>
</span></span><span style="display:flex;"><span>	insts <span style="font-weight:bold">:=</span> load.<span style="color:#900;font-weight:bold">Instances</span>([]<span style="color:#458;font-weight:bold">string</span>{<span style="color:#b84">&#34;.&#34;</span>}, <span style="font-weight:bold">nil</span>)
</span></span><span style="display:flex;"><span>	v <span style="font-weight:bold">:=</span> ctx.<span style="color:#900;font-weight:bold">BuildInstance</span>(insts[<span style="color:#099">0</span>])
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">if</span> err <span style="font-weight:bold">:=</span> v.<span style="color:#900;font-weight:bold">Err</span>(); err <span style="font-weight:bold">!=</span> <span style="font-weight:bold">nil</span> {
</span></span><span style="display:flex;"><span>		log.<span style="color:#900;font-weight:bold">Fatal</span>(err)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// &#34;Render&#34; the top-level struct definitions as Go types</span>
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#900;font-weight:bold">Printf</span>(<span style="color:#b84">&#34;package p\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	it, err <span style="font-weight:bold">:=</span> v.<span style="color:#900;font-weight:bold">Fields</span>(cue.<span style="color:#900;font-weight:bold">Definitions</span>(<span style="font-weight:bold">true</span>))
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">if</span> err <span style="font-weight:bold">!=</span> <span style="font-weight:bold">nil</span> {
</span></span><span style="display:flex;"><span>		log.<span style="color:#900;font-weight:bold">Fatal</span>(err)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">for</span> it.<span style="color:#900;font-weight:bold">Next</span>() {
</span></span><span style="display:flex;"><span>		v <span style="font-weight:bold">:=</span> it.<span style="color:#900;font-weight:bold">Value</span>()
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">if</span> !it.<span style="color:#900;font-weight:bold">Selector</span>().<span style="color:#900;font-weight:bold">IsDefinition</span>() <span style="font-weight:bold">||</span> v.<span style="color:#900;font-weight:bold">IncompleteKind</span>() <span style="font-weight:bold">!=</span> cue.StructKind {
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#900;font-weight:bold">structToType</span>(it.<span style="color:#900;font-weight:bold">Selector</span>(), it.<span style="color:#900;font-weight:bold">Value</span>())
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// structToType prints the top-level fields of a struct value</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">structToType</span>(name cue.Selector, val cue.Value) {
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#900;font-weight:bold">Printf</span>(<span style="color:#b84">&#34;type %v struct {\n&#34;</span>, strings.<span style="color:#900;font-weight:bold">TrimPrefix</span>(name.<span style="color:#900;font-weight:bold">String</span>(), <span style="color:#b84">&#34;#&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Iterate through the fields of the struct</span>
</span></span><span style="display:flex;"><span>	it, _ <span style="font-weight:bold">:=</span> val.<span style="color:#900;font-weight:bold">Fields</span>(cue.<span style="color:#900;font-weight:bold">Optional</span>(<span style="font-weight:bold">true</span>))
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">for</span> it.<span style="color:#900;font-weight:bold">Next</span>() {
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">switch</span> k <span style="font-weight:bold">:=</span> it.<span style="color:#900;font-weight:bold">Value</span>().<span style="color:#900;font-weight:bold">IncompleteKind</span>(); k {
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">case</span> cue.StringKind, cue.IntKind, cue.FloatKind, cue.BoolKind:
</span></span><span style="display:flex;"><span>			fmt.<span style="color:#900;font-weight:bold">Printf</span>(<span style="color:#b84">&#34;\t%v %v\n&#34;</span>, it.<span style="color:#900;font-weight:bold">Selector</span>().<span style="color:#900;font-weight:bold">Unquoted</span>(), it.<span style="color:#900;font-weight:bold">Value</span>().<span style="color:#900;font-weight:bold">IncompleteKind</span>())
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	fmt.<span style="color:#900;font-weight:bold">Printf</span>(<span style="color:#b84">&#34;}\n&#34;</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
</div></div>
</div>
</div></div></div>
</div>





<div class="step" id="step-6" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-6" data-step-number="6">6</a><div class="step__content"><p>Add a dependency on <code>cuelang.org/go</code> and ensure the Go module is tidy:</p>
<div class="code-block code-block--heading code-block--terminal"data-copy><div class="code-block__heading">
            <span class="code-block__tab">TERMINAL</span>
        </div><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Z28gZ2V0IGN1ZWxhbmcub3JnL2dvQHYwLjEzLjAKZ28gbW9kIHRpZHk=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ go get cuelang.org/go@v0.13.0
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>$ go mod tidy
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div></div>
</div>
<p>You can use <code>@latest</code> in place of a specific version.</p>
</div>
</div>





<div class="step" id="step-7" data-step-group="false"><a class="button button--icon button--yellow step__number" href="#step-7" data-step-number="7">7</a><div class="step__content"><p>Run the Go program:</p>
<div class="code-block code-block--heading code-block--terminal"data-copy><div class="code-block__heading">
            <span class="code-block__tab">TERMINAL</span>
        </div><div class="code-block__highlight"><button class="code-block__copy" type="button" data-copy-button data-copy-type="code" data-copy-value="Z28gcnVuIC4=">
                <span>Copy code</span>
                <span class="code-block__message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ go run .
</span></span><span style="display:flex;"><span>package p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>type Person struct {
</span></span><span style="display:flex;"><span>	name string
</span></span><span style="display:flex;"><span>	age int
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>type Address struct {
</span></span><span style="display:flex;"><span>	line1 string
</span></span><span style="display:flex;"><span>	line2 string
</span></span><span style="display:flex;"><span>	line3 string
</span></span><span style="display:flex;"><span>	country string
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</div>
<p>As you can see from its output, this Go program is a very limited form of code
generator that takes each CUE definition and produces a matching Go struct type.</p>
</div>
</div>

<h2 id="related-content">
    <a href="#related-content" class="anchor" aria-label="Anchor">



<svg class="icon anchor__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>
</a>Related content</h2>
<ul>
<li>The <a href="https://pkg.go.dev/cuelang.org/go/cue"><code>cue</code></a> Go API</li>
<li>The <a href="https://pkg.go.dev/cuelang.org/go/cue/cuecontext"><code>cue/cuecontext</code></a> Go API</li>
<li>The <a href="https://pkg.go.dev/cuelang.org/go/cue/load"><code>cue/load</code></a> Go API</li>
<li>Reference: <a href="/docs/reference/command/cue-help-mod-init/">cue help mod init</a></li>
<li>Reference: <a href="/docs/reference/command/cue-help-vet/">cue help vet</a></li>
<li>Language Tour: <a href="/docs/tour/types/definitions/">Definitions</a></li>
</ul>
                        
                    </div>
    <footer class="article__footer">
    <div class="article__lastmod">
        <p class="lastmod">
         <a class="lastmod__link" href="https://github.com/cue-lang/cuelang.org/commit/229aa1e685e27a12f30ddcd92b3c231dac48942a">
                Last modified May 23, 2025</a>
    </p>

    </div>

    <div class="article__footer-meta"><div class="article__footer-tags">



    <ul class="list list--tags"><li class="list__item"><a href="/search?q=tag:%22go%20api%22"
                class="tag tag--lavender">
                    go api
                </a>
            </li></ul>

</div><div class="article__share"><details class="share" data-dropdown>
    <summary class="button button--icon button--light-blue share__button">
        



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--share"></use>
</svg>

        <span>Open share options</span>
    </summary>

    <ul class="share__list">
        <li class="share__item" data-copy>
            <button class="share__copy" data-copy-button data-copy-type="url" data-copy-value="//localhost:1313/docs/howto/walk-schemas-using-go-api/">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--link"></use>
</svg>

                <span class="share__link-text">Copy link</span>
                <span class="share__copy-message is-hidden" data-copy-message aria-hidden="true">
                    Copied!
                </span>
            </button>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank" href="https://twitter.com/intent/tweet?url=//localhost:1313/docs/howto/walk-schemas-using-go-api/&text=This%20guide%20demonstrates%20how%20to%20walk%20a%20CUE%20schema%20using%20the%20Go%20API,%20programmatically%20inspecting%20its%20structure%20and%20types.%20The%20Go%20code%20shown%20here%20is%20a%20limited%20code%20generator%20and,%20as%20presented,%20it%20generates%20Go%20structs%20from%20simple%20CUE%20definitions.%20It%20could%20be%20adapted%20to%20other%20schema-walking%20tasks%20-%20not%20just%20code%20generation.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                <p><span class="share__link-text">Share on X (Twitter)</span></p>
            </a>
        </li>

        <li class="share__item">
            <a class="share__link" target="_blank"
            href="https://www.linkedin.com/shareArticle?mini=true&url=//localhost:1313/docs/howto/walk-schemas-using-go-api/&summary=This%20guide%20demonstrates%20how%20to%20walk%20a%20CUE%20schema%20using%20the%20Go%20API,%20programmatically%20inspecting%20its%20structure%20and%20types.%20The%20Go%20code%20shown%20here%20is%20a%20limited%20code%20generator%20and,%20as%20presented,%20it%20generates%20Go%20structs%20from%20simple%20CUE%20definitions.%20It%20could%20be%20adapted%20to%20other%20schema-walking%20tasks%20-%20not%20just%20code%20generation.%0a">
                



<svg class="icon share__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-linkedin"></use>
</svg>

                <p><span class="share__link-text">Share on Linkedin</span></p>
            </a>
        </li>
    </ul>
</details>
</div>
    </div>
</footer>
</div>
            </article>

            



<div class="prevnext">
    <nav class="prevnext__container" aria-label="Previous/Next navigation"><a class="prevnext__prev" href="/docs/howto/validate-yaml-using-cue/" aria-label="Previous - Validating YAML using CUE">
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--circle-arrow-left"></use>
</svg>

                <span class="prevnext__text">Validating YAML using CUE</span>
            </a><a class="prevnext__next" href="/docs/howto/write-a-type-switch/" aria-label="Next - Writing a type switch">
                <span class="prevnext__text">Writing a type switch</span>
                



<svg class="icon prevnext__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--circle-arrow-right"></use>
</svg>

            </a></nav>
</div>

        </div>
        <div id="docs-menu" class="docs__aside">
            <div class="docs__backdrop" data-docs-close="docs"></div>
            <div class="docs__nav">
                <nav class="tree">
    <ul class="tree__list is-book">
        
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/introduction/" title="Introduction">
            <span class="tree__text">Introduction</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tour/" title="Tour">
            <span class="tree__text">Tour</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/integration/" title="Integrations">
            <span class="tree__text">Integrations</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/tutorial/" title="Tutorials">
            <span class="tree__text">Tutorials</span>
        </a>
    </li>
    
    
    

    <li class="tree__item has-children is-active-path">
        <a class="tree__link" href="/docs/howto/" title="How-to Guides">
            <span class="tree__text">How-to Guides</span>
        </a>
            <ul class="tree__list is-chapter">
                
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/howto/popular-guides/" title="Popular guides">
            <span class="tree__text">Popular guides</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/howto/about-commented-cue-guides/" title="Commented CUE Guides">
            <span class="tree__text">Commented CUE Guides</span>
        </a>
    </li>
                    
    
    
    

    <li class="tree__item is-active">
        <a class="tree__link" href="/docs/howto/walk-schemas-using-go-api/" title="Walking schemas using the Go API">
            <span class="tree__text">Walking schemas using the Go API</span>
        </a>
            

<nav id="TableOfContents" class="toc">
  <ol class="toc__list">
    <li class="toc__item"><a href="#initialize-go-and-cue-modules" class="toc__link"><span class="toc__text">Initialize Go and CUE modules</span></a></li>
    <li class="toc__item"><a href="#declare-a-cue-schema" class="toc__link"><span class="toc__text">Declare a CUE schema</span></a></li>
    <li class="toc__item"><a href="#use-a-go-program-to-walk-the-schema" class="toc__link"><span class="toc__text">Use a Go program to walk the schema</span></a></li>
    <li class="toc__item"><a href="#related-content" class="toc__link"><span class="toc__text">Related content</span></a></li>
  </ol>
</nav>

    </li>
            </ul>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/concept/" title="Concept Guides">
            <span class="tree__text">Concept Guides</span>
        </a>
    </li>
    
    
    

    <li class="tree__item">
        <a class="tree__link" href="/docs/reference/" title="References">
            <span class="tree__text">References</span>
        </a>
    </li>
    </ul>
</nav>



                <button type="button" class="docs__hide button button--icon button--raised button--light-blue"
                        aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--chevron-left"></use>
</svg>
<span>Hide side navigation</span>
                </button>
            </div>
        </div>

        <button type="button" class="docs__show button button--icon button--raised button--light-blue"
                aria-haspopup="menu" aria-expanded="false" aria-controls="docs-menu" data-docs-toggle>



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--chevron-right"></use>
</svg>
<span>Show side navigation</span>
        </button>
    </div>

            </main>

            <footer id="site-footer" class="site__footer">
                




<div class="footer">
    <div class="footer__sitemap">
        <nav class="footer__container" aria-label="Footer menu">
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Get Started</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/tour/">
                                    <span class="nav__text">Language Tour</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Playground</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install CUE</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Community</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/community">
                                    <span class="nav__text">The CUE Community</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue/blob/master/CONTRIBUTING.md#contribution-guide" target="_blank">
                                    <span class="nav__text">Contributing</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/docs/reference/code-of-conduct/">
                                    <span class="nav__text">Code of Conduct</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/slack">
                                    <span class="nav__text">Slack Workspace</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="/s/discord">
                                    <span class="nav__text">Discord Server</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
                
                <div class="nav nav--footer">
                    <p class="nav__title">Connect</p>

                    <ul class="nav__list">
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://github.com/cue-lang/cue" target="_blank">
                                    <span class="nav__text">GitHub</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://twitter.com/cue_lang" target="_blank">
                                    <span class="nav__text">X (Twitter)</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://bsky.app/profile/cuelang.org" target="_blank">
                                    <span class="nav__text">Bluesky</span>
                                </a>
                            </li>
                        
                            
                            <li class="nav__item">
                                <a class="nav__link"
                                   href="https://www.youtube.com/@cuelang/videos" target="_blank">
                                    <span class="nav__text">YouTube</span>
                                </a>
                            </li>
                        
                    </ul>
                </div>
            
        </nav>
    </div>

    <div class="footer__legal">
        <nav class="footer__container" aria-label="Legal">
            <div class="nav nav--legal">
                <ul class="nav__list">
                    <li class="nav__item">
                        <span class="nav__text">&copy; 2025 CUE</span>
                    </li>

                    
                        <li class="nav__item"><a class="nav__link"
                               href="/privacy-policy/">
                                <span class="nav__text">Privacy policy</span>
                            </a>
                        </li>
                    

                    <li class="nav__item">
                        <a class="nav__link" href="https://github.com/cue-lang/cue/issues/new?labels=Triage,NeedsInvestigation,cuelang.org&amp;title=cuelang.org:%20&amp;template=bug_report.md&amp;body=%23%23%23&#43;What&#43;page&#43;were&#43;you&#43;looking&#43;at%3F%0A%0A%2F%2Flocalhost%3A1313%2Fdocs%2Fhowto%2Fwalk-schemas-using-go-api%2F%0A%0A%23%23%23&#43;What&#43;version&#43;of&#43;the&#43;site&#43;were&#43;you&#43;looking&#43;at%3F%0A%0Ahttps%3A%2F%2Fgithub.com%2Fcue-lang%2Fcuelang.org%2Fcommit%2F51c481fbb8a5ad6f6c4ad3acc209db0d591988c7%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;do%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;expect%3F%0A%0A%0A%0A%23%23%23&#43;What&#43;did&#43;you&#43;see&#43;instead%3F%0A%0A" target="_blank">
                            <span class="nav__text">Report an Issue</span>
                        </a>
                    </li>
                </ul>
            </div>

            <a href="/" class="footer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>
        </nav>
    </div>
</div>

            </footer>
        </div>

        
                <div class="notification-bar is-hidden" data-notification-bar="cue-minor-release-v0.13">
        <div class="notification-bar__container">
            <div class="notification-bar__content">
                <strong>CUE v0.13 is now available</strong> &ndash; learn more about its <a href="https://github.com/cue-lang/cue/releases/tag/v0.13.0">new features and improvements</a>
            </div>
            <a class="button button--outline notification-bar__cta" href="/docs/introduction/installation/">
                    <span class="button__text">Install CUE</span>
                    



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--download"></use>
</svg>

                </a>
            <button type="button" class="button button--icon button--small notification-bar__close">
                



<svg class="icon button__icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--close"></use>
</svg>

                <span class="button__text">Close</span>
            </button>
        </div>
    </div>

        
        

<div id="mobile-menu" class="drawer drawer--mobile" data-drawer="menu">
    <div class="drawer__backdrop" data-drawer-close="menu"></div>
    <div class="drawer__container" tabindex="0">
        <div class="drawer__header">
            <a href="/" class="drawer__branding" rel="home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path class="logo__letters" d="M39.555 50.355c-6.853.0-11.907 5.133-11.907 13.602s5.027 13.602 11.907 13.602c5.818.0 10.073-3.648 10.94-8.883l-4.034-.012c-.686 3.389-3.532 5.252-6.88 5.252-4.541.0-7.968-3.533-7.968-9.957s3.414-9.955 7.979-9.955c3.373.0 6.207 1.902 6.865 5.328l.004-.002h4.033c-.906-5.664-5.34-8.975-10.94-8.975zm38.748.362-.002.004h.002zm0 .004v26.478H96.07v-3.44H82.297v-8.105h12.752V62.23H82.297V54.16h13.617v-3.44zm-24.823.0v17.521c0 5.974 4.651 9.4 10.51 9.4 5.86.0 10.528-3.426 10.528-9.4V50.721h-3.995v17.457c0 3.711-2.985 5.793-6.529 5.793s-6.517-2.082-6.517-5.793V50.72z"/><path class="logo__inner" d="M64 9.586C33.947 9.586 9.586 33.947 9.586 64S33.947 118.414 64 118.414 118.414 94.053 118.414 64 94.05 9.586 64 9.586zm0 105.973c-28.476.0-51.562-23.086-51.562-51.562S35.524 12.438 64 12.438 115.562 35.524 115.562 64 92.476 115.562 64 115.562z"/><path class="logo__outer" d="M64 0C28.653.0.0 28.653.0 64s28.653 64 64 64 64-28.653 64-64S99.347.0 64 0zm0 121.843C32.054 121.843 6.157 95.946 6.157 64S32.054 6.157 64 6.157 121.843 32.054 121.843 64 95.946 121.843 64 121.843z"/></svg>
                <span>Homepage of CUE</span>
            </a>

            <div class="drawer__close">
                <button type="button" class="button button--white button--icon" data-drawer-close="menu">
                    



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--close"></use>
</svg>

                    <span class="button__text">Hide menu</span>
                </button>
            </div>
        </div>

        <div class="drawer__content">
            <div class="drawer__menu">
                <nav class="nav nav--mobile" aria-label="Mobile menu">
                    <ul class="nav__list">
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/">
                                    <span class="nav__text">Documentation</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/play/">
                                    <span class="nav__text">Play</span>
                                </a>
                            </li>
                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/community/">
                                    <span class="nav__text">Community</span>
                                </a>
                            </li>
                        

                        
                            <li class="nav__item">
                                
                                <a class="nav__link"
                                   href="/docs/introduction/installation/">
                                    <span class="nav__text">Install</span>
                                </a>
                            </li>
                        

                        <li class="nav__item nav__item--search">





<div data-search-autocomplete="drawer"
     data-searchbar-size="small"
     data-searchbar-placeholder=""
>
    <div id="autocomplete-drawer"></div>
</div>
</li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="drawer__footer">
            <nav class="nav nav--social" aria-label="Social">
                <ul class="nav__list">
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://github.com/cue-lang/cue"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--github"></use>
</svg>

                                <span class="nav__text">GitHub</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/slack">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--slack"></use>
</svg>

                                <span class="nav__text">Slack</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="/s/discord">
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-discord"></use>
</svg>

                                <span class="nav__text">Discord</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://twitter.com/cue_lang"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-x"></use>
</svg>

                                <span class="nav__text">X (Twitter)</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://bsky.app/profile/cuelang.org"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-bluesky"></use>
</svg>

                                <span class="nav__text">Bluesky</span>
                            </a>
                        </li>
                    
                        <li class="nav__item">
                            
                            <a class="nav__link"
                               href="https://www.youtube.com/@cuelang/videos"target="_blank" >
                                



<svg class="icon" aria-hidden="true">
    <use xmlns:xlink="http://www.w3.org/1999/xlink"
         xlink:href="//localhost:1313/img/ui.svg#icon--social-youtube"></use>
</svg>

                                <span class="nav__text">YouTube</span>
                            </a>
                        </li>
                    
                </ul>
            </nav>
        </div>
    </div>
</div>

        

    <script src="/js/main.js" defer></script>






    </body>
</html>
