# Ensure that preprocessor understands the various forms of text/template
# shorthand that we use.

unquote content/dir/en.md
unquote hugo/content/en/dir/index.md.golden

# Run the preprocessor
exec preprocessor execute --debug

# Verify that the target files matche the source contents
cmp hugo/content/en/dir/index.md hugo/content/en/dir/index.md.golden

-- content/dir/en.md --
>---
>title: JSON Superset
>---
>
>```coq
>{{{ with sidebyside "en" "json-superset" }}}
>exec cue export in.cue
>cmp stdout stdout.json
>-- in.cue --
>// A doc comment
>map: {
>	member1: 3 // a line comment
>  member2: 4
>}
>-- stdout.json --
>{
>    "map": {
>        "member1": 3,
>        "member2": 4,
>    }
>}
>{{{end}}}
>```
-- hugo/content/en/dir/index.md.golden --
>---
>title: JSON Superset
>---
>
>```coq
>{{{ with sidebyside "en" "json-superset" }}}
>exec cue export in.cue
>cmp stdout stdout.json
>-- in.cue --
>// A doc comment
>map: {
>	member1: 3 // a line comment
>  member2: 4
>}
>-- stdout.json --
>{
>    "map": {
>        "member1": 3,
>        "member2": 4,
>    }
>}
>{{{end}}}
>```
